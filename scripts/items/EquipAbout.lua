--升阶消耗
local UpCost = {
    --武器
    [1]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}}, --步兵
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --盾牌
    [2]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --帽子
    [3]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --胸甲
    [4]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --鞋子
    [5]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --项链
    [6]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
}

function UpgradeCost(player, cls, index, lev)
    local package = player:GetPackage()
    local cls = player:Get
    if index > #UpCost then
        return false
    end

    if lev > #UpCost[index] then
        return false
    end

    if cls > #UpCost[index][lev] then
        return false
    end

    local items = UpCost[index][lev][cls]

    for k = 1,#items do
        local count = package:GetItemCount(items[1][1])
        if count < items[1][2] then
            return false
        end
    end

    for k = 1,#items do
        local count = package:DelAllItem(items[1][1], items[1][2])
    end
    return true
end

--士兵升阶
local UpSoldierCost = {
    --武装
    [1]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}}, --步兵
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --士气
    [2]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --体能
    [3]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --身手
    [4]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --纪律
    [5]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --操练
    [6]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
}

function UpgradeSoldierCost(player, cls, index, lev)
    local package = player:GetPackage()
    local cls = player:Get
    if index > #UpSoldierCost then
        return false
    end

    if lev > #UpSoldierCost[index] then
        return false
    end

    if cls > #UpSoldierCost[index][lev] then
        return false
    end

    local items = UpSoldierCost[index][lev][cls]

    for k = 1,#items do
        local count = package:GetItemCount(items[1][1])
        if count < items[1][2] then
            return false
        end
    end

    for k = 1,#items do
        local count = package:DelAllItem(items[1][1], items[1][2])
    end
    return true
end


local EnchantSoldierCost = {
    --武装
    [1]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}}, --步兵
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --士气
    [2]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --体能
    [3]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --身手
    [4]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --纪律
    [5]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
    --操练
    [6]={
        --目标阶数
        [1]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [2]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [3]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
        [4]={
            --物品及数量
            [1]={{1,1},{2,1},{3,1}},
            [2]={{1,1},{2,1},{3,1}}, --骑兵
            [3]={{1,1},{2,1},{3,1}}, --弓兵
            [4]={{1,1},{2,1},{3,1}}, --弓兵
            [5]={{1,1},{2,1},{3,1}}, --枪兵
        },
    },
}

function EnchantSoldierCost(player, cls, index , lev)  --玩家指针，职业，部位，等级
    local package = player:GetPackage()
    local cls = player:Get
    if index > #EnchantSoldierCost then
        return false
    end

    if lev > #EnchantSoldierCost[index] then
        return false
    end

    if cls > #EnchantSoldierCost[index][lev] then
        return false
    end

    local items = EnchantSoldierCost[index][lev][cls]

    for k = 1,#items do
        local count = package:GetItemCount(items[1][1])
        if count < items[1][2] then
            return false
        end
    end

    for k = 1,#items do
        local count = package:DelAllItem(items[1][1], items[1][2])
    end
    return true
end
