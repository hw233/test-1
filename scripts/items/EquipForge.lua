
--装备强化费用
local Enchant_cost = 10
--宝石合成费用
local Merge_cost = 10
--宝石拆卸费用
local Detach_cost = 10
--装备分解费用
local Split_cost = 10
--装备锻造费用
local Forge_cost = 10

--装备打孔失败概率
local Socket_chance = {0, 0, 0, 0, 0, 0}

local Split_chance = {
    {10, 0},            --绿色装备分解概率
    {30, 0},            --蓝色装备分解概率
    {90, 10},            --紫色装备分解概率
    {60, 40}            --橙色装备分解概率
}

--强化概率
local Enchant_chance = {
    {1000,  900,  600,  400,  200,  100,  50,   10,   2,    1},    -- 装备强化概率
    {1000, 900, 800,  700,  600,  500,  400,  300},    -- 绿色法宝强化概率
    {1000, 900,  600,  400,  200,  100,  50,  50},    -- 蓝色法宝强化概率
    {1000,  800,  450,  200,  100,  50,  20,   10},    -- 紫色法宝强化概率
    {1000,  800,  400,  100,   50,   10,    5,    1},    -- 橙色法宝强化概率
}

local Enchant_max = {7, 7, 7, 7, 8, 10, 10, 10, 10, 11, 12}

--2级至10级宝石的合成概率
local Merge_chance = {900, 800, 700, 600, 500, 400, 300, 200, 100}



local AttrTypeChances = {
--  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗 
    {1500,  2500,   3900,   5000,   6200,   7300,   8400,   9200,   10000},      --蓝色装备
    {1500,  2500,   3900,   5000,   6200,   7300,   8400,   9200,   10000},      --紫色装备
    {1500,  2500,   3900,   5000,   6200,   7300,   8400,   9200,   10000}      --橙色装备
}

local AttrChances = {
--  1段     2段     3段     4段     5段     6段     7段     8段     9段
    {3500,   5500,   7000,   8000,   8800,   9400,   9800,   10000},      --蓝色装备
    {3500,   6500,   8200,   9200,   9650,   9850,   9950,   10000},      --紫色装备
    {3500,   6500,   8500,   9500,   9870,   9970,   9990,   10000}      --橙色装备
}

local AttrDics = {
--  1段     2段     3段     4段     5段     6段     7段     8段     9段
    {38,   40,   45,   51,   58,   66,   75,   85,   100},
    {33,   35,   40,   45,   50,   55,   65,   80,   100},
    {28,   30,   35,   40,   45,   54,   65,   80,   100}   --橙色装备
}

local AttrMax = {
    {   -- 蓝色
        {   -- 儒释道
        --  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗
	{0.04, 	0.03, 	0.023, 	0.024, 	0.023, 	0.023, 	0.023, 	0.023, 	0.024},
	{0.07, 	0.05, 	0.044, 	0.046, 	0.044, 	0.044, 	0.044, 	0.044, 	0.046},
	{0.11, 	0.08, 	0.065, 	0.068, 	0.065, 	0.065, 	0.065, 	0.065, 	0.068},
	{0.14, 	0.11, 	0.086, 	0.090, 	0.086, 	0.086, 	0.086, 	0.086, 	0.090},
	{0.18, 	0.13, 	0.108, 	0.112, 	0.108, 	0.108, 	0.108, 	0.108, 	0.112},
	{0.21, 	0.16, 	0.129, 	0.133, 	0.129, 	0.129, 	0.129, 	0.129, 	0.133},
	{0.25, 	0.18, 	0.150, 	0.155, 	0.150, 	0.150, 	0.150, 	0.150, 	0.155},
	{0.28, 	0.21, 	0.171, 	0.177, 	0.171, 	0.171, 	0.171, 	0.171, 	0.177},
	{0.32, 	0.23, 	0.192, 	0.199, 	0.192, 	0.192, 	0.192, 	0.192, 	0.199},
	{0.36, 	0.26, 	0.213, 	0.221, 	0.213, 	0.213, 	0.213, 	0.213, 	0.221},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0}

        },  -- 儒释道

        {   -- 儒
        --  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗
	{0.04, 	0.03, 	0.023, 	0.023, 	0.023, 	0.026, 	0.023, 	0.021, 	0.023},
	{0.07, 	0.05, 	0.044, 	0.044, 	0.044, 	0.049, 	0.044, 	0.039, 	0.044},
	{0.11, 	0.08, 	0.065, 	0.065, 	0.065, 	0.073, 	0.065, 	0.058, 	0.065},
	{0.14, 	0.11, 	0.086, 	0.086, 	0.086, 	0.096, 	0.086, 	0.077, 	0.086},
	{0.18, 	0.13, 	0.108, 	0.108, 	0.108, 	0.120, 	0.108, 	0.096, 	0.108},
	{0.21, 	0.16, 	0.129, 	0.129, 	0.129, 	0.143, 	0.129, 	0.114, 	0.129},
	{0.25, 	0.18, 	0.150, 	0.150, 	0.150, 	0.166, 	0.150, 	0.133, 	0.150},
	{0.28, 	0.21, 	0.171, 	0.171, 	0.171, 	0.190, 	0.171, 	0.152, 	0.171},
	{0.32, 	0.23, 	0.192, 	0.192, 	0.192, 	0.213, 	0.192, 	0.171, 	0.192},
	{0.36, 	0.26, 	0.213, 	0.213, 	0.213, 	0.237, 	0.213, 	0.189, 	0.213},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0}
        },  -- 儒

        {   -- 释
        --  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗
	{0.04, 	0.03, 	0.026, 	0.023, 	0.021, 	0.023, 	0.026, 	0.023, 	0.026},
	{0.07, 	0.06, 	0.049, 	0.044, 	0.039, 	0.044, 	0.049, 	0.044, 	0.049},
	{0.11, 	0.09, 	0.073, 	0.065, 	0.058, 	0.065, 	0.073, 	0.065, 	0.073},
	{0.14, 	0.12, 	0.096, 	0.086, 	0.077, 	0.086, 	0.096, 	0.086, 	0.096},
	{0.18, 	0.14, 	0.120, 	0.108, 	0.096, 	0.108, 	0.120, 	0.108, 	0.120},
	{0.21, 	0.17, 	0.143, 	0.129, 	0.114, 	0.129, 	0.143, 	0.129, 	0.143},
	{0.25, 	0.20, 	0.166, 	0.150, 	0.133, 	0.150, 	0.166, 	0.150, 	0.166},
	{0.28, 	0.23, 	0.190, 	0.171, 	0.152, 	0.171, 	0.190, 	0.171, 	0.190},
	{0.32, 	0.26, 	0.213, 	0.192, 	0.171, 	0.192, 	0.213, 	0.192, 	0.213},
	{0.36, 	0.28, 	0.237, 	0.213, 	0.189, 	0.213, 	0.237, 	0.213, 	0.237},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0}
        },  -- 释

        {   -- 道
        --  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗
	{0.04, 	0.03, 	0.021, 	0.026, 	0.026, 	0.021, 	0.021, 	0.026, 	0.023},
	{0.07, 	0.05, 	0.039, 	0.049, 	0.049, 	0.039, 	0.039, 	0.049, 	0.044},
	{0.11, 	0.07, 	0.058, 	0.073, 	0.073, 	0.058, 	0.058, 	0.073, 	0.065},
	{0.14, 	0.10, 	0.077, 	0.096, 	0.096, 	0.077, 	0.077, 	0.096, 	0.086},
	{0.18, 	0.12, 	0.096, 	0.120, 	0.120, 	0.096, 	0.096, 	0.120, 	0.108},
	{0.21, 	0.14, 	0.114, 	0.143, 	0.143, 	0.114, 	0.114, 	0.143, 	0.129},
	{0.25, 	0.17, 	0.133, 	0.166, 	0.166, 	0.133, 	0.133, 	0.166, 	0.150},
	{0.28, 	0.19, 	0.152, 	0.190, 	0.190, 	0.152, 	0.152, 	0.190, 	0.171},
	{0.32, 	0.21, 	0.171, 	0.213, 	0.213, 	0.171, 	0.171, 	0.213, 	0.192},
	{0.36, 	0.24, 	0.189, 	0.237, 	0.237, 	0.189, 	0.189, 	0.237, 	0.213},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0}
        }  -- 道
    },  -- 蓝色

    {   -- 紫色
        {   -- 儒释道
        --  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗
	{0.08, 	0.06, 	0.046, 	0.048, 	0.046, 	0.046, 	0.046, 	0.046, 	0.048},
	{0.15, 	0.11, 	0.089, 	0.092, 	0.089, 	0.089, 	0.089, 	0.089, 	0.092},
	{0.22, 	0.16, 	0.131, 	0.136, 	0.131, 	0.131, 	0.131, 	0.131, 	0.136},
	{0.29, 	0.21, 	0.173, 	0.179, 	0.173, 	0.173, 	0.173, 	0.173, 	0.179},
	{0.36, 	0.26, 	0.215, 	0.223, 	0.215, 	0.215, 	0.215, 	0.215, 	0.223},
	{0.43, 	0.31, 	0.257, 	0.267, 	0.257, 	0.257, 	0.257, 	0.257, 	0.267},
	{0.50, 	0.37, 	0.300, 	0.311, 	0.300, 	0.300, 	0.300, 	0.300, 	0.311},
	{0.57, 	0.42, 	0.342, 	0.354, 	0.342, 	0.342, 	0.342, 	0.342, 	0.354},
	{0.64, 	0.47, 	0.384, 	0.398, 	0.384, 	0.384, 	0.384, 	0.384, 	0.398},
	{0.71, 	0.52, 	0.426, 	0.442, 	0.426, 	0.426, 	0.426, 	0.426, 	0.442},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0}
        },  -- 儒释道

        {   -- 儒
        --  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗
	{0.08, 	0.06, 	0.046, 	0.046, 	0.046, 	0.052, 	0.046, 	0.041, 	0.046},
	{0.15, 	0.11, 	0.089, 	0.089, 	0.089, 	0.098, 	0.089, 	0.079, 	0.089},
	{0.22, 	0.16, 	0.131, 	0.131, 	0.131, 	0.145, 	0.131, 	0.116, 	0.131},
	{0.29, 	0.21, 	0.173, 	0.173, 	0.173, 	0.192, 	0.173, 	0.154, 	0.173},
	{0.36, 	0.26, 	0.215, 	0.215, 	0.215, 	0.239, 	0.215, 	0.191, 	0.215},
	{0.43, 	0.31, 	0.257, 	0.257, 	0.257, 	0.286, 	0.257, 	0.229, 	0.257},
	{0.50, 	0.37, 	0.300, 	0.300, 	0.300, 	0.333, 	0.300, 	0.266, 	0.300},
	{0.57, 	0.42, 	0.342, 	0.342, 	0.342, 	0.380, 	0.342, 	0.304, 	0.342},
	{0.64, 	0.47, 	0.384, 	0.384, 	0.384, 	0.427, 	0.384, 	0.341, 	0.384},
	{0.71, 	0.52, 	0.426, 	0.426, 	0.426, 	0.473, 	0.426, 	0.379, 	0.426},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0}
        },  -- 儒

        {   -- 释
        --  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗
	{0.08, 	0.06, 	0.052, 	0.046, 	0.041, 	0.046, 	0.052, 	0.046, 	0.052},
	{0.15, 	0.12, 	0.098, 	0.089, 	0.079, 	0.089, 	0.098, 	0.089, 	0.098},
	{0.22, 	0.17, 	0.145, 	0.131, 	0.116, 	0.131, 	0.145, 	0.131, 	0.145},
	{0.29, 	0.23, 	0.192, 	0.173, 	0.154, 	0.173, 	0.192, 	0.173, 	0.192},
	{0.36, 	0.29, 	0.239, 	0.215, 	0.191, 	0.215, 	0.239, 	0.215, 	0.239},
	{0.43, 	0.34, 	0.286, 	0.257, 	0.229, 	0.257, 	0.286, 	0.257, 	0.286},
	{0.50, 	0.40, 	0.333, 	0.300, 	0.266, 	0.300, 	0.333, 	0.300, 	0.333},
	{0.57, 	0.46, 	0.380, 	0.342, 	0.304, 	0.342, 	0.380, 	0.342, 	0.380},
	{0.64, 	0.51, 	0.427, 	0.384, 	0.341, 	0.384, 	0.427, 	0.384, 	0.427},
	{0.71, 	0.57, 	0.473, 	0.426, 	0.379, 	0.426, 	0.473, 	0.426, 	0.473},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0}
        },  -- 释

        {   -- 道
        --  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗
	{0.08, 	0.05, 	0.041, 	0.052, 	0.052, 	0.041, 	0.041, 	0.052, 	0.046},
	{0.15, 	0.10, 	0.079, 	0.098, 	0.098, 	0.079, 	0.079, 	0.098, 	0.089},
	{0.22, 	0.15, 	0.116, 	0.145, 	0.145, 	0.116, 	0.116, 	0.145, 	0.131},
	{0.29, 	0.19, 	0.154, 	0.192, 	0.192, 	0.154, 	0.154, 	0.192, 	0.173},
	{0.36, 	0.24, 	0.191, 	0.239, 	0.239, 	0.191, 	0.191, 	0.239, 	0.215},
	{0.43, 	0.29, 	0.229, 	0.286, 	0.286, 	0.229, 	0.229, 	0.286, 	0.257},
	{0.50, 	0.33, 	0.266, 	0.333, 	0.333, 	0.266, 	0.266, 	0.333, 	0.300},
	{0.57, 	0.38, 	0.304, 	0.380, 	0.380, 	0.304, 	0.304, 	0.380, 	0.342},
	{0.64, 	0.43, 	0.341, 	0.427, 	0.427, 	0.341, 	0.341, 	0.427, 	0.384},
	{0.71, 	0.47, 	0.379, 	0.473, 	0.473, 	0.379, 	0.379, 	0.473, 	0.426},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0}
        }  -- 道
    },  -- 紫色

    {   -- 橙色
        {   -- 儒释道
        --  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗
	{0.12, 	0.07, 	0.058, 	0.060, 	0.058, 	0.058, 	0.058, 	0.058, 	0.060},
	{0.22, 	0.14, 	0.111, 	0.115, 	0.111, 	0.111, 	0.111, 	0.111, 	0.115},
	{0.33, 	0.20, 	0.163, 	0.170, 	0.163, 	0.163, 	0.163, 	0.163, 	0.170},
	{0.43, 	0.26, 	0.216, 	0.224, 	0.216, 	0.216, 	0.216, 	0.216, 	0.224},
	{0.54, 	0.33, 	0.269, 	0.279, 	0.269, 	0.269, 	0.269, 	0.269, 	0.279},
	{0.64, 	0.39, 	0.322, 	0.334, 	0.322, 	0.322, 	0.322, 	0.322, 	0.334},
	{0.75, 	0.46, 	0.374, 	0.388, 	0.374, 	0.374, 	0.374, 	0.374, 	0.388},
	{0.85, 	0.52, 	0.427, 	0.443, 	0.427, 	0.427, 	0.427, 	0.427, 	0.443},
	{0.96, 	0.59, 	0.480, 	0.498, 	0.480, 	0.480, 	0.480, 	0.480, 	0.498},
	{1.07, 	0.65, 	0.533, 	0.552, 	0.533, 	0.533, 	0.533, 	0.533, 	0.552},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0}
        },  -- 儒释道

        {   -- 儒
        --  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗
	{0.12, 	0.07, 	0.058, 	0.058, 	0.058, 	0.064, 	0.058, 	0.052, 	0.058},
	{0.22, 	0.14, 	0.111, 	0.111, 	0.111, 	0.123, 	0.111, 	0.098, 	0.111},
	{0.33, 	0.20, 	0.163, 	0.163, 	0.163, 	0.182, 	0.163, 	0.145, 	0.163},
	{0.43, 	0.26, 	0.216, 	0.216, 	0.216, 	0.240, 	0.216, 	0.192, 	0.216},
	{0.54, 	0.33, 	0.269, 	0.269, 	0.269, 	0.299, 	0.269, 	0.239, 	0.269},
	{0.64, 	0.39, 	0.322, 	0.322, 	0.322, 	0.357, 	0.322, 	0.286, 	0.322},
	{0.75, 	0.46, 	0.374, 	0.374, 	0.374, 	0.416, 	0.374, 	0.333, 	0.374},
	{0.85, 	0.52, 	0.427, 	0.427, 	0.427, 	0.475, 	0.427, 	0.380, 	0.427},
	{0.96, 	0.59, 	0.480, 	0.480, 	0.480, 	0.533, 	0.480, 	0.427, 	0.480},
	{1.07, 	0.65, 	0.533, 	0.533, 	0.533, 	0.592, 	0.533, 	0.473, 	0.533},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0}
        },  -- 儒

        {   -- 释
        --  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗
	{0.12, 	0.08, 	0.064, 	0.058, 	0.052, 	0.058, 	0.064, 	0.058, 	0.064},
	{0.22, 	0.15, 	0.123, 	0.111, 	0.098, 	0.111, 	0.123, 	0.111, 	0.123},
	{0.33, 	0.22, 	0.182, 	0.163, 	0.145, 	0.163, 	0.182, 	0.163, 	0.182},
	{0.43, 	0.29, 	0.240, 	0.216, 	0.192, 	0.216, 	0.240, 	0.216, 	0.240},
	{0.54, 	0.36, 	0.299, 	0.269, 	0.239, 	0.269, 	0.299, 	0.269, 	0.299},
	{0.64, 	0.43, 	0.357, 	0.322, 	0.286, 	0.322, 	0.357, 	0.322, 	0.357},
	{0.75, 	0.50, 	0.416, 	0.374, 	0.333, 	0.374, 	0.416, 	0.374, 	0.416},
	{0.85, 	0.57, 	0.475, 	0.427, 	0.380, 	0.427, 	0.475, 	0.427, 	0.475},
	{0.96, 	0.64, 	0.533, 	0.480, 	0.427, 	0.480, 	0.533, 	0.480, 	0.533},
	{1.07, 	0.71, 	0.592, 	0.533, 	0.473, 	0.533, 	0.592, 	0.533, 	0.592},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0}
        },  -- 释

        {   -- 道
        --  生命    身法    命中    闪避    暴击    破击    反击    坚韧    法术抵抗
	{0.12, 	0.06, 	0.052, 	0.064, 	0.064, 	0.052, 	0.052, 	0.064, 	0.058},
	{0.22, 	0.12, 	0.098, 	0.123, 	0.123, 	0.098, 	0.098, 	0.123, 	0.111},
	{0.33, 	0.18, 	0.145, 	0.182, 	0.182, 	0.145, 	0.145, 	0.182, 	0.163},
	{0.43, 	0.24, 	0.192, 	0.240, 	0.240, 	0.192, 	0.192, 	0.240, 	0.216},
	{0.54, 	0.30, 	0.239, 	0.299, 	0.299, 	0.239, 	0.239, 	0.299, 	0.269},
	{0.64, 	0.36, 	0.286, 	0.357, 	0.357, 	0.286, 	0.286, 	0.357, 	0.322},
	{0.75, 	0.42, 	0.333, 	0.416, 	0.416, 	0.333, 	0.333, 	0.416, 	0.374},
	{0.85, 	0.47, 	0.380, 	0.475, 	0.475, 	0.380, 	0.380, 	0.475, 	0.427},
	{0.96, 	0.53, 	0.427, 	0.533, 	0.533, 	0.427, 	0.427, 	0.533, 	0.480},
	{1.07, 	0.59, 	0.473, 	0.592, 	0.592, 	0.473, 	0.473, 	0.592, 	0.533},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0},
	{0, 	0, 	0, 	0, 	0, 	0, 	0, 	0, 	0}
        }  -- 道
    }  -- 橙色
}


function getEnchantCost()
    return Enchant_cost
end

function getMergeCost()
    return Merge_cost
end

function getDetachCost()
    return Detach_cost
end

function getSplitCost()
    return Split_cost
end

function getForgeCost()
    return Forge_cost
end

function getSplitChance(q)
    return Split_chance[q]
end

function getMergeChance()
    return Merge_chance
end

function getEnchantChance(q)
    return Enchant_chance[q]
end

function getEnchantMax()
    return Enchant_max
end

function getAttrTypeChance(q)
    return AttrTypeChances[q]
end

function getAttrChance(q)
    return AttrChances[q]
end

function getAttrDics(q)
    return AttrDics[q]
end

function getAttrMax(q, crr, lvl)
    return AttrMax[q][crr][lvl]
end

function getSocketChance()
    return Split_chance
end





