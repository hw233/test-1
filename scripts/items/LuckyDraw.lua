
-- 消耗一个物品所得到的积分
local item2point = 10

-- { 物品概率(累积值), 物品ID, 积分}，对应5个副本
local items = {
    [1] = {
        {519,548,1},
        {1037,2256,1},
        {1556,2257,1},
        {2074,2258,1},
        {2593,2259,1},
        {3111,2260,1},
        {3630,2261,1},
        {4148,2262,1},
        {4667,2263,1},
        {5185,2264,1},
        {5704,2265,1},
        {6222,2266,1},
        {6741,2267,1},
        {7259,2268,1},
        {7778,2269,1},
        {8296,2270,1},
        {8815,2271,1},
        {9333,2272,1},
        {9852,2273,1},
        {10370,2274,1},
        {10889,2275,1},
        {11407,2276,1},
        {11926,2277,1},
        {12444,2278,1},
        {12963,2279,1},
        {13479,5001,3},
        {13995,5011,3},
        {14512,5021,3},
        {15028,5031,3},
        {15544,5041,3},
        {16060,5051,3},
        {16575,55,4},
        {17090,5071,4},
        {17606,5131,4},
        {18121,400,4},
        {18635,511,5},
        {19149,5061,5},
        {19662,5081,5},
        {20176,5091,5},
        {20690,5101,5},
        {21204,5111,5},
        {21718,5121,5},
        {22232,5141,5},
        {22746,2400,5},
        {23260,2401,5},
        {23774,2402,5},
        {24288,2403,5},
        {24802,2404,5},
        {25316,2405,5},
        {25830,2406,5},
        {26344,2407,5},
        {26858,2408,5},
        {27372,2409,5},
        {27886,2410,5},
        {28400,2411,5},
        {28913,2412,5},
        {29427,2413,5},
        {29941,2414,5},
        {30455,2415,5},
        {30969,2416,5},
        {31483,2417,5},
        {31997,2418,5},
        {32511,2419,5},
        {33025,2420,5},
        {33539,2421,5},
        {34053,2422,5},
        {34567,2423,5},
        {35081,520,5},
        {35594,9017,6},
        {36106,9018,6},
        {36619,9019,6},
        {37132,9020,6},
        {37645,9021,6},
        {38158,9022,6},
        {38669,519,7},
        {39180,510,8},
        {39689,518,9},
        {40197,33,10},
        {40706,466,10},
        {41214,57,10},
        {41722,56,10},
        {42230,500,10},
        {42738,15,10},
        {43247,16,10},
        {43755,506,10},
        {44263,508,10},
        {44771,512,10},
        {45280,514,10},
        {45788,517,10},
        {46296,5003,10},
        {46804,5013,10},
        {47313,5023,10},
        {47821,5033,10},
        {48329,5043,10},
        {48837,5053,10},
        {49345,502,10},
        {49854,504,10},
        {50362,1061,10},
        {50870,1062,10},
        {51378,1063,10},
        {51887,1064,10},
        {52395,1109,10},
        {52903,1110,10},
        {53411,1111,10},
        {53919,1112,10},
        {54428,1113,10},
        {54936,1114,10},
        {55444,1115,10},
        {55952,1098,10},
        {56461,1099,10},
        {56969,1100,10},
        {57477,1101,10},
        {57985,1102,10},
        {58493,1103,10},
        {59002,1104,10},
        {59510,1105,10},
        {60018,1106,10},
        {60521,8000,15},
        {61023,547,15},
        {61526,501,15},
        {62028,505,15},
        {62531,513,15},
        {63033,5073,15},
        {63536,5133,15},
        {64033,465,20},
        {64529,503,20},
        {65026,5063,20},
        {65523,5083,20},
        {66020,5093,20},
        {66517,5103,20},
        {67013,5113,20},
        {67510,5123,20},
        {68007,5143,20},
        {68492,516,30},
        {68955,440,50},
        {69417,2544,50},
        {69880,2545,50},
        {70342,2546,50},
        {70805,2547,50},
        {71267,2548,50},
        {71730,2549,50},
        {72192,2550,50},
        {72655,2551,50},
        {73117,2552,50},
        {73580,2553,50},
        {74042,2554,50},
        {74505,2555,50},
        {74967,2556,50},
        {75430,2557,50},
        {75892,2558,50},
        {76355,2559,50},
        {76817,2560,50},
        {77280,2561,50},
        {77742,2562,50},
        {78205,2563,50},
        {78667,2564,50},
        {79130,2565,50},
        {79592,2566,50},
        {80055,2567,50},
        {80517,1505,50},
        {80980,1506,50},
        {81442,1507,50},
        {81905,1508,50},
        {82367,1224,50},
        {82829,1096,50},
        {83292,1107,50},
        {83754,1059,50},
        {84206,1225,60},
        {84657,1222,60},
        {85108,1223,60},
        {85542,507,75},
        {85970,49,80},
        {86398,515,80},
        {86826,1605,80},
        {87254,1615,80},
        {87683,1231,80},
        {88111,1235,80},
        {88539,1229,80},
        {88967,509,80},
        {89384,50,90},
        {89789,47,100},
        {90194,5005,100},
        {90600,5015,100},
        {91005,5025,100},
        {91410,5035,100},
        {91816,5045,100},
        {92221,5055,100},
        {92626,1604,100},
        {93032,1614,100},
        {93437,1503,100},
        {93842,1238,100},
        {94248,1246,100},
        {94653,1226,100},
        {95058,1243,100},
        {95452,1233,110},
        {95835,1606,120},
        {96217,1608,120},
        {96565,5075,150},
        {96913,5135,150},
        {97262,1610,150},
        {97610,1603,150},
        {97958,1609,150},
        {98249,5065,200},
        {98540,5085,200},
        {98831,5095,200},
        {99122,5105,200},
        {99413,5115,200},
        {99704,5125,200},
        {99995,5145,200},
        {100000,1504,450},

    },

    [2] = {
        {584,548,1},
        {1169,2280,1},
        {1753,2281,1},
        {2337,2282,1},
        {2921,2283,1},
        {3506,2284,1},
        {4090,2285,1},
        {4674,2286,1},
        {5258,2287,1},
        {5843,2288,1},
        {6427,2289,1},
        {7011,2290,1},
        {7595,2291,1},
        {8180,2292,1},
        {8764,2293,1},
        {9348,2294,1},
        {9932,2295,1},
        {10517,2296,1},
        {11101,2297,1},
        {11685,2298,1},
        {12269,2299,1},
        {12854,2300,1},
        {13438,2301,1},
        {14022,2302,1},
        {14606,2303,1},
        {15185,5001,3},
        {15764,5011,3},
        {16343,5021,3},
        {16921,5031,3},
        {17500,5041,3},
        {18079,5051,3},
        {18655,55,4},
        {19231,5071,4},
        {19807,5131,4},
        {20383,400,4},
        {20956,511,5},
        {21529,5061,5},
        {22102,5081,5},
        {22675,5091,5},
        {23249,5101,5},
        {23822,5111,5},
        {24395,5121,5},
        {24968,5141,5},
        {25541,2424,5},
        {26115,2425,5},
        {26688,2426,5},
        {27261,2427,5},
        {27834,2428,5},
        {28407,2429,5},
        {28980,2430,5},
        {29554,2431,5},
        {30127,2432,5},
        {30700,2433,5},
        {31273,2434,5},
        {31846,2435,5},
        {32420,2436,5},
        {32993,2437,5},
        {33566,2438,5},
        {34139,2439,5},
        {34712,2440,5},
        {35286,2441,5},
        {35859,2442,5},
        {36432,2443,5},
        {37005,2444,5},
        {37578,2445,5},
        {38152,2446,5},
        {38725,2447,5},
        {39298,521,5},
        {39868,9017,6},
        {40439,9018,6},
        {41009,9019,6},
        {41580,9020,6},
        {42150,9021,6},
        {42720,9022,6},
        {43288,519,7},
        {43853,510,8},
        {44415,518,9},
        {44974,33,10},
        {45534,466,10},
        {46093,57,10},
        {46652,56,10},
        {47212,500,10},
        {47771,15,10},
        {48331,16,10},
        {48890,506,10},
        {49449,508,10},
        {50009,512,10},
        {50568,514,10},
        {51127,517,10},
        {51687,5003,10},
        {52246,5013,10},
        {52805,5023,10},
        {53365,5033,10},
        {53924,5043,10},
        {54483,5053,10},
        {55043,502,10},
        {55602,504,10},
        {56161,1086,10},
        {56721,1087,10},
        {57280,1088,10},
        {57839,1089,10},
        {58399,1090,10},
        {58958,1091,10},
        {59518,1092,10},
        {60077,1093,10},
        {60636,1094,10},
        {61196,1095,10},
        {61755,1076,10},
        {62314,1077,10},
        {62874,1078,10},
        {63433,1079,10},
        {63992,1080,10},
        {64552,1081,10},
        {65111,1082,10},
        {65670,1083,10},
        {66216,8000,15},
        {66761,547,15},
        {67307,501,15},
        {67852,505,15},
        {68398,513,15},
        {68943,5073,15},
        {69489,5133,15},
        {70021,465,20},
        {70552,503,20},
        {71084,5063,20},
        {71616,5083,20},
        {72147,5093,20},
        {72679,5103,20},
        {73211,5113,20},
        {73742,5123,20},
        {74274,5143,20},
        {74778,516,30},
        {75227,440,50},
        {75675,2568,50},
        {76124,2569,50},
        {76573,2570,50},
        {77021,2571,50},
        {77470,2572,50},
        {77919,2573,50},
        {78367,2574,50},
        {78816,2575,50},
        {79264,2576,50},
        {79713,2577,50},
        {80162,2578,50},
        {80610,2579,50},
        {81059,2580,50},
        {81508,2581,50},
        {81956,2582,50},
        {82405,2583,50},
        {82854,2584,50},
        {83302,2585,50},
        {83751,2586,50},
        {84200,2587,50},
        {84648,2588,50},
        {85097,2589,50},
        {85545,2590,50},
        {85994,2591,50},
        {86443,1074,50},
        {86891,1084,50},
        {87312,203,60},
        {87733,204,60},
        {88154,205,60},
        {88548,1413,70},
        {88941,1414,70},
        {89334,1415,70},
        {89727,1227,70},
        {90107,507,75},
        {90473,49,80},
        {90838,515,80},
        {91204,200,80},
        {91569,201,80},
        {91935,202,80},
        {92301,509,80},
        {92638,50,90},
        {92976,1612,90},
        {93287,47,100},
        {93597,5005,100},
        {93907,5015,100},
        {94217,5025,100},
        {94528,5035,100},
        {94838,5045,100},
        {95148,5055,100},
        {95458,1607,100},
        {95769,1509,100},
        {96079,1251,100},
        {96389,1241,100},
        {96700,1242,100},
        {97010,1234,100},
        {97209,82,140},
        {97409,83,140},
        {97608,84,140},
        {97808,85,140},
        {97980,5075,150},
        {98152,5135,150},
        {98324,1611,150},
        {98495,206,150},
        {98667,207,150},
        {98839,208,150},
        {99011,1230,150},
        {99183,1240,150},
        {99327,86,160},
        {99471,87,160},
        {99616,88,160},
        {99760,89,160},
        {99793,5065,200},
        {99827,5085,200},
        {99860,5095,200},
        {99894,5105,200},
        {99927,5115,200},
        {99961,5125,200},
        {99994,5145,200},
        {100000,1616,210},

    },

    [3] = {
        {574,548,1},
        {1148,2304,1},
        {1722,2305,1},
        {2296,2306,1},
        {2870,2307,1},
        {3444,2308,1},
        {4018,2309,1},
        {4592,2310,1},
        {5166,2311,1},
        {5740,2312,1},
        {6314,2313,1},
        {6888,2314,1},
        {7462,2315,1},
        {8036,2316,1},
        {8610,2317,1},
        {9184,2318,1},
        {9758,2319,1},
        {10332,2320,1},
        {10906,2321,1},
        {11480,2322,1},
        {12053,2323,1},
        {12627,2324,1},
        {13201,2325,1},
        {13775,2326,1},
        {14349,2327,1},
        {14918,5001,3},
        {15487,5011,3},
        {16056,5021,3},
        {16625,5031,3},
        {17193,5041,3},
        {17762,5051,3},
        {18328,55,4},
        {18894,5071,4},
        {19461,5131,4},
        {20027,400,4},
        {20590,511,5},
        {21154,5061,5},
        {21718,5081,5},
        {22281,5091,5},
        {22845,5101,5},
        {23408,5111,5},
        {23972,5121,5},
        {24536,5141,5},
        {25099,2448,5},
        {25663,2449,5},
        {26226,2450,5},
        {26790,2451,5},
        {27354,2452,5},
        {27917,2453,5},
        {28481,2454,5},
        {29044,2455,5},
        {29608,2456,5},
        {30172,2457,5},
        {30735,2458,5},
        {31299,2459,5},
        {31862,2460,5},
        {32426,2461,5},
        {32990,2462,5},
        {33553,2463,5},
        {34117,2464,5},
        {34680,2465,5},
        {35244,2466,5},
        {35808,2467,5},
        {36371,2468,5},
        {36935,2469,5},
        {37498,2470,5},
        {38062,2471,5},
        {38626,522,5},
        {39187,9017,6},
        {39748,9018,6},
        {40309,9019,6},
        {40870,9020,6},
        {41431,9021,6},
        {41992,9022,6},
        {42550,519,7},
        {43106,510,8},
        {43659,518,9},
        {44210,33,10},
        {44760,466,10},
        {45311,57,10},
        {45862,56,10},
        {46412,500,10},
        {46963,15,10},
        {47513,16,10},
        {48064,506,10},
        {48615,508,10},
        {49165,512,10},
        {49716,514,10},
        {50266,517,10},
        {50817,5003,10},
        {51368,5013,10},
        {51918,5023,10},
        {52469,5033,10},
        {53020,5043,10},
        {53570,5053,10},
        {54121,502,10},
        {54671,504,10},
        {55222,1067,10},
        {55773,1068,10},
        {56323,1069,10},
        {56874,1070,10},
        {57425,1071,10},
        {57975,1072,10},
        {58526,1073,10},
        {59076,1022,10},
        {59627,1023,10},
        {60178,1024,10},
        {60728,1025,10},
        {61279,1026,10},
        {61830,1027,10},
        {62380,1028,10},
        {62931,1029,10},
        {63481,1030,10},
        {64019,8000,15},
        {64557,547,15},
        {65094,501,15},
        {65632,505,15},
        {66170,513,15},
        {66707,5073,15},
        {67245,5133,15},
        {67770,465,20},
        {68294,503,20},
        {68819,5063,20},
        {69344,5083,20},
        {69868,5093,20},
        {70393,5103,20},
        {70918,5113,20},
        {71442,5123,20},
        {71967,5143,20},
        {72466,516,30},
        {72913,440,50},
        {73359,2592,50},
        {73806,2593,50},
        {74253,2594,50},
        {74700,2595,50},
        {75147,2596,50},
        {75594,2597,50},
        {76040,2598,50},
        {76487,2599,50},
        {76934,2600,50},
        {77381,2601,50},
        {77828,2602,50},
        {78275,2603,50},
        {78721,2604,50},
        {79168,2605,50},
        {79615,2606,50},
        {80062,2607,50},
        {80509,2608,50},
        {80956,2609,50},
        {81402,2610,50},
        {81849,2611,50},
        {82296,2612,50},
        {82743,2613,50},
        {83190,2614,50},
        {83636,2615,50},
        {84083,1020,50},
        {84530,1065,50},
        {84912,507,75},
        {85281,49,80},
        {85650,515,80},
        {86019,509,80},
        {86362,50,90},
        {86679,47,100},
        {86996,5005,100},
        {87313,5015,100},
        {87630,5025,100},
        {87948,5035,100},
        {88265,5045,100},
        {88582,5055,100},
        {88847,1236,120},
        {89112,1237,120},
        {89325,1421,140},
        {89539,1422,140},
        {89752,1423,140},
        {89965,1424,140},
        {90179,1425,140},
        {90392,1426,140},
        {90605,1427,140},
        {90818,1428,140},
        {91032,1429,140},
        {91245,1430,140},
        {91458,1431,140},
        {91672,1432,140},
        {91885,1416,140},
        {92098,1417,140},
        {92312,1418,140},
        {92525,1419,140},
        {92738,1420,140},
        {92925,5075,150},
        {93113,5135,150},
        {93300,91,150},
        {93488,92,150},
        {93675,93,150},
        {93862,94,150},
        {94050,95,150},
        {94237,96,150},
        {94424,1245,150},
        {94586,103,160},
        {94747,104,160},
        {94908,105,160},
        {95070,106,160},
        {95231,107,160},
        {95393,108,160},
        {95554,109,160},
        {95715,110,160},
        {95851,228,170},
        {95986,229,170},
        {96122,230,170},
        {96257,231,170},
        {96393,232,170},
        {96528,233,170},
        {96664,234,170},
        {96799,235,170},
        {96934,236,170},
        {97070,237,170},
        {97205,238,170},
        {97341,239,170},
        {97476,240,170},
        {97612,241,170},
        {97747,242,170},
        {97857,97,180},
        {97966,98,180},
        {98076,99,180},
        {98185,100,180},
        {98295,101,180},
        {98404,102,180},
        {98488,217,190},
        {98571,218,190},
        {98655,219,190},
        {98738,220,190},
        {98822,221,190},
        {98906,222,190},
        {98989,223,190},
        {99073,224,190},
        {99130,5065,200},
        {99188,5085,200},
        {99245,5095,200},
        {99303,5105,200},
        {99361,5115,200},
        {99418,5125,200},
        {99476,5145,200},
        {99533,209,200},
        {99591,210,200},
        {99649,211,200},
        {99706,212,200},
        {99764,213,200},
        {99821,214,200},
        {99879,215,200},
        {99937,216,200},
        {99994,1253,200},
        {100000,1250,220},

    },

    [4] = {
        {568,548,1},
        {1135,2328,1},
        {1703,2329,1},
        {2271,2330,1},
        {2838,2331,1},
        {3406,2332,1},
        {3974,2333,1},
        {4541,2334,1},
        {5109,2335,1},
        {5677,2336,1},
        {6244,2337,1},
        {6812,2338,1},
        {7380,2339,1},
        {7947,2340,1},
        {8515,2341,1},
        {9083,2342,1},
        {9650,2343,1},
        {10218,2344,1},
        {10786,2345,1},
        {11353,2346,1},
        {11921,2347,1},
        {12488,2348,1},
        {13056,2349,1},
        {13624,2350,1},
        {14191,2351,1},
        {14755,5001,3},
        {15319,5011,3},
        {15883,5021,3},
        {16447,5031,3},
        {17011,5041,3},
        {17575,5051,3},
        {18137,55,4},
        {18699,5071,4},
        {19261,5131,4},
        {19823,400,4},
        {20383,511,5},
        {20943,5061,5},
        {21503,5081,5},
        {22063,5091,5},
        {22624,5101,5},
        {23184,5111,5},
        {23744,5121,5},
        {24304,5141,5},
        {24864,2472,5},
        {25424,2473,5},
        {25984,2474,5},
        {26545,2475,5},
        {27105,2476,5},
        {27665,2477,5},
        {28225,2478,5},
        {28785,2479,5},
        {29345,2480,5},
        {29905,2481,5},
        {30466,2482,5},
        {31026,2483,5},
        {31586,2484,5},
        {32146,2485,5},
        {32706,2486,5},
        {33266,2487,5},
        {33826,2488,5},
        {34387,2489,5},
        {34947,2490,5},
        {35507,2491,5},
        {36067,2492,5},
        {36627,2493,5},
        {37187,2494,5},
        {37747,2495,5},
        {38308,523,5},
        {38866,9017,6},
        {39424,9018,6},
        {39982,9019,6},
        {40541,9020,6},
        {41099,9021,6},
        {41657,9022,6},
        {42213,519,7},
        {42768,510,8},
        {43321,518,9},
        {43871,33,10},
        {44422,466,10},
        {44973,57,10},
        {45524,56,10},
        {46074,500,10},
        {46625,15,10},
        {47176,16,10},
        {47727,506,10},
        {48277,508,10},
        {48828,512,10},
        {49379,514,10},
        {49930,517,10},
        {50480,5003,10},
        {51031,5013,10},
        {51582,5023,10},
        {52132,5033,10},
        {52683,5043,10},
        {53234,5053,10},
        {53785,502,10},
        {54335,504,10},
        {54886,1042,10},
        {55437,1043,10},
        {55988,1044,10},
        {56538,1045,10},
        {57089,1046,10},
        {57640,1047,10},
        {58191,1048,10},
        {58741,1049,10},
        {59292,1050,10},
        {59843,1051,10},
        {60394,1054,10},
        {60944,1055,10},
        {61495,1056,10},
        {62046,1057,10},
        {62597,1058,10},
        {63138,8000,15},
        {63679,547,15},
        {64221,501,15},
        {64762,505,15},
        {65303,513,15},
        {65845,5073,15},
        {66386,5133,15},
        {66918,465,20},
        {67450,503,20},
        {67982,5063,20},
        {68514,5083,20},
        {69046,5093,20},
        {69578,5103,20},
        {70110,5113,20},
        {70642,5123,20},
        {71173,5143,20},
        {71687,516,30},
        {72162,440,50},
        {72638,2616,50},
        {73113,2617,50},
        {73589,2618,50},
        {74064,2619,50},
        {74540,2620,50},
        {75016,2621,50},
        {75491,2622,50},
        {75967,2623,50},
        {76442,2624,50},
        {76918,2625,50},
        {77393,2626,50},
        {77869,2627,50},
        {78344,2628,50},
        {78820,2629,50},
        {79296,2630,50},
        {79771,2631,50},
        {80247,2632,50},
        {80722,2633,50},
        {81198,2634,50},
        {81673,2635,50},
        {82149,2636,50},
        {82624,2637,50},
        {83100,2638,50},
        {83575,2639,50},
        {84051,1040,50},
        {84527,1052,50},
        {84955,507,75},
        {85374,49,80},
        {85794,515,80},
        {86213,509,80},
        {86613,50,90},
        {86995,47,100},
        {87376,5005,100},
        {87758,5015,100},
        {88139,5025,100},
        {88521,5035,100},
        {88902,5045,100},
        {89284,5055,100},
        {89572,5075,150},
        {89859,5135,150},
        {90147,1247,150},
        {90416,1254,160},
        {90666,1255,170},
        {90897,1249,180},
        {91090,5065,200},
        {91284,5085,200},
        {91478,5095,200},
        {91671,5105,200},
        {91865,5115,200},
        {92058,5125,200},
        {92252,5145,200},
        {92427,243,210},
        {92602,244,210},
        {92776,245,210},
        {92951,246,210},
        {93126,247,210},
        {93301,248,210},
        {93476,249,210},
        {93650,250,210},
        {93825,251,210},
        {93963,261,230},
        {94100,262,230},
        {94237,263,230},
        {94374,264,230},
        {94511,265,230},
        {94649,266,230},
        {94786,267,230},
        {94923,268,230},
        {95060,269,230},
        {95160,252,250},
        {95259,253,250},
        {95359,254,250},
        {95459,255,250},
        {95558,256,250},
        {95658,257,250},
        {95758,258,250},
        {95857,259,250},
        {95957,260,250},
        {96056,271,250},
        {96156,272,250},
        {96256,273,250},
        {96355,274,250},
        {96455,275,250},
        {96555,276,250},
        {96654,277,250},
        {96754,278,250},
        {96853,279,250},
        {96953,280,250},
        {97053,281,250},
        {97152,282,250},
        {97252,283,250},
        {97352,284,250},
        {97451,285,250},
        {97551,286,250},
        {97650,287,250},
        {97750,288,250},
        {97850,289,250},
        {97949,290,250},
        {98049,291,250},
        {98149,292,250},
        {98248,293,250},
        {98348,294,250},
        {98447,295,250},
        {98547,296,250},
        {98647,297,250},
        {98709,1440,270},
        {98771,1441,270},
        {98833,1442,270},
        {98895,1443,270},
        {98957,1444,270},
        {99019,1445,270},
        {99081,1446,270},
        {99143,1447,270},
        {99205,1448,270},
        {99267,1449,270},
        {99329,1450,270},
        {99391,1451,270},
        {99453,1452,270},
        {99515,1453,270},
        {99577,1433,270},
        {99639,1434,270},
        {99701,1435,270},
        {99763,1436,270},
        {99825,1437,270},
        {99887,1438,270},
        {99949,1439,270},
        {99955,111,300},
        {99961,112,300},
        {99966,113,300},
        {99972,114,300},
        {99977,115,300},
        {99983,116,300},
        {99989,117,300},
        {99994,118,300},
        {100000,119,300},

    },

    [5] = {
        {561,548,1},
        {1122,2352,1},
        {1683,2353,1},
        {2244,2354,1},
        {2805,2355,1},
        {3366,2356,1},
        {3927,2357,1},
        {4488,2358,1},
        {5049,2359,1},
        {5610,2360,1},
        {6171,2361,1},
        {6732,2362,1},
        {7292,2363,1},
        {7853,2364,1},
        {8414,2365,1},
        {8975,2366,1},
        {9536,2367,1},
        {10097,2368,1},
        {10658,2369,1},
        {11219,2370,1},
        {11780,2371,1},
        {12341,2372,1},
        {12902,2373,1},
        {13463,2374,1},
        {14024,2375,1},
        {14583,5001,3},
        {15141,5011,3},
        {15700,5021,3},
        {16259,5031,3},
        {16818,5041,3},
        {17376,5051,3},
        {17934,55,4},
        {18492,5071,4},
        {19049,5131,4},
        {19607,400,4},
        {20163,511,5},
        {20720,5061,5},
        {21276,5081,5},
        {21833,5091,5},
        {22389,5101,5},
        {22946,5111,5},
        {23502,5121,5},
        {24059,5141,5},
        {24615,2496,5},
        {25172,2497,5},
        {25728,2498,5},
        {26285,2499,5},
        {26841,2500,5},
        {27398,2501,5},
        {27954,2502,5},
        {28511,2503,5},
        {29068,2504,5},
        {29624,2505,5},
        {30181,2506,5},
        {30737,2507,5},
        {31294,2508,5},
        {31850,2509,5},
        {32407,2510,5},
        {32963,2511,5},
        {33520,2512,5},
        {34076,2513,5},
        {34633,2514,5},
        {35189,2515,5},
        {35746,2516,5},
        {36302,2517,5},
        {36859,2518,5},
        {37415,2519,5},
        {37972,524,5},
        {38527,9017,6},
        {39082,9018,6},
        {39638,9019,6},
        {40193,9020,6},
        {40749,9021,6},
        {41304,9022,6},
        {41858,519,7},
        {42411,510,8},
        {42964,518,9},
        {43514,33,10},
        {44065,466,10},
        {44616,57,10},
        {45167,56,10},
        {45718,500,10},
        {46269,15,10},
        {46820,16,10},
        {47371,506,10},
        {47922,508,10},
        {48473,512,10},
        {49024,514,10},
        {49575,517,10},
        {50126,5003,10},
        {50677,5013,10},
        {51228,5023,10},
        {51779,5033,10},
        {52330,5043,10},
        {52880,5053,10},
        {53431,502,10},
        {53982,504,10},
        {54533,1014,10},
        {55084,1015,10},
        {55635,1016,10},
        {56186,1017,10},
        {56737,1018,10},
        {57288,1019,10},
        {57839,1033,10},
        {58390,1034,10},
        {58941,1035,10},
        {59492,1036,10},
        {60043,1037,10},
        {60594,1038,10},
        {61145,1039,10},
        {61690,8000,15},
        {62235,547,15},
        {62781,501,15},
        {63326,505,15},
        {63872,513,15},
        {64417,5073,15},
        {64962,5133,15},
        {65502,465,20},
        {66042,503,20},
        {66582,5063,20},
        {67122,5083,20},
        {67661,5093,20},
        {68201,5103,20},
        {68741,5113,20},
        {69281,5123,20},
        {69821,5143,20},
        {70349,516,30},
        {70856,440,50},
        {71362,2640,50},
        {71869,2641,50},
        {72375,2642,50},
        {72881,2643,50},
        {73388,2644,50},
        {73894,2645,50},
        {74401,2646,50},
        {74907,2647,50},
        {75413,2648,50},
        {75920,2649,50},
        {76426,2650,50},
        {76933,2651,50},
        {77439,2652,50},
        {77946,2653,50},
        {78452,2654,50},
        {78958,2655,50},
        {79465,2656,50},
        {79971,2657,50},
        {80478,2658,50},
        {80984,2659,50},
        {81491,2660,50},
        {81997,2661,50},
        {82503,2662,50},
        {83010,2663,50},
        {83516,1031,50},
        {84023,1012,50},
        {84501,507,75},
        {84974,49,80},
        {85447,515,80},
        {85920,509,80},
        {86382,50,90},
        {86833,47,100},
        {87284,5005,100},
        {87735,5015,100},
        {88185,5025,100},
        {88636,5035,100},
        {89087,5045,100},
        {89538,5055,100},
        {89933,5075,150},
        {90328,5135,150},
        {90667,5065,200},
        {91007,5085,200},
        {91346,5095,200},
        {91686,5105,200},
        {92025,5115,200},
        {92365,5125,200},
        {92704,5145,200},
        {92877,1461,350},
        {93049,1462,350},
        {93222,1463,350},
        {93394,1464,350},
        {93567,1465,350},
        {93739,1466,350},
        {93912,1467,350},
        {94073,1468,360},
        {94235,1469,360},
        {94396,1470,360},
        {94557,1471,360},
        {94719,1472,360},
        {94880,1473,360},
        {95042,1474,360},
        {95192,1454,370},
        {95342,1455,370},
        {95492,1456,370},
        {95643,1457,370},
        {95793,1458,370},
        {95943,1459,370},
        {96093,1460,370},
        {96221,6018,390},
        {96349,6019,390},
        {96477,6020,390},
        {96605,6021,390},
        {96733,6022,390},
        {96861,6023,390},
        {96989,6024,390},
        {97106,6011,400},
        {97223,6012,400},
        {97340,6013,400},
        {97457,6014,400},
        {97574,6015,400},
        {97690,6016,400},
        {97807,6017,400},
        {97913,1475,410},
        {98019,1476,410},
        {98125,1477,410},
        {98230,1478,410},
        {98336,1479,410},
        {98442,1480,410},
        {98548,1481,410},
        {98631,120,430},
        {98714,121,430},
        {98798,122,430},
        {98881,123,430},
        {98965,124,430},
        {99048,125,430},
        {99132,126,430},
        {99215,127,430},
        {99299,128,430},
        {99360,299,450},
        {99421,300,450},
        {99482,301,450},
        {99544,302,450},
        {99605,303,450},
        {99666,304,450},
        {99727,305,450},
        {99789,306,450},
        {99850,307,450},
        {99855,1482,500},
        {99861,1483,500},
        {99866,1484,500},
        {99872,1485,500},
        {99878,1486,500},
        {99883,1487,500},
        {99889,1488,500},
        {99894,1489,500},
        {99900,1490,500},
        {99905,1491,500},
        {99911,1492,500},
        {99917,1493,500},
        {99922,1494,500},
        {99928,1495,500},
        {99933,1496,500},
        {99939,1497,500},
        {99944,1498,500},
        {99950,1499,500},
        {99955,6025,500},
        {99961,6026,500},
        {99967,6027,500},
        {99972,6028,500},
        {99978,6029,500},
        {99983,6030,500},
        {99989,6031,500},
        {99994,6032,500},
        {100000,6033,500},

    },
}

-- 触发积分概率 { 次数, 概率 },
local pointProb = {
         {50,10000},
         {49,1500},
         {48,1500},
         {47,1500},
         {46,1400},
         {45,1400},
         {44,1400},
         {43,1300},
         {42,1300},
         {41,1300},
         {40,1200},
         {39,1200},
         {38,1200},
         {37,1100},
         {36,1100},
         {35,1100},
         {34,1000},
         {33,1000},
         {32,1000},
         {31,900},
         {30,900},
         {29,900},
         {28,800},
         {27,800},
         {26,800},
         {25,700},
         {24,700},
         {23,700},
         {22,600},
         {21,600},
         {20,600},
         {19,500},
         {18,500},
         {17,500},
         {16,400},
         {15,400},
         {14,400},
         {13,300},
         {12,300},
         {11,300},
         {10,200},
         {9,200},
         {8,200},
         {7,100},
         {6,100},
         {5,100},
         {4,0},
         {3,0},
         {2,0},
         {1,0},
}

-- 副本对应消耗物品
local copyitem = {
    [1] = 9012,
    [2] = 9013,
    [3] = 9014,
    [4] = 9015,
    [5] = 9016,
}

function luckyDraw(player, id, num, bind)
    local got = {}

    print('luckyDraw, id:' .. id .. ' num:' .. num)
    print(bind)
    local needitem = copyitem[id]
    if needitem == nil then
        return got 
    end 

    print('needitem: ' .. needitem)
    local package = player:GetPackage();
    local ninum = package:GetItemNum(needitem, bind)
    if ninum < num then
        return got 
    end 

    print('num*1.5: ' .. num*1.5)
    if package:GetRestPackageSize() < num * 1.5 then
        player:sendMsgCode(2, 1011, 0); 
        return got 
    end

    local item = items[id]
    if item == nil then
        return got
    end 

    local money = 0
    local point = 0
    for o = 1, num do
        SendMsg(player, 1, "绑分: " .. player:GetVarS(101) .. ", 非绑分: " .. player:GetVarS(99))
        if package:DelItem(needitem, 1, bind) == false then
            break
        end

        local x = math.random(1,100000)
        local sz = #item
        for i = 1,sz do
            if x <= item[i][1] then
                local it = item[i][2]
                package:Add(it, 1, bind, 0, 14)
                table.insert(got, {it, 1})
                point = point + item2point
                money = money + item[i][3]
                break
            end 
        end
        player:AddVar(100, 1)

        local p = math.random(1,10000)
        local count = player:GetVar(100)
        local sz1 = #pointProb
        for n = 1,sz1 do
            if count >= pointProb[n][1] and p <= pointProb[n][2] then
                if bind then
                    player:AddVarS(101, point - money)
                else
                    player:AddVarS(99, point - money)
                end

                local yapoint = 0
                if bind then
                    yapoint = player:GetVarS(101)
                else
                    yapoint = player:GetVarS(99)
                end

                if yapoint > 0 then
                    local pp = 0
                    for k = 1, sz do
                        if yapoint <= item[k][3] then
                            pp = item[k][3]
                            break
                        end
                    end

                    if pp ~= 0 then
                        local yaitem = {}
                        for l = k, sz do
                            if pp == item[l][3] then
                                table.insert(yaitem, item[l][2])
                            else
                                break
                            end
                        end

                        local yasz = #yaitem
                        if yasz ~= 0 then
                            if yasz == 1 then
                                local it = yaitem[1]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            else
                                local it = yaitem[math.random(1,yasz)]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            end
                        end
                    end
                end

                money = 0
                point = 0
                player:SetVar(100, 0)
                break
            end 
        end 
    end 

    if point ~= 0 then
        if bind then
            player:AddVarS(101, point - money)
        else
            player:AddVarS(99, point - money)
        end
    end

    return got 
end

