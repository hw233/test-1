
-- 消耗一个物品所得到的积分
local item2point = 10
local item2point2 = 6
local copylvl = {45,60,70,80,90,100}

-- { 物品概率(累积值), 物品ID, 积分}，对应5个副本
local items = {
    [1] = {
        {39141,548,1},
        {58712,5001,2},
        {78283,5011,2},
        {97853,5021,2},
        {117424,5031,2},
        {136995,5041,2},
        {156565,5051,2},
        {176136,55,2},
        {195707,510,2},
        {215277,51,2},
        {228324,2400,3},
        {241371,2401,3},
        {254419,2402,3},
        {267466,2403,3},
        {280513,2404,3},
        {293560,2405,3},
        {306607,2406,3},
        {319654,2407,3},
        {332701,2408,3},
        {345748,2409,3},
        {358795,2410,3},
        {371843,2411,3},
        {384890,2412,3},
        {397937,2413,3},
        {410984,2414,3},
        {424031,2415,3},
        {437078,2416,3},
        {450125,2417,3},
        {463172,2418,3},
        {476219,2419,3},
        {489266,2420,3},
        {502314,2421,3},
        {515361,2422,3},
        {528408,2423,3},
        {541455,5071,3},
        {554502,5131,3},
        {567549,5061,3},
        {580596,5081,3},
        {593643,5091,3},
        {606690,5101,3},
        {619738,5111,3},
        {632785,5121,3},
        {645832,5141,3},
        {658879,519,3},
        {671926,48,3},
        {681711,400,4},
        {691497,511,4},
        {701282,520,4},
        {711067,518,4},
        {717591,15,6},
        {724114,504,6},
        {728463,506,9},
        {732812,502,9},
        {737161,57,9},
        {741076,9020,10},
        {744990,9069,10},
        {748904,33,10},
        {752818,466,10},
        {756732,56,10},
        {760646,500,10},
        {764560,508,10},
        {768475,512,10},
        {772389,514,10},
        {776303,517,10},
        {780217,5003,10},
        {784131,5013,10},
        {788045,5023,10},
        {791959,5033,10},
        {795873,5043,10},
        {799788,5053,10},
        {803702,1061,10},
        {807616,1062,10},
        {811530,1063,10},
        {815444,1064,10},
        {819358,1109,10},
        {823272,1110,10},
        {827187,1111,10},
        {831101,1112,10},
        {835015,1113,10},
        {838929,1114,10},
        {842843,1115,10},
        {846757,1098,10},
        {850671,1099,10},
        {854585,1100,10},
        {858500,1101,10},
        {862414,1102,10},
        {866328,1103,10},
        {870242,1104,10},
        {874156,1105,10},
        {878070,1106,10},
        {881984,49,10},
        {885543,9018,11},
        {888804,9017,12},
        {892066,9019,12},
        {895077,9021,13},
        {897686,9068,15},
        {900296,8000,15},
        {902905,547,15},
        {905515,501,15},
        {908124,505,15},
        {910734,513,15},
        {913343,5073,15},
        {915952,5133,15},
        {918127,9075,18},
        {920187,9022,19},
        {922144,465,20},
        {924101,503,20},
        {926058,5063,20},
        {928015,5083,20},
        {929972,5093,20},
        {931929,5103,20},
        {933886,5113,20},
        {935844,5123,20},
        {937801,5143,20},
        {939758,50,20},
        {941062,9070,30},
        {942367,9071,30},
        {943672,9072,30},
        {944977,9073,30},
        {946281,9074,30},
        {947586,516,30},
        {948564,2544,40},
        {949543,2545,40},
        {950522,2546,40},
        {951500,2547,40},
        {952479,2548,40},
        {953457,2549,40},
        {954436,2550,40},
        {955414,2551,40},
        {956393,2552,40},
        {957371,2553,40},
        {958350,2554,40},
        {959328,2555,40},
        {960307,2556,40},
        {961285,2557,40},
        {962264,2558,40},
        {963242,2559,40},
        {964221,2560,40},
        {965200,2561,40},
        {966178,2562,40},
        {967157,2563,40},
        {968135,2564,40},
        {969114,2565,40},
        {970092,2566,40},
        {971071,2567,40},
        {971854,1505,50},
        {972636,1506,50},
        {973419,1507,50},
        {974202,1508,50},
        {974985,1224,50},
        {975768,1096,50},
        {976551,1107,50},
        {977333,1059,50},
        {978116,6006,50},
        {978899,6009,50},
        {979682,6034,50},
        {980465,6037,50},
        {981247,47,50},
        {981900,1225,60},
        {982552,1222,60},
        {983205,1223,60},
        {983726,507,75},
        {984222,549,79},
        {984711,515,80},
        {985200,1605,80},
        {985690,1615,80},
        {986179,1231,80},
        {986668,1235,80},
        {987157,1229,80},
        {987647,509,80},
        {988038,5005,100},
        {988430,5015,100},
        {988821,5025,100},
        {989212,5035,100},
        {989604,5045,100},
        {989995,5055,100},
        {990387,1604,100},
        {990778,1614,100},
        {991169,1503,100},
        {991561,1238,100},
        {991952,1246,100},
        {992344,1226,100},
        {992735,1243,100},
        {993127,6010,100},
        {993518,6038,100},
        {993909,1308,100},
        {994301,1311,100},
        {994692,1306,100},
        {995084,1310,100},
        {995475,1315,100},
        {995831,1233,110},
        {996157,1606,120},
        {996483,1608,120},
        {996744,5075,150},
        {997005,5135,150},
        {997266,1610,150},
        {997527,1603,150},
        {997788,1609,150},
        {997984,5065,200},
        {998179,5085,200},
        {998375,5095,200},
        {998571,5105,200},
        {998766,5115,200},
        {998962,5125,200},
        {999158,5145,200},
        {999336,6007,220},
        {999514,6008,220},
        {999692,6035,220},
        {999870,6036,220},
        {1000000,1504,300},

    },

    [2] = {
        {39671,548,1},
        {59506,5001,2},
        {79342,5011,2},
        {99177,5021,2},
        {119013,5031,2},
        {138848,5041,2},
        {158684,5051,2},
        {178519,55,2},
        {198355,510,2},
        {218190,51,2},
        {231414,2424,3},
        {244637,2425,3},
        {257861,2426,3},
        {271085,2427,3},
        {284308,2428,3},
        {297532,2429,3},
        {310756,2430,3},
        {323979,2431,3},
        {337203,2432,3},
        {350427,2433,3},
        {363650,2434,3},
        {376874,2435,3},
        {390097,2436,3},
        {403321,2437,3},
        {416545,2438,3},
        {429768,2439,3},
        {442992,2440,3},
        {456216,2441,3},
        {469439,2442,3},
        {482663,2443,3},
        {495887,2444,3},
        {509110,2445,3},
        {522334,2446,3},
        {535558,2447,3},
        {548781,5071,3},
        {562005,5131,3},
        {575228,5061,3},
        {588452,5081,3},
        {601676,5091,3},
        {614899,5101,3},
        {628123,5111,3},
        {641347,5121,3},
        {654570,5141,3},
        {667794,519,3},
        {681018,48,3},
        {690935,400,4},
        {700853,511,4},
        {710771,518,4},
        {720689,521,4},
        {727300,15,6},
        {733912,504,6},
        {738320,506,9},
        {742728,502,9},
        {747136,57,9},
        {751103,9020,10},
        {755070,9069,10},
        {759037,33,10},
        {763004,466,10},
        {766971,56,10},
        {770938,500,10},
        {774905,508,10},
        {778873,512,10},
        {782840,514,10},
        {786807,517,10},
        {790774,5003,10},
        {794741,5013,10},
        {798708,5023,10},
        {802675,5033,10},
        {806642,5043,10},
        {810609,5053,10},
        {814576,1086,10},
        {818544,1087,10},
        {822511,1088,10},
        {826478,1089,10},
        {830445,1090,10},
        {834412,1091,10},
        {838379,1092,10},
        {842346,1093,10},
        {846313,1094,10},
        {850280,1095,10},
        {854247,1076,10},
        {858214,1077,10},
        {862182,1078,10},
        {866149,1079,10},
        {870116,1080,10},
        {874083,1081,10},
        {878050,1082,10},
        {882017,1083,10},
        {885984,49,10},
        {889591,9018,11},
        {892896,9017,12},
        {896202,9019,12},
        {899254,9021,13},
        {901899,9068,15},
        {904543,8000,15},
        {907188,547,15},
        {909833,501,15},
        {912478,505,15},
        {915122,513,15},
        {917767,5073,15},
        {920412,5133,15},
        {922616,9075,18},
        {924704,9022,19},
        {926687,465,20},
        {928671,503,20},
        {930654,5063,20},
        {932638,5083,20},
        {934621,5093,20},
        {936605,5103,20},
        {938589,5113,20},
        {940572,5123,20},
        {942556,5143,20},
        {944539,50,20},
        {945862,9070,30},
        {947184,9071,30},
        {948506,9072,30},
        {949829,9073,30},
        {951151,9074,30},
        {952473,516,30},
        {953267,2568,50},
        {954060,2569,50},
        {954854,2570,50},
        {955647,2571,50},
        {956440,2572,50},
        {957234,2573,50},
        {958027,2574,50},
        {958821,2575,50},
        {959614,2576,50},
        {960408,2577,50},
        {961201,2578,50},
        {961994,2579,50},
        {962788,2580,50},
        {963581,2581,50},
        {964375,2582,50},
        {965168,2583,50},
        {965961,2584,50},
        {966755,2585,50},
        {967548,2586,50},
        {968342,2587,50},
        {969135,2588,50},
        {969929,2589,50},
        {970722,2590,50},
        {971515,2591,50},
        {972309,1074,50},
        {973102,1084,50},
        {973896,6006,50},
        {974689,6009,50},
        {975482,6034,50},
        {976276,6037,50},
        {977069,47,50},
        {977730,203,60},
        {978392,204,60},
        {979053,205,60},
        {979620,1413,70},
        {980186,1414,70},
        {980753,1415,70},
        {981320,1227,70},
        {981886,6053,70},
        {982453,6053,70},
        {983020,6053,70},
        {983549,507,75},
        {984051,549,79},
        {984547,515,80},
        {985043,200,80},
        {985539,201,80},
        {986035,202,80},
        {986530,509,80},
        {986971,1612,90},
        {987368,5005,100},
        {987765,5015,100},
        {988161,5025,100},
        {988558,5035,100},
        {988955,5045,100},
        {989352,5055,100},
        {989748,1607,100},
        {990145,1509,100},
        {990542,1251,100},
        {990938,1241,100},
        {991335,1242,100},
        {991732,1234,100},
        {992128,6010,100},
        {992525,6038,100},
        {992922,1317,100},
        {993205,82,140},
        {993489,83,140},
        {993772,84,140},
        {994055,85,140},
        {994320,5075,150},
        {994584,5135,150},
        {994849,1611,150},
        {995113,206,150},
        {995378,207,150},
        {995642,208,150},
        {995907,1230,150},
        {996171,1240,150},
        {996436,1307,150},
        {996700,1313,150},
        {996948,86,160},
        {997196,87,160},
        {997444,88,160},
        {997692,89,160},
        {997890,5065,200},
        {998089,5085,200},
        {998287,5095,200},
        {998485,5105,200},
        {998684,5115,200},
        {998882,5125,200},
        {999080,5145,200},
        {999279,1616,200},
        {999459,6007,220},
        {999639,6008,220},
        {999820,6035,220},
        {1000000,6036,220},

    },

    [3] = {
        {39397,548,1},
        {59095,5001,2},
        {78794,5011,2},
        {98492,5021,2},
        {118190,5031,2},
        {137889,5041,2},
        {157587,5051,2},
        {177285,55,2},
        {196984,510,2},
        {216682,51,2},
        {229814,2448,3},
        {242947,2449,3},
        {256079,2450,3},
        {269211,2451,3},
        {282343,2452,3},
        {295476,2453,3},
        {308608,2454,3},
        {321740,2455,3},
        {334872,2456,3},
        {348005,2457,3},
        {361137,2458,3},
        {374269,2459,3},
        {387402,2460,3},
        {400534,2461,3},
        {413666,2462,3},
        {426798,2463,3},
        {439931,2464,3},
        {453063,2465,3},
        {466195,2466,3},
        {479327,2467,3},
        {492460,2468,3},
        {505592,2469,3},
        {518724,2470,3},
        {531856,2471,3},
        {544989,5071,3},
        {558121,5131,3},
        {571253,5061,3},
        {584385,5081,3},
        {597518,5091,3},
        {610650,5101,3},
        {623782,5111,3},
        {636914,5121,3},
        {650047,5141,3},
        {663179,519,3},
        {676311,48,3},
        {686160,400,4},
        {696010,511,4},
        {705859,522,4},
        {715708,518,4},
        {722274,15,6},
        {728840,504,6},
        {733218,506,9},
        {737595,502,9},
        {741972,57,9},
        {745912,9020,10},
        {749852,9069,10},
        {753791,33,10},
        {757731,466,10},
        {761671,56,10},
        {765610,500,10},
        {769550,508,10},
        {773490,512,10},
        {777429,514,10},
        {781369,517,10},
        {785309,5003,10},
        {789249,5013,10},
        {793188,5023,10},
        {797128,5033,10},
        {801068,5043,10},
        {805007,5053,10},
        {808947,1067,10},
        {812887,1068,10},
        {816826,1069,10},
        {820766,1070,10},
        {824706,1071,10},
        {828645,1072,10},
        {832585,1073,10},
        {836525,1022,10},
        {840464,1023,10},
        {844404,1024,10},
        {848344,1025,10},
        {852283,1026,10},
        {856223,1027,10},
        {860163,1028,10},
        {864102,1029,10},
        {868042,1030,10},
        {871982,49,10},
        {875563,9018,11},
        {878846,9017,12},
        {882129,9019,12},
        {885160,9021,13},
        {887786,9068,15},
        {890413,8000,15},
        {893039,547,15},
        {895666,501,15},
        {898292,505,15},
        {900919,513,15},
        {903545,5073,15},
        {906171,5133,15},
        {908360,9075,18},
        {910434,9022,19},
        {912404,465,20},
        {914373,503,20},
        {916343,5063,20},
        {918313,5083,20},
        {920283,5093,20},
        {922253,5103,20},
        {924223,5113,20},
        {926192,5123,20},
        {928162,5143,20},
        {930132,50,20},
        {931445,9070,30},
        {932759,9071,30},
        {934072,9072,30},
        {935385,9073,30},
        {936698,9074,30},
        {938011,516,30},
        {938799,2592,50},
        {939587,2593,50},
        {940375,2594,50},
        {941163,2595,50},
        {941951,2596,50},
        {942739,2597,50},
        {943527,2598,50},
        {944315,2599,50},
        {945103,2600,50},
        {945891,2601,50},
        {946679,2602,50},
        {947467,2603,50},
        {948255,2604,50},
        {949043,2605,50},
        {949830,2606,50},
        {950618,2607,50},
        {951406,2608,50},
        {952194,2609,50},
        {952982,2610,50},
        {953770,2611,50},
        {954558,2612,50},
        {955346,2613,50},
        {956134,2614,50},
        {956922,2615,50},
        {957710,1020,50},
        {958498,1065,50},
        {959286,6006,50},
        {960074,6009,50},
        {960862,6034,50},
        {961650,6037,50},
        {962437,47,50},
        {962963,507,75},
        {963461,549,79},
        {963954,515,80},
        {964446,509,80},
        {964840,5005,100},
        {965234,5015,100},
        {965628,5025,100},
        {966022,5035,100},
        {966416,5045,100},
        {966810,5055,100},
        {967204,6010,100},
        {967598,6038,100},
        {967926,1236,120},
        {968255,1237,120},
        {968536,1421,140},
        {968818,1422,140},
        {969099,1423,140},
        {969380,1424,140},
        {969662,1425,140},
        {969943,1426,140},
        {970225,1427,140},
        {970506,1428,140},
        {970787,1429,140},
        {971069,1430,140},
        {971350,1431,140},
        {971632,1432,140},
        {971913,1416,140},
        {972194,1417,140},
        {972476,1418,140},
        {972757,1419,140},
        {973039,1420,140},
        {973320,6061,140},
        {973601,6061,140},
        {973883,6061,140},
        {974164,6061,140},
        {974446,6061,140},
        {974727,6061,140},
        {975008,6067,140},
        {975290,6067,140},
        {975571,6067,140},
        {975853,6067,140},
        {976134,6067,140},
        {976415,6067,140},
        {976697,6056,140},
        {976978,6056,140},
        {977260,6056,140},
        {977541,6056,140},
        {977822,6056,140},
        {978085,5075,150},
        {978348,5135,150},
        {978610,91,150},
        {978873,92,150},
        {979136,93,150},
        {979398,94,150},
        {979661,95,150},
        {979924,96,150},
        {980186,1245,150},
        {980433,103,160},
        {980679,104,160},
        {980925,105,160},
        {981171,106,160},
        {981417,107,160},
        {981664,108,160},
        {981910,109,160},
        {982156,110,160},
        {982388,228,170},
        {982620,229,170},
        {982851,230,170},
        {983083,231,170},
        {983315,232,170},
        {983547,233,170},
        {983778,234,170},
        {984010,235,170},
        {984242,236,170},
        {984474,237,170},
        {984705,238,170},
        {984937,239,170},
        {985169,240,170},
        {985401,241,170},
        {985632,242,170},
        {985851,97,180},
        {986070,98,180},
        {986289,99,180},
        {986508,100,180},
        {986727,101,180},
        {986946,102,180},
        {987153,217,190},
        {987360,218,190},
        {987568,219,190},
        {987775,220,190},
        {987982,221,190},
        {988190,222,190},
        {988397,223,190},
        {988604,224,190},
        {988801,5065,200},
        {988998,5085,200},
        {989195,5095,200},
        {989392,5105,200},
        {989589,5115,200},
        {989786,5125,200},
        {989983,5145,200},
        {990180,209,200},
        {990377,210,200},
        {990574,211,200},
        {990771,212,200},
        {990968,213,200},
        {991165,214,200},
        {991362,215,200},
        {991559,216,200},
        {991756,1253,200},
        {991944,1250,210},
        {992123,6007,220},
        {992302,6008,220},
        {992481,6035,220},
        {992660,6036,220},
        {993448,2872,50},
        {994236,2873,50},
        {995024,2874,50},
        {995812,2875,50},
        {996600,2876,50},
        {997388,2877,50},
        {998176,2878,50},
        {998963,2879,50},
        {999245,6121,140},
        {999508,6125,150},
        {1000000,308,80},

    },

    [4] = {
        {39711,548,1},
        {59567,5001,2},
        {79423,5011,2},
        {99279,5021,2},
        {119134,5031,2},
        {138990,5041,2},
        {158846,5051,2},
        {178701,55,2},
        {198557,510,2},
        {218413,51,2},
        {231650,2472,3},
        {244887,2473,3},
        {258124,2474,3},
        {271361,2475,3},
        {284599,2476,3},
        {297836,2477,3},
        {311073,2478,3},
        {324310,2479,3},
        {337547,2480,3},
        {350784,2481,3},
        {364021,2482,3},
        {377258,2483,3},
        {390496,2484,3},
        {403733,2485,3},
        {416970,2486,3},
        {430207,2487,3},
        {443444,2488,3},
        {456681,2489,3},
        {469918,2490,3},
        {483156,2491,3},
        {496393,2492,3},
        {509630,2493,3},
        {522867,2494,3},
        {536104,2495,3},
        {549341,5071,3},
        {562578,5131,3},
        {575816,5061,3},
        {589053,5081,3},
        {602290,5091,3},
        {615527,5101,3},
        {628764,5111,3},
        {642001,5121,3},
        {655238,5141,3},
        {668476,519,3},
        {681713,48,3},
        {691641,400,4},
        {701568,511,4},
        {711496,523,4},
        {721424,518,4},
        {728043,15,6},
        {734661,504,6},
        {739074,506,9},
        {743486,502,9},
        {747898,57,9},
        {751870,9020,10},
        {755841,9069,10},
        {759812,33,10},
        {763783,466,10},
        {767754,56,10},
        {771725,500,10},
        {775696,508,10},
        {779668,512,10},
        {783639,514,10},
        {787610,517,10},
        {791581,5003,10},
        {795552,5013,10},
        {799523,5023,10},
        {803494,5033,10},
        {807466,5043,10},
        {811437,5053,10},
        {815408,1042,10},
        {819379,1043,10},
        {823350,1044,10},
        {827321,1045,10},
        {831292,1046,10},
        {835264,1047,10},
        {839235,1048,10},
        {843206,1049,10},
        {847177,1050,10},
        {851148,1051,10},
        {855119,1054,10},
        {859090,1055,10},
        {863062,1056,10},
        {867033,1057,10},
        {871004,1058,10},
        {874975,49,10},
        {878585,9018,11},
        {881894,9017,12},
        {885204,9019,12},
        {888258,9021,13},
        {890906,9068,15},
        {893553,8000,15},
        {896201,547,15},
        {898848,501,15},
        {901496,505,15},
        {904143,513,15},
        {906790,5073,15},
        {909438,5133,15},
        {911644,9075,18},
        {913734,9022,19},
        {915720,465,20},
        {917705,503,20},
        {919691,5063,20},
        {921676,5083,20},
        {923662,5093,20},
        {925648,5103,20},
        {927633,5113,20},
        {929619,5123,20},
        {931604,5143,20},
        {933590,50,20},
        {934914,9070,30},
        {936237,9071,30},
        {937561,9072,30},
        {938885,9073,30},
        {940208,9074,30},
        {941532,516,30},
        {942326,2616,50},
        {943121,2617,50},
        {943915,2618,50},
        {944709,2619,50},
        {945503,2620,50},
        {946297,2621,50},
        {947092,2622,50},
        {947886,2623,50},
        {948680,2624,50},
        {949474,2625,50},
        {950269,2626,50},
        {951063,2627,50},
        {951857,2628,50},
        {952651,2629,50},
        {953445,2630,50},
        {954240,2631,50},
        {955034,2632,50},
        {955828,2633,50},
        {956622,2634,50},
        {957417,2635,50},
        {958211,2636,50},
        {959005,2637,50},
        {959799,2638,50},
        {960594,2639,50},
        {961388,1040,50},
        {962182,1052,50},
        {962976,6006,50},
        {963770,6009,50},
        {964565,6034,50},
        {965359,6037,50},
        {966153,47,50},
        {966683,507,75},
        {967185,549,79},
        {967682,515,80},
        {968178,509,80},
        {968575,5005,100},
        {968972,5015,100},
        {969369,5025,100},
        {969767,5035,100},
        {970164,5045,100},
        {970561,5055,100},
        {970958,6010,100},
        {971355,6038,100},
        {971620,5075,150},
        {971885,5135,150},
        {972149,1247,150},
        {972397,1254,160},
        {972631,1255,170},
        {972852,1249,180},
        {973050,5065,200},
        {973249,5085,200},
        {973447,5095,200},
        {973646,5105,200},
        {973844,5115,200},
        {974043,5125,200},
        {974242,5145,200},
        {974431,243,210},
        {974620,244,210},
        {974809,245,210},
        {974998,246,210},
        {975187,247,210},
        {975376,248,210},
        {975565,249,210},
        {975754,250,210},
        {975943,251,210},
        {976124,261,220},
        {976304,262,220},
        {976485,263,220},
        {976665,264,220},
        {976846,265,220},
        {977027,266,220},
        {977207,267,220},
        {977388,268,220},
        {977568,269,220},
        {977749,6007,220},
        {977929,6008,220},
        {978110,6035,220},
        {978290,6036,220},
        {978463,252,230},
        {978635,253,230},
        {978808,254,230},
        {978981,255,230},
        {979153,256,230},
        {979326,257,230},
        {979499,258,230},
        {979671,259,230},
        {979844,260,230},
        {980017,271,230},
        {980189,272,230},
        {980362,273,230},
        {980535,274,230},
        {980707,275,230},
        {980880,276,230},
        {981053,277,230},
        {981225,278,230},
        {981398,279,230},
        {981571,280,230},
        {981743,281,230},
        {981916,282,230},
        {982089,283,230},
        {982261,284,230},
        {982434,285,230},
        {982607,286,230},
        {982779,287,230},
        {982952,288,230},
        {983124,289,230},
        {983297,290,230},
        {983470,291,230},
        {983642,292,230},
        {983815,293,230},
        {983988,294,230},
        {984160,295,230},
        {984333,296,230},
        {984506,297,230},
        {984671,1440,240},
        {984837,1441,240},
        {985002,1442,240},
        {985168,1443,240},
        {985333,1444,240},
        {985499,1445,240},
        {985664,1446,240},
        {985829,1447,240},
        {985995,1448,240},
        {986160,1449,240},
        {986326,1450,240},
        {986491,1451,240},
        {986657,1452,240},
        {986822,1453,240},
        {986988,1433,240},
        {987153,1434,240},
        {987319,1435,240},
        {987484,1436,240},
        {987650,1437,240},
        {987815,1438,240},
        {987981,1439,240},
        {988146,6080,240},
        {988311,6080,240},
        {988477,6080,240},
        {988642,6080,240},
        {988808,6080,240},
        {988973,6080,240},
        {989139,6080,240},
        {989304,6087,240},
        {989470,6087,240},
        {989635,6087,240},
        {989801,6087,240},
        {989966,6087,240},
        {990132,6087,240},
        {990297,6087,240},
        {990462,6073,240},
        {990628,6073,240},
        {990793,6073,240},
        {990959,6073,240},
        {991124,6073,240},
        {991290,6073,240},
        {991455,6073,240},
        {991608,111,260},
        {991761,112,260},
        {991913,113,260},
        {992066,114,260},
        {992219,115,260},
        {992372,116,260},
        {992524,117,260},
        {992677,118,260},
        {992830,119,260},
        {993624,2880,50},
        {994418,2881,50},
        {995213,2882,50},
        {996007,2883,50},
        {996801,2884,50},
        {997595,2885,50},
        {998389,2886,50},
        {999184,2887,50},
        {999448,6122,150},
        {999669,6126,180},
        {1000000,309,120},

    },

    [5] = {
        {40138,548,1},
        {60207,5001,2},
        {80275,5011,2},
        {100344,5021,2},
        {120413,5031,2},
        {140482,5041,2},
        {160551,5051,2},
        {180620,55,2},
        {200689,510,2},
        {220758,51,2},
        {234137,2496,3},
        {247516,2497,3},
        {260895,2498,3},
        {274274,2499,3},
        {287654,2500,3},
        {301033,2501,3},
        {314412,2502,3},
        {327791,2503,3},
        {341171,2504,3},
        {354550,2505,3},
        {367929,2506,3},
        {381308,2507,3},
        {394688,2508,3},
        {408067,2509,3},
        {421446,2510,3},
        {434825,2511,3},
        {448205,2512,3},
        {461584,2513,3},
        {474963,2514,3},
        {488342,2515,3},
        {501722,2516,3},
        {515101,2517,3},
        {528480,2518,3},
        {541859,2519,3},
        {555239,5071,3},
        {568618,5131,3},
        {581997,5061,3},
        {595376,5081,3},
        {608756,5091,3},
        {622135,5101,3},
        {635514,5111,3},
        {648893,5121,3},
        {662273,5141,3},
        {675652,519,3},
        {689031,48,3},
        {699065,400,4},
        {709100,511,4},
        {719134,524,4},
        {729169,518,4},
        {735858,15,6},
        {742548,504,6},
        {747008,506,9},
        {751467,502,9},
        {755927,57,9},
        {759941,9020,10},
        {763955,9069,10},
        {767969,514,10},
        {771982,33,10},
        {775996,466,10},
        {780010,56,10},
        {784024,500,10},
        {788037,508,10},
        {792051,512,10},
        {796065,517,10},
        {800079,5003,10},
        {804092,5013,10},
        {808106,5023,10},
        {812120,5033,10},
        {816134,5043,10},
        {820148,5053,10},
        {824161,1014,10},
        {828175,1015,10},
        {832189,1016,10},
        {836203,1017,10},
        {840216,1018,10},
        {844230,1019,10},
        {848244,1033,10},
        {852258,1034,10},
        {856272,1035,10},
        {860285,1036,10},
        {864299,1037,10},
        {868313,1038,10},
        {872327,1039,10},
        {876340,49,10},
        {879989,9018,11},
        {883334,9017,12},
        {886679,9019,12},
        {889766,9021,13},
        {892442,9068,15},
        {895118,8000,15},
        {897794,547,15},
        {900470,501,15},
        {903146,505,15},
        {905821,513,15},
        {908497,5073,15},
        {911173,5133,15},
        {913403,9075,18},
        {915516,9022,19},
        {917522,465,20},
        {919529,503,20},
        {921536,5063,20},
        {923543,5083,20},
        {925550,5093,20},
        {927557,5103,20},
        {929564,5113,20},
        {931571,5123,20},
        {933578,5143,20},
        {935584,50,20},
        {936922,9070,30},
        {938260,9071,30},
        {939598,9072,30},
        {940936,9073,30},
        {942274,9074,30},
        {943612,516,30},
        {944415,2640,50},
        {945217,2641,50},
        {946020,2642,50},
        {946823,2643,50},
        {947626,2644,50},
        {948429,2645,50},
        {949231,2646,50},
        {950034,2647,50},
        {950837,2648,50},
        {951640,2649,50},
        {952442,2650,50},
        {953245,2651,50},
        {954048,2652,50},
        {954851,2653,50},
        {955653,2654,50},
        {956456,2655,50},
        {957259,2656,50},
        {958062,2657,50},
        {958864,2658,50},
        {959667,2659,50},
        {960470,2660,50},
        {961273,2661,50},
        {962075,2662,50},
        {962878,2663,50},
        {963681,1031,50},
        {964484,1012,50},
        {965286,6006,50},
        {966089,6009,50},
        {966892,6034,50},
        {967695,6037,50},
        {968497,47,50},
        {969033,507,75},
        {969541,549,79},
        {970042,515,80},
        {970544,509,80},
        {970945,5005,100},
        {971347,5015,100},
        {971748,5025,100},
        {972150,5035,100},
        {972551,5045,100},
        {972952,5055,100},
        {973354,6010,100},
        {973755,6038,100},
        {974023,5075,150},
        {974290,5135,150},
        {974491,5065,200},
        {974692,5085,200},
        {974892,5095,200},
        {975093,5105,200},
        {975294,5115,200},
        {975494,5125,200},
        {975695,5145,200},
        {975878,6007,220},
        {976060,6008,220},
        {976242,6035,220},
        {976425,6036,220},
        {976599,1461,230},
        {976774,1462,230},
        {976948,1463,230},
        {977123,1464,230},
        {977297,1465,230},
        {977472,1466,230},
        {977646,1467,230},
        {977814,1468,240},
        {977981,1469,240},
        {978148,1470,240},
        {978315,1471,240},
        {978483,1472,240},
        {978650,1473,240},
        {978817,1474,240},
        {978978,1454,250},
        {979138,1455,250},
        {979299,1456,250},
        {979459,1457,250},
        {979620,1458,250},
        {979780,1459,250},
        {979941,1460,250},
        {980095,6018,260},
        {980250,6019,260},
        {980404,6020,260},
        {980558,6021,260},
        {980713,6022,260},
        {980867,6023,260},
        {981022,6024,260},
        {981176,6011,260},
        {981330,6012,260},
        {981485,6013,260},
        {981639,6014,260},
        {981793,6015,260},
        {981948,6016,260},
        {982102,6017,260},
        {982251,1475,270},
        {982400,1476,270},
        {982548,1477,270},
        {982697,1478,270},
        {982846,1479,270},
        {982994,1480,270},
        {983143,1481,270},
        {983286,120,280},
        {983430,121,280},
        {983573,122,280},
        {983716,123,280},
        {983860,124,280},
        {984003,125,280},
        {984146,126,280},
        {984290,127,280},
        {984433,128,280},
        {984571,299,290},
        {984710,300,290},
        {984848,301,290},
        {984987,302,290},
        {985125,303,290},
        {985263,304,290},
        {985402,305,290},
        {985540,306,290},
        {985679,307,290},
        {985812,1482,300},
        {985946,1483,300},
        {986080,1484,300},
        {986214,1485,300},
        {986348,1486,300},
        {986481,1487,300},
        {986615,1488,300},
        {986749,1489,300},
        {986883,1490,300},
        {987017,1491,300},
        {987150,1492,300},
        {987284,1493,300},
        {987418,1494,300},
        {987552,1495,300},
        {987686,1496,300},
        {987819,1497,300},
        {987953,1498,300},
        {988087,1499,300},
        {988221,6025,300},
        {988354,6026,300},
        {988488,6027,300},
        {988622,6028,300},
        {988756,6029,300},
        {988890,6030,300},
        {989023,6031,300},
        {989157,6032,300},
        {989291,6033,300},
        {989425,6094,300},
        {989559,6094,300},
        {989692,6094,300},
        {989826,6094,300},
        {989960,6094,300},
        {990094,6094,300},
        {990228,6094,300},
        {990361,6094,300},
        {990495,6094,300},
        {990629,6112,300},
        {990763,6112,300},
        {990897,6112,300},
        {991030,6112,300},
        {991164,6112,300},
        {991298,6112,300},
        {991432,6112,300},
        {991566,6112,300},
        {991699,6112,300},
        {991833,6103,300},
        {991967,6103,300},
        {992101,6103,300},
        {992234,6103,300},
        {992368,6103,300},
        {992502,6103,300},
        {992636,6103,300},
        {992770,6103,300},
        {992903,6103,300},
        {993706,2888,50},
        {994509,2889,50},
        {995312,2890,50},
        {996114,2891,50},
        {996917,2892,50},
        {997720,2893,50},
        {998523,2894,50},
        {999325,2895,50},
        {999526,6123,200},
        {999749,6127,180},
        {1000000,310,160},

    },

    [6] = {
        {42863,548,1},
        {64294,5001,2},
        {85725,5011,2},
        {107157,5021,2},
        {128588,5031,2},
        {150020,5041,2},
        {171451,5051,2},
        {192882,55,2},
        {214314,510,2},
        {235745,51,2},
        {250033,5071,3},
        {264320,5131,3},
        {278608,5061,3},
        {292895,5081,3},
        {307183,5091,3},
        {321471,5101,3},
        {335758,5111,3},
        {350046,5121,3},
        {364333,5141,3},
        {378621,519,3},
        {392908,48,3},
        {407196,2520,3},
        {421484,2521,3},
        {435771,2522,3},
        {450059,2523,3},
        {464346,2524,3},
        {478634,2525,3},
        {492922,2526,3},
        {507209,2527,3},
        {521497,2528,3},
        {535784,2529,3},
        {550072,2530,3},
        {564359,2531,3},
        {578647,2532,3},
        {592935,2533,3},
        {607222,2534,3},
        {621510,2535,3},
        {635797,2536,3},
        {650085,2537,3},
        {664373,2538,3},
        {678660,2539,3},
        {692948,2540,3},
        {707235,2541,3},
        {721523,2542,3},
        {735810,2543,3},
        {746526,400,4},
        {757242,511,4},
        {767957,525,4},
        {778673,518,4},
        {785817,15,6},
        {792961,504,6},
        {797723,506,9},
        {802486,502,9},
        {807248,57,9},
        {811535,9020,10},
        {815821,9069,10},
        {820107,514,10},
        {824393,33,10},
        {828680,466,10},
        {832966,56,10},
        {837252,500,10},
        {841539,508,10},
        {845825,512,10},
        {850111,517,10},
        {854397,5003,10},
        {858684,5013,10},
        {862970,5023,10},
        {867256,5033,10},
        {871542,5043,10},
        {875829,5053,10},
        {880115,49,10},
        {884012,9018,11},
        {887583,9017,12},
        {891155,9019,12},
        {894453,9021,13},
        {897310,9068,15},
        {900168,8000,15},
        {903025,547,15},
        {905883,501,15},
        {908740,505,15},
        {911598,513,15},
        {914455,5073,15},
        {917313,5133,15},
        {919694,9075,18},
        {921950,9022,19},
        {924093,465,20},
        {926236,503,20},
        {928379,5063,20},
        {930522,5083,20},
        {932666,5093,20},
        {934809,5103,20},
        {936952,5113,20},
        {939095,5123,20},
        {941238,5143,20},
        {943381,50,20},
        {944810,9070,30},
        {946239,9071,30},
        {947667,9072,30},
        {949096,9073,30},
        {950525,9074,30},
        {951954,516,30},
        {953025,2664,40},
        {954097,2665,40},
        {955168,2666,40},
        {956240,2667,40},
        {957312,2668,40},
        {958383,2669,40},
        {959455,2670,40},
        {960526,2671,40},
        {961598,2672,40},
        {962669,2673,40},
        {963741,2674,40},
        {964813,2675,40},
        {965884,2676,40},
        {966956,2677,40},
        {968027,2678,40},
        {969099,2679,40},
        {970170,2680,40},
        {971242,2681,40},
        {972314,2682,40},
        {973385,2683,40},
        {974457,2684,40},
        {975528,2685,40},
        {976600,2686,40},
        {977671,2687,40},
        {978529,6006,50},
        {979386,6009,50},
        {980243,6034,50},
        {981100,6037,50},
        {981958,47,50},
        {982529,507,75},
        {983072,549,79},
        {983608,515,80},
        {984143,509,80},
        {984572,5005,100},
        {985001,5015,100},
        {985429,5025,100},
        {985858,5035,100},
        {986286,5045,100},
        {986715,5055,100},
        {987144,6010,100},
        {987572,6038,100},
        {987858,5075,150},
        {988144,5135,150},
        {988358,5065,200},
        {988572,5085,200},
        {988787,5095,200},
        {989001,5105,200},
        {989215,5115,200},
        {989430,5125,200},
        {989644,5145,200},
        {989839,6007,220},
        {990034,6008,220},
        {990229,6035,220},
        {990423,6036,220},
        {990582,6039,270},
        {990741,6040,270},
        {990900,6041,270},
        {991058,6042,270},
        {991217,6043,270},
        {991376,6044,270},
        {991535,6045,270},
        {991688,6046,280},
        {991841,6047,280},
        {991994,6048,280},
        {992147,6049,280},
        {992300,6050,280},
        {992453,6051,280},
        {992606,6052,280},
        {993463,2896,50},
        {994321,2897,50},
        {995178,2898,50},
        {996035,2899,50},
        {996892,2900,50},
        {997750,2901,50},
        {998607,2902,50},
        {999464,2903,50},
        {999607,6124,300},
        {999786,6128,240},
        {1000000,311,200},

    },

}

-- 触发积分概率 { 次数, 概率 },
local pointProb = {
         {100,1350},
         {99,1340},
         {98,1330},
         {97,1320},
         {96,1310},
         {95,1300},
         {94,1290},
         {93,1280},
         {92,1270},
         {91,1260},
         {90,1250},
         {89,1240},
         {88,1230},
         {87,1220},
         {86,1210},
         {85,1200},
         {84,1190},
         {83,1180},
         {82,1170},
         {81,1160},
         {80,1150},
         {79,1140},
         {78,1130},
         {77,1120},
         {76,1110},
         {75,1100},
         {74,1090},
         {73,1080},
         {72,1070},
         {71,1060},
         {70,1050},
         {69,1040},
         {68,1030},
         {67,1020},
         {66,1010},
         {65,1000},
         {64,990},
         {63,980},
         {62,970},
         {61,960},
         {60,950},
         {59,940},
         {58,930},
         {57,920},
         {56,910},
         {55,900},
         {54,890},
         {53,880},
         {52,870},
         {51,860},
         {50,850},
         {49,840},
         {48,830},
         {47,820},
         {46,810},
         {45,800},
         {44,790},
         {43,780},
         {42,770},
         {41,760},
         {40,750},
         {39,740},
         {38,730},
         {37,720},
         {36,710},
         {35,700},
         {34,690},
         {33,680},
         {32,670},
         {31,660},
         {30,650},
         {29,640},
         {28,630},
         {27,620},
         {26,610},
         {25,600},
         {24,590},
         {23,580},
         {22,570},
         {21,560},
         {20,550},
         {19,540},
         {18,530},
         {17,520},
         {16,510},
         {15,500},
         {14,490},
         {13,480},
         {12,470},
         {11,460},
         {10,450},
         {9,440},
         {8,430},
         {7,420},
         {6,410},
         {5,400},
         {4,0},
         {3,0},
         {2,0},
         {1,0},
}

-- 副本对应消耗物品
local copyitem = {
    [1] = 9012,
    [2] = 9013,
    [3] = 9014,
    [4] = 9015,
    [5] = 9016,
    [6] = 9035,
}

function luckyDraw(player, id, num, bind)
    local got = {}

    local needitem = copyitem[id]
    if needitem == nil then
        return got 
    end 

    local lvl = player:GetLev()
    local item2gold = 10

    local package = player:GetPackage()
    local bnum = package:GetItemNum(needitem, true)
    local ubnum = package:GetItemNum(needitem, false)

    if (bnum + ubnum) < num then
        player:sendMsgCode(2, 1076, 0)
        return got 
    end

    if package:GetRestPackageSize() < num * 1.5 then
        player:sendMsgCode(2, 1011, 0)
        return got 
    end

    local item = items[id]
    if item == nil then
        return got
    end 

    local money = 0
    local point = 0
    local use = 1 -- 1-bind 2-unbind
    for o = 1, num do
        if use == 1 then
            if bnum ~= 0 then
                bnum = bnum - 1
                bind = true
            else
                use = 2
                bind = false
            end
        end

        if use == 2 then
            if ubnum ~= 0 then
                ubnum = ubnum - 1
            else
                break
            end
        end

        print('use: ' .. use)

        if use == 1 then
            if package:DelItem(needitem, 1, bind) == false then
                break
            end
        elseif use == 2 then
            if package:DelItem(needitem, 1, bind) == false then
                break
            end
        else
            break
        end

        local x = math.random(1,1000000)
        local sz = #item
        for i = 1,sz do
            if x <= item[i][1] then
                local it = item[i][2]
                print(bind)
                package:Add(it, 1, bind, 0, 14)
                table.insert(got, {it, 1})
                if bind then
                    point = point + item2point2
                else
                    point = point + item2point
                end
                money = money + item[i][3]
                break
            end 
        end

        local p = math.random(1,10000)
        local count = player:GetVar(100)
        local sz1 = #pointProb

        player:AddVar(100, 1)
        if isDebug() then
            player:AddVar(5, 1)
        end

        for n = 1,sz1 do
            if count >= pointProb[n][1] and p <= pointProb[n][2] then
                if bind then
                    player:AddVarS(101, point - money)
                else
                    player:AddVarS(99, point - money)
                end

                if isDebug() then
                    player:AddVar(4, money)
                end

                local yapoint = 0
                if bind then
                    yapoint = player:GetVarS(101)
                else
                    yapoint = player:GetVarS(99)
                end

                if yapoint > 0 then
                    if isDebug() then
                        SendMsg(player, 1, "触发时积分: " .. yapoint)
                    end
                    local pp = 0
                    local pos = 0
                    for k = 1, sz do
                        if yapoint <= item[k][3] then
                            if k > 1 then
                                pp = item[k-1][3]
                            end
                            break
                        end
                        pos = pos + 1
                    end

                    if pos == sz then
                        pp = item[pos][3]
                    end

                    if pp ~= 0 then
                        local yaitem = {}
                        for l = 1, sz do
                            if pp == item[l][3] then
                                table.insert(yaitem, item[l][2])
                            end
                        end

                        local yasz = #yaitem
                        if yasz ~= 0 then
                            if yasz == 1 then
                                local it = yaitem[1]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            else
                                local it = yaitem[math.random(1,yasz)]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            end

                            if bind then
                                yapoint = player:SetVar(101, yapoint - pp)
                            else
                                yapoint = player:SetVar(99, yapoint - pp)
                            end
                        end
                    end
                    player:SetVar(100, 0)
                end

                money = 0
                point = 0
                break
            end
        end
    end

    if point ~= 0 then
        if bind then
            player:AddVarS(101, point - money)
        else
            player:AddVarS(99, point - money)
        end
    end

    if isDebug() then
        player:AddVar(4, money)
        SendMsg(player, 1, "次数: " .. player:GetVar(100) .. ", 绑分: " .. player:GetVarS(101) .. ", 非绑分: " .. player:GetVarS(99) .. " 总积分: " .. player:GetVar(4) .. " 总次数: " .. player:GetVar(5))
    end

    return got 
end

