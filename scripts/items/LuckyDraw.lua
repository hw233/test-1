
-- 消耗一个物品所得到的积分
local item2point = 10
local item2point2 = 6

-- { 物品概率(累积值), 物品ID, 积分}，对应5个副本
local items = {
    [1] = {
        {19687,548,1},
        {39374,2256,1},
        {59061,2257,1},
        {78748,2258,1},
        {98436,2259,1},
        {118123,2260,1},
        {137810,2261,1},
        {157497,2262,1},
        {177184,2263,1},
        {196871,2264,1},
        {216558,2265,1},
        {236245,2266,1},
        {255932,2267,1},
        {275620,2268,1},
        {295307,2269,1},
        {314994,2270,1},
        {334681,2271,1},
        {354368,2272,1},
        {374055,2273,1},
        {393742,2274,1},
        {413429,2275,1},
        {433116,2276,1},
        {452804,2277,1},
        {472491,2278,1},
        {492178,2279,1},
        {502021,5001,2},
        {511865,5011,2},
        {521708,5021,2},
        {531552,5031,2},
        {541396,5041,2},
        {551239,5051,2},
        {561083,55,2},
        {570926,510,2},
        {580770,51,2},
        {587332,2400,3},
        {593895,2401,3},
        {600457,2402,3},
        {607019,2403,3},
        {613582,2404,3},
        {620144,2405,3},
        {626706,2406,3},
        {633269,2407,3},
        {639831,2408,3},
        {646393,2409,3},
        {652956,2410,3},
        {659518,2411,3},
        {666081,2412,3},
        {672643,2413,3},
        {679205,2414,3},
        {685768,2415,3},
        {692330,2416,3},
        {698892,2417,3},
        {705455,2418,3},
        {712017,2419,3},
        {718580,2420,3},
        {725142,2421,3},
        {731704,2422,3},
        {738267,2423,3},
        {744829,5071,3},
        {751391,5131,3},
        {757954,5061,3},
        {764516,5081,3},
        {771079,5091,3},
        {777641,5101,3},
        {784203,5111,3},
        {790766,5121,3},
        {797328,5141,3},
        {803890,519,3},
        {810453,48,3},
        {815375,400,4},
        {820296,511,4},
        {825218,520,4},
        {830140,518,4},
        {834077,9017,5},
        {838015,9018,5},
        {841952,9019,5},
        {845890,9020,5},
        {849827,9021,5},
        {853764,9069,5},
        {857046,15,6},
        {860327,504,6},
        {863608,9068,6},
        {866069,9022,8},
        {868530,9075,8},
        {870717,506,9},
        {872905,502,9},
        {875092,57,9},
        {877280,9070,9},
        {879467,9071,9},
        {881654,9072,9},
        {883842,9073,9},
        {886029,9074,9},
        {887998,33,10},
        {889967,466,10},
        {891936,56,10},
        {893904,500,10},
        {895873,508,10},
        {897842,512,10},
        {899810,514,10},
        {901779,517,10},
        {903748,5003,10},
        {905717,5013,10},
        {907685,5023,10},
        {909654,5033,10},
        {911623,5043,10},
        {913591,5053,10},
        {915560,1061,10},
        {917529,1062,10},
        {919497,1063,10},
        {921466,1064,10},
        {923435,1109,10},
        {925404,1110,10},
        {927372,1111,10},
        {929341,1112,10},
        {931310,1113,10},
        {933278,1114,10},
        {935247,1115,10},
        {937216,1098,10},
        {939185,1099,10},
        {941153,1100,10},
        {943122,1101,10},
        {945091,1102,10},
        {947059,1103,10},
        {949028,1104,10},
        {950997,1105,10},
        {952966,1106,10},
        {954934,49,10},
        {956247,8000,15},
        {957559,547,15},
        {958872,501,15},
        {960184,505,15},
        {961497,513,15},
        {962809,5073,15},
        {964122,5133,15},
        {965106,465,20},
        {966090,503,20},
        {967075,5063,20},
        {968059,5083,20},
        {969043,5093,20},
        {970028,5103,20},
        {971012,5113,20},
        {971996,5123,20},
        {972981,5143,20},
        {973965,50,20},
        {974621,516,30},
        {975114,2544,40},
        {975606,2545,40},
        {976098,2546,40},
        {976590,2547,40},
        {977082,2548,40},
        {977574,2549,40},
        {978067,2550,40},
        {978559,2551,40},
        {979051,2552,40},
        {979543,2553,40},
        {980035,2554,40},
        {980528,2555,40},
        {981020,2556,40},
        {981512,2557,40},
        {982004,2558,40},
        {982496,2559,40},
        {982988,2560,40},
        {983481,2561,40},
        {983973,2562,40},
        {984465,2563,40},
        {984957,2564,40},
        {985449,2565,40},
        {985941,2566,40},
        {986434,2567,40},
        {986827,1505,50},
        {987221,1506,50},
        {987615,1507,50},
        {988009,1508,50},
        {988402,1224,50},
        {988796,1096,50},
        {989190,1107,50},
        {989584,1059,50},
        {989977,6006,50},
        {990371,6009,50},
        {990765,6034,50},
        {991159,6037,50},
        {991552,47,50},
        {991880,1225,60},
        {992209,1222,60},
        {992537,1223,60},
        {992799,507,75},
        {993048,549,79},
        {993294,515,80},
        {993541,1605,80},
        {993787,1615,80},
        {994033,1231,80},
        {994279,1235,80},
        {994525,1229,80},
        {994771,509,80},
        {994968,5005,100},
        {995165,5015,100},
        {995362,5025,100},
        {995558,5035,100},
        {995755,5045,100},
        {995952,5055,100},
        {996149,1604,100},
        {996346,1614,100},
        {996543,1503,100},
        {996740,1238,100},
        {996937,1246,100},
        {997133,1226,100},
        {997330,1243,100},
        {997527,6010,100},
        {997724,6038,100},
        {997903,1233,110},
        {998067,1606,120},
        {998231,1608,120},
        {998362,5075,150},
        {998494,5135,150},
        {998625,1610,150},
        {998756,1603,150},
        {998887,1609,150},
        {998986,5065,200},
        {999084,5085,200},
        {999183,5095,200},
        {999281,5105,200},
        {999380,5115,200},
        {999478,5125,200},
        {999576,5145,200},
        {999666,6007,220},
        {999755,6008,220},
        {999845,6035,220},
        {999934,6036,220},
        {1000000,1504,300},

    },

    [2] = {
        {19827,548,1},
        {39653,2280,1},
        {59480,2281,1},
        {79306,2282,1},
        {99133,2283,1},
        {118959,2284,1},
        {138786,2285,1},
        {158612,2286,1},
        {178439,2287,1},
        {198266,2288,1},
        {218092,2289,1},
        {237919,2290,1},
        {257745,2291,1},
        {277572,2292,1},
        {297398,2293,1},
        {317225,2294,1},
        {337052,2295,1},
        {356878,2296,1},
        {376705,2297,1},
        {396531,2298,1},
        {416358,2299,1},
        {436184,2300,1},
        {456011,2301,1},
        {475837,2302,1},
        {495664,2303,1},
        {505577,5001,2},
        {515491,5011,2},
        {525404,5021,2},
        {535317,5031,2},
        {545230,5041,2},
        {555144,5051,2},
        {565057,55,2},
        {574970,510,2},
        {584884,51,2},
        {591492,2424,3},
        {598101,2425,3},
        {604710,2426,3},
        {611319,2427,3},
        {617928,2428,3},
        {624537,2429,3},
        {631146,2430,3},
        {637754,2431,3},
        {644363,2432,3},
        {650972,2433,3},
        {657581,2434,3},
        {664190,2435,3},
        {670799,2436,3},
        {677408,2437,3},
        {684016,2438,3},
        {690625,2439,3},
        {697234,2440,3},
        {703843,2441,3},
        {710452,2442,3},
        {717061,2443,3},
        {723670,2444,3},
        {730278,2445,3},
        {736887,2446,3},
        {743496,2447,3},
        {750105,5071,3},
        {756714,5131,3},
        {763323,5061,3},
        {769931,5081,3},
        {776540,5091,3},
        {783149,5101,3},
        {789758,5111,3},
        {796367,5121,3},
        {802976,5141,3},
        {809585,519,3},
        {816193,48,3},
        {821150,400,4},
        {826107,511,4},
        {831063,518,4},
        {836020,521,4},
        {839985,9017,5},
        {843951,9018,5},
        {847916,9019,5},
        {851881,9020,5},
        {855847,9021,5},
        {859812,9069,5},
        {863116,15,6},
        {866421,504,6},
        {869725,9068,6},
        {872204,9022,8},
        {874682,9075,8},
        {876885,506,9},
        {879088,502,9},
        {881291,57,9},
        {883494,9070,9},
        {885697,9071,9},
        {887900,9072,9},
        {890102,9073,9},
        {892305,9074,9},
        {894288,33,10},
        {896271,466,10},
        {898253,56,10},
        {900236,500,10},
        {902219,508,10},
        {904201,512,10},
        {906184,514,10},
        {908167,517,10},
        {910149,5003,10},
        {912132,5013,10},
        {914115,5023,10},
        {916097,5033,10},
        {918080,5043,10},
        {920063,5053,10},
        {922045,1086,10},
        {924028,1087,10},
        {926011,1088,10},
        {927993,1089,10},
        {929976,1090,10},
        {931959,1091,10},
        {933941,1092,10},
        {935924,1093,10},
        {937907,1094,10},
        {939889,1095,10},
        {941872,1076,10},
        {943855,1077,10},
        {945837,1078,10},
        {947820,1079,10},
        {949802,1080,10},
        {951785,1081,10},
        {953768,1082,10},
        {955750,1083,10},
        {957733,49,10},
        {959055,8000,15},
        {960377,547,15},
        {961698,501,15},
        {963020,505,15},
        {964342,513,15},
        {965664,5073,15},
        {966985,5133,15},
        {967977,465,20},
        {968968,503,20},
        {969959,5063,20},
        {970951,5083,20},
        {971942,5093,20},
        {972933,5103,20},
        {973925,5113,20},
        {974916,5123,20},
        {975907,5143,20},
        {976899,50,20},
        {977560,516,30},
        {977956,2568,50},
        {978353,2569,50},
        {978749,2570,50},
        {979146,2571,50},
        {979542,2572,50},
        {979939,2573,50},
        {980335,2574,50},
        {980732,2575,50},
        {981128,2576,50},
        {981525,2577,50},
        {981922,2578,50},
        {982318,2579,50},
        {982715,2580,50},
        {983111,2581,50},
        {983508,2582,50},
        {983904,2583,50},
        {984301,2584,50},
        {984697,2585,50},
        {985094,2586,50},
        {985490,2587,50},
        {985887,2588,50},
        {986283,2589,50},
        {986680,2590,50},
        {987076,2591,50},
        {987473,1074,50},
        {987869,1084,50},
        {988266,6006,50},
        {988663,6009,50},
        {989059,6034,50},
        {989456,6037,50},
        {989852,47,50},
        {990183,203,60},
        {990513,204,60},
        {990843,205,60},
        {991127,1413,70},
        {991410,1414,70},
        {991693,1415,70},
        {991976,1227,70},
        {992241,507,75},
        {992492,549,79},
        {992740,515,80},
        {992987,200,80},
        {993235,201,80},
        {993483,202,80},
        {993731,509,80},
        {993951,1612,90},
        {994149,5005,100},
        {994348,5015,100},
        {994546,5025,100},
        {994744,5035,100},
        {994943,5045,100},
        {995141,5055,100},
        {995339,1607,100},
        {995537,1509,100},
        {995736,1251,100},
        {995934,1241,100},
        {996132,1242,100},
        {996330,1234,100},
        {996529,6010,100},
        {996727,6038,100},
        {996869,82,140},
        {997010,83,140},
        {997152,84,140},
        {997293,85,140},
        {997426,5075,150},
        {997558,5135,150},
        {997690,1611,150},
        {997822,206,150},
        {997954,207,150},
        {998086,208,150},
        {998219,1230,150},
        {998351,1240,150},
        {998475,86,160},
        {998599,87,160},
        {998723,88,160},
        {998846,89,160},
        {998946,5065,200},
        {999045,5085,200},
        {999144,5095,200},
        {999243,5105,200},
        {999342,5115,200},
        {999441,5125,200},
        {999540,5145,200},
        {999640,1616,200},
        {999730,6007,220},
        {999820,6008,220},
        {999910,6035,220},
        {1000000,6036,220},

    },

    [3] = {
        {19853,548,1},
        {39705,2304,1},
        {59558,2305,1},
        {79410,2306,1},
        {99263,2307,1},
        {119116,2308,1},
        {138968,2309,1},
        {158821,2310,1},
        {178673,2311,1},
        {198526,2312,1},
        {218378,2313,1},
        {238231,2314,1},
        {258084,2315,1},
        {277936,2316,1},
        {297789,2317,1},
        {317641,2318,1},
        {337494,2319,1},
        {357347,2320,1},
        {377199,2321,1},
        {397052,2322,1},
        {416904,2323,1},
        {436757,2324,1},
        {456610,2325,1},
        {476462,2326,1},
        {496315,2327,1},
        {506241,5001,2},
        {516167,5011,2},
        {526094,5021,2},
        {536020,5031,2},
        {545946,5041,2},
        {555873,5051,2},
        {565799,55,2},
        {575725,510,2},
        {585651,51,2},
        {592269,2448,3},
        {598886,2449,3},
        {605504,2450,3},
        {612122,2451,3},
        {618739,2452,3},
        {625357,2453,3},
        {631974,2454,3},
        {638592,2455,3},
        {645209,2456,3},
        {651827,2457,3},
        {658444,2458,3},
        {665062,2459,3},
        {671679,2460,3},
        {678297,2461,3},
        {684914,2462,3},
        {691532,2463,3},
        {698149,2464,3},
        {704767,2465,3},
        {711384,2466,3},
        {718002,2467,3},
        {724620,2468,3},
        {731237,2469,3},
        {737855,2470,3},
        {744472,2471,3},
        {751090,5071,3},
        {757707,5131,3},
        {764325,5061,3},
        {770942,5081,3},
        {777560,5091,3},
        {784177,5101,3},
        {790795,5111,3},
        {797412,5121,3},
        {804030,5141,3},
        {810647,519,3},
        {817265,48,3},
        {822228,400,4},
        {827191,511,4},
        {832154,522,4},
        {837118,518,4},
        {841088,9017,5},
        {845059,9018,5},
        {849029,9019,5},
        {853000,9020,5},
        {856970,9021,5},
        {860941,9069,5},
        {864249,15,6},
        {867558,504,6},
        {870867,9068,6},
        {873349,9022,8},
        {875830,9075,8},
        {878036,506,9},
        {880242,502,9},
        {882448,57,9},
        {884653,9070,9},
        {886859,9071,9},
        {889065,9072,9},
        {891271,9073,9},
        {893477,9074,9},
        {895462,33,10},
        {897447,466,10},
        {899433,56,10},
        {901418,500,10},
        {903403,508,10},
        {905388,512,10},
        {907374,514,10},
        {909359,517,10},
        {911344,5003,10},
        {913329,5013,10},
        {915315,5023,10},
        {917300,5033,10},
        {919285,5043,10},
        {921270,5053,10},
        {923256,1067,10},
        {925241,1068,10},
        {927226,1069,10},
        {929212,1070,10},
        {931197,1071,10},
        {933182,1072,10},
        {935167,1073,10},
        {937153,1022,10},
        {939138,1023,10},
        {941123,1024,10},
        {943108,1025,10},
        {945094,1026,10},
        {947079,1027,10},
        {949064,1028,10},
        {951049,1029,10},
        {953035,1030,10},
        {955020,49,10},
        {956343,8000,15},
        {957667,547,15},
        {958990,501,15},
        {960314,505,15},
        {961637,513,15},
        {962961,5073,15},
        {964284,5133,15},
        {965277,465,20},
        {966270,503,20},
        {967262,5063,20},
        {968255,5083,20},
        {969248,5093,20},
        {970240,5103,20},
        {971233,5113,20},
        {972225,5123,20},
        {973218,5143,20},
        {974211,50,20},
        {974872,516,30},
        {975270,2592,50},
        {975667,2593,50},
        {976064,2594,50},
        {976461,2595,50},
        {976858,2596,50},
        {977255,2597,50},
        {977652,2598,50},
        {978049,2599,50},
        {978446,2600,50},
        {978843,2601,50},
        {979240,2602,50},
        {979637,2603,50},
        {980034,2604,50},
        {980431,2605,50},
        {980828,2606,50},
        {981225,2607,50},
        {981622,2608,50},
        {982019,2609,50},
        {982416,2610,50},
        {982814,2611,50},
        {983211,2612,50},
        {983608,2613,50},
        {984005,2614,50},
        {984402,2615,50},
        {984799,1020,50},
        {985196,1065,50},
        {985593,6006,50},
        {985990,6009,50},
        {986387,6034,50},
        {986784,6037,50},
        {987181,47,50},
        {987446,507,75},
        {987697,549,79},
        {987945,515,80},
        {988193,509,80},
        {988392,5005,100},
        {988590,5015,100},
        {988789,5025,100},
        {988988,5035,100},
        {989186,5045,100},
        {989385,5055,100},
        {989583,6010,100},
        {989782,6038,100},
        {989947,1236,120},
        {990112,1237,120},
        {990254,1421,140},
        {990396,1422,140},
        {990538,1423,140},
        {990680,1424,140},
        {990822,1425,140},
        {990963,1426,140},
        {991105,1427,140},
        {991247,1428,140},
        {991389,1429,140},
        {991531,1430,140},
        {991672,1431,140},
        {991814,1432,140},
        {991956,1416,140},
        {992098,1417,140},
        {992240,1418,140},
        {992381,1419,140},
        {992523,1420,140},
        {992656,5075,150},
        {992788,5135,150},
        {992920,91,150},
        {993053,92,150},
        {993185,93,150},
        {993317,94,150},
        {993450,95,150},
        {993582,96,150},
        {993714,1245,150},
        {993838,103,160},
        {993962,104,160},
        {994087,105,160},
        {994211,106,160},
        {994335,107,160},
        {994459,108,160},
        {994583,109,160},
        {994707,110,160},
        {994824,228,170},
        {994941,229,170},
        {995057,230,170},
        {995174,231,170},
        {995291,232,170},
        {995408,233,170},
        {995524,234,170},
        {995641,235,170},
        {995758,236,170},
        {995875,237,170},
        {995992,238,170},
        {996108,239,170},
        {996225,240,170},
        {996342,241,170},
        {996459,242,170},
        {996569,97,180},
        {996679,98,180},
        {996790,99,180},
        {996900,100,180},
        {997010,101,180},
        {997120,102,180},
        {997225,217,190},
        {997329,218,190},
        {997434,219,190},
        {997538,220,190},
        {997643,221,190},
        {997747,222,190},
        {997852,223,190},
        {997956,224,190},
        {998056,5065,200},
        {998155,5085,200},
        {998254,5095,200},
        {998353,5105,200},
        {998453,5115,200},
        {998552,5125,200},
        {998651,5145,200},
        {998750,209,200},
        {998850,210,200},
        {998949,211,200},
        {999048,212,200},
        {999147,213,200},
        {999247,214,200},
        {999346,215,200},
        {999445,216,200},
        {999545,1253,200},
        {999639,1250,210},
        {999729,6007,220},
        {999820,6008,220},
        {999910,6035,220},
        {1000000,6036,220},

    },

    [4] = {
        {19916,548,1},
        {39833,2328,1},
        {59749,2329,1},
        {79666,2330,1},
        {99582,2331,1},
        {119499,2332,1},
        {139415,2333,1},
        {159331,2334,1},
        {179248,2335,1},
        {199164,2336,1},
        {219081,2337,1},
        {238997,2338,1},
        {258913,2339,1},
        {278830,2340,1},
        {298746,2341,1},
        {318663,2342,1},
        {338579,2343,1},
        {358496,2344,1},
        {378412,2345,1},
        {398328,2346,1},
        {418245,2347,1},
        {438161,2348,1},
        {458078,2349,1},
        {477994,2350,1},
        {497911,2351,1},
        {507869,5001,2},
        {517827,5011,2},
        {527785,5021,2},
        {537743,5031,2},
        {547702,5041,2},
        {557660,5051,2},
        {567618,55,2},
        {577576,510,2},
        {587534,51,2},
        {594173,2472,3},
        {600812,2473,3},
        {607451,2474,3},
        {614090,2475,3},
        {620729,2476,3},
        {627367,2477,3},
        {634006,2478,3},
        {640645,2479,3},
        {647284,2480,3},
        {653923,2481,3},
        {660561,2482,3},
        {667200,2483,3},
        {673839,2484,3},
        {680478,2485,3},
        {687117,2486,3},
        {693755,2487,3},
        {700394,2488,3},
        {707033,2489,3},
        {713672,2490,3},
        {720311,2491,3},
        {726949,2492,3},
        {733588,2493,3},
        {740227,2494,3},
        {746866,2495,3},
        {753505,5071,3},
        {760143,5131,3},
        {766782,5061,3},
        {773421,5081,3},
        {780060,5091,3},
        {786699,5101,3},
        {793338,5111,3},
        {799976,5121,3},
        {806615,5141,3},
        {813254,519,3},
        {819893,48,3},
        {824872,400,4},
        {829851,511,4},
        {834830,523,4},
        {839809,518,4},
        {843792,9017,5},
        {847776,9018,5},
        {851759,9019,5},
        {855742,9020,5},
        {859726,9021,5},
        {863709,9069,5},
        {867028,15,6},
        {870348,504,6},
        {873667,9068,6},
        {876157,9022,8},
        {878646,9075,8},
        {880859,506,9},
        {883072,502,9},
        {885285,57,9},
        {887498,9070,9},
        {889711,9071,9},
        {891924,9072,9},
        {894137,9073,9},
        {896350,9074,9},
        {898341,33,10},
        {900333,466,10},
        {902325,56,10},
        {904316,500,10},
        {906308,508,10},
        {908300,512,10},
        {910291,514,10},
        {912283,517,10},
        {914274,5003,10},
        {916266,5013,10},
        {918258,5023,10},
        {920249,5033,10},
        {922241,5043,10},
        {924233,5053,10},
        {926224,1042,10},
        {928216,1043,10},
        {930208,1044,10},
        {932199,1045,10},
        {934191,1046,10},
        {936183,1047,10},
        {938174,1048,10},
        {940166,1049,10},
        {942157,1050,10},
        {944149,1051,10},
        {946141,1054,10},
        {948132,1055,10},
        {950124,1056,10},
        {952116,1057,10},
        {954107,1058,10},
        {956099,49,10},
        {957427,8000,15},
        {958754,547,15},
        {960082,501,15},
        {961410,505,15},
        {962738,513,15},
        {964066,5073,15},
        {965393,5133,15},
        {966389,465,20},
        {967385,503,20},
        {968381,5063,20},
        {969377,5083,20},
        {970372,5093,20},
        {971368,5103,20},
        {972364,5113,20},
        {973360,5123,20},
        {974356,5143,20},
        {975351,50,20},
        {976015,516,30},
        {976414,2616,50},
        {976812,2617,50},
        {977210,2618,50},
        {977609,2619,50},
        {978007,2620,50},
        {978405,2621,50},
        {978804,2622,50},
        {979202,2623,50},
        {979600,2624,50},
        {979999,2625,50},
        {980397,2626,50},
        {980795,2627,50},
        {981194,2628,50},
        {981592,2629,50},
        {981990,2630,50},
        {982389,2631,50},
        {982787,2632,50},
        {983185,2633,50},
        {983584,2634,50},
        {983982,2635,50},
        {984380,2636,50},
        {984779,2637,50},
        {985177,2638,50},
        {985575,2639,50},
        {985974,1040,50},
        {986372,1052,50},
        {986770,6006,50},
        {987169,6009,50},
        {987567,6034,50},
        {987965,6037,50},
        {988364,47,50},
        {988629,507,75},
        {988881,549,79},
        {989130,515,80},
        {989379,509,80},
        {989578,5005,100},
        {989777,5015,100},
        {989977,5025,100},
        {990176,5035,100},
        {990375,5045,100},
        {990574,5055,100},
        {990773,6010,100},
        {990972,6038,100},
        {991105,5075,150},
        {991238,5135,150},
        {991371,1247,150},
        {991495,1254,160},
        {991612,1255,170},
        {991723,1249,180},
        {991823,5065,200},
        {991922,5085,200},
        {992022,5095,200},
        {992121,5105,200},
        {992221,5115,200},
        {992321,5125,200},
        {992420,5145,200},
        {992515,243,210},
        {992610,244,210},
        {992705,245,210},
        {992799,246,210},
        {992894,247,210},
        {992989,248,210},
        {993084,249,210},
        {993179,250,210},
        {993274,251,210},
        {993364,261,220},
        {993455,262,220},
        {993545,263,220},
        {993636,264,220},
        {993726,265,220},
        {993817,266,220},
        {993907,267,220},
        {993998,268,220},
        {994088,269,220},
        {994179,6007,220},
        {994269,6008,220},
        {994360,6035,220},
        {994451,6036,220},
        {994537,252,230},
        {994624,253,230},
        {994710,254,230},
        {994797,255,230},
        {994884,256,230},
        {994970,257,230},
        {995057,258,230},
        {995143,259,230},
        {995230,260,230},
        {995316,271,230},
        {995403,272,230},
        {995490,273,230},
        {995576,274,230},
        {995663,275,230},
        {995749,276,230},
        {995836,277,230},
        {995923,278,230},
        {996009,279,230},
        {996096,280,230},
        {996182,281,230},
        {996269,282,230},
        {996356,283,230},
        {996442,284,230},
        {996529,285,230},
        {996615,286,230},
        {996702,287,230},
        {996789,288,230},
        {996875,289,230},
        {996962,290,230},
        {997048,291,230},
        {997135,292,230},
        {997222,293,230},
        {997308,294,230},
        {997395,295,230},
        {997481,296,230},
        {997568,297,230},
        {997651,1440,240},
        {997734,1441,240},
        {997817,1442,240},
        {997900,1443,240},
        {997983,1444,240},
        {998066,1445,240},
        {998149,1446,240},
        {998232,1447,240},
        {998315,1448,240},
        {998398,1449,240},
        {998481,1450,240},
        {998564,1451,240},
        {998647,1452,240},
        {998730,1453,240},
        {998813,1433,240},
        {998896,1434,240},
        {998979,1435,240},
        {999062,1436,240},
        {999145,1437,240},
        {999228,1438,240},
        {999311,1439,240},
        {999387,111,260},
        {999464,112,260},
        {999540,113,260},
        {999617,114,260},
        {999694,115,260},
        {999770,116,260},
        {999847,117,260},
        {999923,118,260},
        {1000000,119,260},

    },

    [5] = {
        {20023,548,1},
        {40045,2352,1},
        {60068,2353,1},
        {80090,2354,1},
        {100113,2355,1},
        {120135,2356,1},
        {140158,2357,1},
        {160181,2358,1},
        {180203,2359,1},
        {200226,2360,1},
        {220248,2361,1},
        {240271,2362,1},
        {260294,2363,1},
        {280316,2364,1},
        {300339,2365,1},
        {320361,2366,1},
        {340384,2367,1},
        {360406,2368,1},
        {380429,2369,1},
        {400452,2370,1},
        {420474,2371,1},
        {440497,2372,1},
        {460519,2373,1},
        {480542,2374,1},
        {500565,2375,1},
        {510576,5001,2},
        {520587,5011,2},
        {530598,5021,2},
        {540610,5031,2},
        {550621,5041,2},
        {560632,5051,2},
        {570644,55,2},
        {580655,510,2},
        {590666,51,2},
        {597340,2496,3},
        {604015,2497,3},
        {610689,2498,3},
        {617363,2499,3},
        {624037,2500,3},
        {630711,2501,3},
        {637385,2502,3},
        {644060,2503,3},
        {650734,2504,3},
        {657408,2505,3},
        {664082,2506,3},
        {670756,2507,3},
        {677431,2508,3},
        {684105,2509,3},
        {690779,2510,3},
        {697453,2511,3},
        {704127,2512,3},
        {710802,2513,3},
        {717476,2514,3},
        {724150,2515,3},
        {730824,2516,3},
        {737498,2517,3},
        {744173,2518,3},
        {750847,2519,3},
        {757521,5071,3},
        {764195,5131,3},
        {770869,5061,3},
        {777544,5081,3},
        {784218,5091,3},
        {790892,5101,3},
        {797566,5111,3},
        {804240,5121,3},
        {810914,5141,3},
        {817589,519,3},
        {824263,48,3},
        {829269,400,4},
        {834274,511,4},
        {839280,524,4},
        {844285,518,4},
        {848290,9017,5},
        {852294,9018,5},
        {856299,9019,5},
        {860304,9020,5},
        {864308,9021,5},
        {868313,9069,5},
        {871650,15,6},
        {874987,504,6},
        {878324,9068,6},
        {880827,9022,8},
        {883329,9075,8},
        {885554,506,9},
        {887779,502,9},
        {890004,57,9},
        {892228,9070,9},
        {894453,9071,9},
        {896678,9072,9},
        {898903,9073,9},
        {901127,9074,9},
        {903130,514,10},
        {905132,33,10},
        {907134,466,10},
        {909136,56,10},
        {911139,500,10},
        {913141,508,10},
        {915143,512,10},
        {917145,517,10},
        {919148,5003,10},
        {921150,5013,10},
        {923152,5023,10},
        {925154,5033,10},
        {927157,5043,10},
        {929159,5053,10},
        {931161,1014,10},
        {933163,1015,10},
        {935166,1016,10},
        {937168,1017,10},
        {939170,1018,10},
        {941173,1019,10},
        {943175,1033,10},
        {945177,1034,10},
        {947179,1035,10},
        {949182,1036,10},
        {951184,1037,10},
        {953186,1038,10},
        {955188,1039,10},
        {957191,49,10},
        {958525,8000,15},
        {959860,547,15},
        {961195,501,15},
        {962530,505,15},
        {963865,513,15},
        {965200,5073,15},
        {966534,5133,15},
        {967536,465,20},
        {968537,503,20},
        {969538,5063,20},
        {970539,5083,20},
        {971540,5093,20},
        {972541,5103,20},
        {973542,5113,20},
        {974543,5123,20},
        {975545,5143,20},
        {976546,50,20},
        {977213,516,30},
        {977614,2640,50},
        {978014,2641,50},
        {978415,2642,50},
        {978815,2643,50},
        {979215,2644,50},
        {979616,2645,50},
        {980016,2646,50},
        {980417,2647,50},
        {980817,2648,50},
        {981218,2649,50},
        {981618,2650,50},
        {982019,2651,50},
        {982419,2652,50},
        {982819,2653,50},
        {983220,2654,50},
        {983620,2655,50},
        {984021,2656,50},
        {984421,2657,50},
        {984822,2658,50},
        {985222,2659,50},
        {985623,2660,50},
        {986023,2661,50},
        {986424,2662,50},
        {986824,2663,50},
        {987224,1031,50},
        {987625,1012,50},
        {988025,6006,50},
        {988426,6009,50},
        {988826,6034,50},
        {989227,6037,50},
        {989627,47,50},
        {989894,507,75},
        {990148,549,79},
        {990398,515,80},
        {990648,509,80},
        {990848,5005,100},
        {991049,5015,100},
        {991249,5025,100},
        {991449,5035,100},
        {991649,5045,100},
        {991849,5055,100},
        {992050,6010,100},
        {992250,6038,100},
        {992383,5075,150},
        {992517,5135,150},
        {992617,5065,200},
        {992717,5085,200},
        {992817,5095,200},
        {992917,5105,200},
        {993017,5115,200},
        {993118,5125,200},
        {993218,5145,200},
        {993309,6007,220},
        {993400,6008,220},
        {993491,6035,220},
        {993582,6036,220},
        {993669,1461,230},
        {993756,1462,230},
        {993843,1463,230},
        {993930,1464,230},
        {994017,1465,230},
        {994104,1466,230},
        {994191,1467,230},
        {994275,1468,240},
        {994358,1469,240},
        {994441,1470,240},
        {994525,1471,240},
        {994608,1472,240},
        {994692,1473,240},
        {994775,1474,240},
        {994855,1454,250},
        {994935,1455,250},
        {995015,1456,250},
        {995095,1457,250},
        {995176,1458,250},
        {995256,1459,250},
        {995336,1460,250},
        {995413,6018,260},
        {995490,6019,260},
        {995567,6020,260},
        {995644,6021,260},
        {995721,6022,260},
        {995798,6023,260},
        {995875,6024,260},
        {995952,6011,260},
        {996029,6012,260},
        {996106,6013,260},
        {996183,6014,260},
        {996260,6015,260},
        {996337,6016,260},
        {996414,6017,260},
        {996488,1475,270},
        {996562,1476,270},
        {996636,1477,270},
        {996711,1478,270},
        {996785,1479,270},
        {996859,1480,270},
        {996933,1481,270},
        {997005,120,280},
        {997076,121,280},
        {997148,122,280},
        {997219,123,280},
        {997291,124,280},
        {997362,125,280},
        {997434,126,280},
        {997505,127,280},
        {997577,128,280},
        {997646,299,290},
        {997715,300,290},
        {997784,301,290},
        {997853,302,290},
        {997922,303,290},
        {997991,304,290},
        {998060,305,290},
        {998129,306,290},
        {998198,307,290},
        {998265,1482,300},
        {998331,1483,300},
        {998398,1484,300},
        {998465,1485,300},
        {998532,1486,300},
        {998598,1487,300},
        {998665,1488,300},
        {998732,1489,300},
        {998799,1490,300},
        {998865,1491,300},
        {998932,1492,300},
        {998999,1493,300},
        {999066,1494,300},
        {999132,1495,300},
        {999199,1496,300},
        {999266,1497,300},
        {999333,1498,300},
        {999399,1499,300},
        {999466,6025,300},
        {999533,6026,300},
        {999600,6027,300},
        {999666,6028,300},
        {999733,6029,300},
        {999800,6030,300},
        {999867,6031,300},
        {999933,6032,300},
        {1000000,6033,300},

    },

    [6] = {
        {20638,548,1},
        {41276,4024,1},
        {61914,4025,1},
        {82553,4026,1},
        {103191,4027,1},
        {123829,4028,1},
        {144467,4029,1},
        {165105,4030,1},
        {185743,4031,1},
        {206381,4032,1},
        {227019,4033,1},
        {247658,4034,1},
        {268296,4035,1},
        {288934,4036,1},
        {309572,4037,1},
        {330210,4038,1},
        {350848,4039,1},
        {371486,4040,1},
        {392125,4041,1},
        {412763,4042,1},
        {433401,4043,1},
        {454039,4044,1},
        {474677,4045,1},
        {495315,4046,1},
        {515953,4047,1},
        {526272,5001,2},
        {536592,5011,2},
        {546911,5021,2},
        {557230,5031,2},
        {567549,5041,2},
        {577868,5051,2},
        {588187,55,2},
        {598506,510,2},
        {608825,51,2},
        {615704,5071,3},
        {622584,5131,3},
        {629463,5061,3},
        {636343,5081,3},
        {643222,5091,3},
        {650101,5101,3},
        {656981,5111,3},
        {663860,5121,3},
        {670739,5141,3},
        {677619,519,3},
        {684498,48,3},
        {691378,2520,3},
        {698257,2521,3},
        {705136,2522,3},
        {712016,2523,3},
        {718895,2524,3},
        {725774,2525,3},
        {732654,2526,3},
        {739533,2527,3},
        {746413,2528,3},
        {753292,2529,3},
        {760171,2530,3},
        {767051,2531,3},
        {773930,2532,3},
        {780809,2533,3},
        {787689,2534,3},
        {794568,2535,3},
        {801448,2536,3},
        {808327,2537,3},
        {815206,2538,3},
        {822086,2539,3},
        {828965,2540,3},
        {835845,2541,3},
        {842724,2542,3},
        {849603,2543,3},
        {854763,400,4},
        {859922,511,4},
        {865082,524,4},
        {870241,518,4},
        {874369,9017,5},
        {878497,9018,5},
        {882624,9019,5},
        {886752,9020,5},
        {890880,9021,5},
        {895007,9069,5},
        {898447,15,6},
        {901887,504,6},
        {905326,9068,6},
        {907906,9022,8},
        {910486,9075,8},
        {912779,506,9},
        {915072,502,9},
        {917365,57,9},
        {919658,9070,9},
        {921951,9071,9},
        {924245,9072,9},
        {926538,9073,9},
        {928831,9074,9},
        {930895,514,10},
        {932958,33,10},
        {935022,466,10},
        {937086,56,10},
        {939150,500,10},
        {941214,508,10},
        {943277,512,10},
        {945341,517,10},
        {947405,5003,10},
        {949469,5013,10},
        {951533,5023,10},
        {953597,5033,10},
        {955660,5043,10},
        {957724,5053,10},
        {959788,49,10},
        {961164,8000,15},
        {962540,547,15},
        {963916,501,15},
        {965291,505,15},
        {966667,513,15},
        {968043,5073,15},
        {969419,5133,15},
        {970451,465,20},
        {971483,503,20},
        {972515,5063,20},
        {973547,5083,20},
        {974579,5093,20},
        {975611,5103,20},
        {976642,5113,20},
        {977674,5123,20},
        {978706,5143,20},
        {979738,50,20},
        {980426,516,30},
        {980942,2664,40},
        {981458,2665,40},
        {981974,2666,40},
        {982490,2667,40},
        {983006,2668,40},
        {983522,2669,40},
        {984038,2670,40},
        {984554,2671,40},
        {985070,2672,40},
        {985586,2673,40},
        {986102,2674,40},
        {986618,2675,40},
        {987134,2676,40},
        {987649,2677,40},
        {988165,2678,40},
        {988681,2679,40},
        {989197,2680,40},
        {989713,2681,40},
        {990229,2682,40},
        {990745,2683,40},
        {991261,2684,40},
        {991777,2685,40},
        {992293,2686,40},
        {992809,2687,40},
        {993222,6006,50},
        {993635,6009,50},
        {994047,6034,50},
        {994460,6037,50},
        {994873,47,50},
        {995148,507,75},
        {995409,549,79},
        {995667,515,80},
        {995925,509,80},
        {996132,5005,100},
        {996338,5015,100},
        {996544,5025,100},
        {996751,5035,100},
        {996957,5045,100},
        {997163,5055,100},
        {997370,6010,100},
        {997576,6038,100},
        {997714,5075,150},
        {997851,5135,150},
        {997955,5065,200},
        {998058,5085,200},
        {998161,5095,200},
        {998264,5105,200},
        {998367,5115,200},
        {998471,5125,200},
        {998574,5145,200},
        {998668,6007,220},
        {998761,6008,220},
        {998855,6035,220},
        {998949,6036,220},
        {999025,6039,270},
        {999102,6040,270},
        {999178,6041,270},
        {999255,6042,270},
        {999331,6043,270},
        {999408,6044,270},
        {999484,6045,270},
        {999558,6046,280},
        {999631,6047,280},
        {999705,6048,280},
        {999779,6049,280},
        {999853,6050,280},
        {999926,6051,280},
        {1000000,6052,280},

    },

}

-- 触发积分概率 { 次数, 概率 },
local pointProb = {
         {100,1350},
         {99,1340},
         {98,1330},
         {97,1320},
         {96,1310},
         {95,1300},
         {94,1290},
         {93,1280},
         {92,1270},
         {91,1260},
         {90,1250},
         {89,1240},
         {88,1230},
         {87,1220},
         {86,1210},
         {85,1200},
         {84,1190},
         {83,1180},
         {82,1170},
         {81,1160},
         {80,1150},
         {79,1140},
         {78,1130},
         {77,1120},
         {76,1110},
         {75,1100},
         {74,1090},
         {73,1080},
         {72,1070},
         {71,1060},
         {70,1050},
         {69,1040},
         {68,1030},
         {67,1020},
         {66,1010},
         {65,1000},
         {64,990},
         {63,980},
         {62,970},
         {61,960},
         {60,950},
         {59,940},
         {58,930},
         {57,920},
         {56,910},
         {55,900},
         {54,890},
         {53,880},
         {52,870},
         {51,860},
         {50,850},
         {49,840},
         {48,830},
         {47,820},
         {46,810},
         {45,800},
         {44,790},
         {43,780},
         {42,770},
         {41,760},
         {40,750},
         {39,740},
         {38,730},
         {37,720},
         {36,710},
         {35,700},
         {34,690},
         {33,680},
         {32,670},
         {31,660},
         {30,650},
         {29,640},
         {28,630},
         {27,620},
         {26,610},
         {25,600},
         {24,590},
         {23,580},
         {22,570},
         {21,560},
         {20,550},
         {19,540},
         {18,530},
         {17,520},
         {16,510},
         {15,500},
         {14,490},
         {13,480},
         {12,470},
         {11,460},
         {10,450},
         {9,440},
         {8,430},
         {7,420},
         {6,410},
         {5,400},
         {4,0},
         {3,0},
         {2,0},
         {1,0},
}

-- 副本对应消耗物品
local copyitem = {
    [1] = 9012,
    [2] = 9013,
    [3] = 9014,
    [4] = 9015,
    [5] = 9016,
    [6] = 9035,
}

function luckyDraw(player, id, num, bind)
    local got = {}

    local needitem = copyitem[id]
    if needitem == nil then
        return got 
    end 

    local package = player:GetPackage()
    local bnum = package:GetItemNum(needitem, true)
    local ubnum = package:GetItemNum(needitem, false)
    local gold = player:getGold()

    if (bnum + ubnum + gold/10) < num then
        player:sendMsgCode(2, 1076, 0)
        return got 
    end

    if package:GetRestPackageSize() < num * 1.5 then
        player:sendMsgCode(2, 1011, 0)
        return got 
    end

    local item = items[id]
    if item == nil then
        return got
    end 

    print('num: ' .. num .. ' gold: ' .. gold)
    local money = 0
    local point = 0
    local use = 1 -- 1-bind 2-unbind 3-gold
    for o = 1, num do
        if use == 1 then
            if bnum ~= 0 then
                bnum = bnum - 1
                bind = true
            else
                use = 2
                bind = false
            end
        end

        if use == 2 then
            if ubnum ~= 0 then
                ubnum = ubnum - 1
            else
                use = 3
            end
        end

        print('use: ' .. use)

        if use == 1 then
            if package:DelItem(needitem, 1, bind) == false then
                break
            end
        elseif use == 2 then
            if package:DelItem(needitem, 1, bind) == false then
                break
            end
        elseif use == 3 then
            player:useGold4LuckDraw(item2point)
        end

        local x = math.random(1,1000000)
        local sz = #item
        for i = 1,sz do
            if x <= item[i][1] then
                local it = item[i][2]
                print(bind)
                package:Add(it, 1, bind, 0, 14)
                table.insert(got, {it, 1})
                if bind then
                    point = point + item2point2
                else
                    point = point + item2point
                end
                money = money + item[i][3]
                break
            end 
        end

        local p = math.random(1,10000)
        local count = player:GetVar(100)
        local sz1 = #pointProb

        player:AddVar(100, 1)
        if isDebug() then
            player:AddVar(5, 1)
        end

        for n = 1,sz1 do
            if count >= pointProb[n][1] and p <= pointProb[n][2] then
                if bind then
                    player:AddVarS(101, point - money)
                else
                    player:AddVarS(99, point - money)
                end

                if isDebug() then
                    player:AddVar(4, money)
                end

                local yapoint = 0
                if bind then
                    yapoint = player:GetVarS(101)
                else
                    yapoint = player:GetVarS(99)
                end

                if yapoint > 0 then
                    if isDebug() then
                        SendMsg(player, 1, "触发时积分: " .. yapoint)
                    end
                    local pp = 0
                    local pos = 0
                    for k = 1, sz do
                        if yapoint <= item[k][3] then
                            if k > 1 then
                                pp = item[k-1][3]
                            end
                            break
                        end
                        pos = pos + 1
                    end

                    if pos == sz then
                        pp = item[pos][3]
                    end

                    if pp ~= 0 then
                        local yaitem = {}
                        for l = 1, sz do
                            if pp == item[l][3] then
                                table.insert(yaitem, item[l][2])
                            end
                        end

                        local yasz = #yaitem
                        if yasz ~= 0 then
                            if yasz == 1 then
                                local it = yaitem[1]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            else
                                local it = yaitem[math.random(1,yasz)]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            end

                            if bind then
                                yapoint = player:SetVar(101, yapoint - pp)
                            else
                                yapoint = player:SetVar(99, yapoint - pp)
                            end
                        end
                    end
                    player:SetVar(100, 0)
                end

                money = 0
                point = 0
                break
            end
        end
    end

    if point ~= 0 then
        if bind then
            player:AddVarS(101, point - money)
        else
            player:AddVarS(99, point - money)
        end
    end

    if isDebug() then
        player:AddVar(4, money)
        SendMsg(player, 1, "次数: " .. player:GetVar(100) .. ", 绑分: " .. player:GetVarS(101) .. ", 非绑分: " .. player:GetVarS(99) .. " 总积分: " .. player:GetVar(4) .. " 总次数: " .. player:GetVar(5))
    end

    return got 
end

