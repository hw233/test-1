
-- 消耗一个物品所得到的积分
local item2point = 10

-- { 物品概率(累积值), 物品ID, 积分}，对应5个副本
local items = {
    [1] = {
        {18386,548,1},
        {36772,2256,1},
        {55158,2257,1},
        {73544,2258,1},
        {91931,2259,1},
        {110317,2260,1},
        {128703,2261,1},
        {147089,2262,1},
        {165475,2263,1},
        {183861,2264,1},
        {202247,2265,1},
        {220633,2266,1},
        {239019,2267,1},
        {257406,2268,1},
        {275792,2269,1},
        {294178,2270,1},
        {312564,2271,1},
        {330950,2272,1},
        {349336,2273,1},
        {367722,2274,1},
        {386108,2275,1},
        {404494,2276,1},
        {422880,2277,1},
        {441267,2278,1},
        {459653,2279,1},
        {467824,5001,3},
        {475996,5011,3},
        {484168,5021,3},
        {492339,5031,3},
        {500511,5041,3},
        {508682,5051,3},
        {514811,55,4},
        {520940,5071,4},
        {527068,5131,4},
        {531971,511,5},
        {536874,5061,5},
        {541777,5081,5},
        {546680,5091,5},
        {551583,5101,5},
        {556486,5111,5},
        {561389,5121,5},
        {566292,5141,5},
        {571195,2400,5},
        {576098,2401,5},
        {581001,2402,5},
        {585904,2403,5},
        {590807,2404,5},
        {595710,2405,5},
        {600613,2406,5},
        {605516,2407,5},
        {610419,2408,5},
        {615322,2409,5},
        {620225,2410,5},
        {625128,2411,5},
        {630031,2412,5},
        {634934,2413,5},
        {639837,2414,5},
        {644740,2415,5},
        {649642,2416,5},
        {654545,2417,5},
        {659448,2418,5},
        {664351,2419,5},
        {669254,2420,5},
        {674157,2421,5},
        {679060,2422,5},
        {683963,2423,5},
        {688866,520,5},
        {693361,510,8},
        {697446,33,10},
        {701532,466,10},
        {705618,57,10},
        {709704,56,10},
        {713790,500,10},
        {717875,15,10},
        {721961,16,10},
        {726047,506,10},
        {730133,508,10},
        {734219,512,10},
        {738304,514,10},
        {742390,517,10},
        {746476,5003,10},
        {750562,5013,10},
        {754648,5023,10},
        {758733,5033,10},
        {762819,5043,10},
        {766905,5053,10},
        {770991,502,10},
        {775077,504,10},
        {779162,1061,10},
        {783248,1062,10},
        {787334,1063,10},
        {791420,1064,10},
        {795506,1109,10},
        {799591,1110,10},
        {803677,1111,10},
        {807763,1112,10},
        {811849,1113,10},
        {815935,1114,10},
        {820020,1115,10},
        {824106,1098,10},
        {828192,1099,10},
        {832278,1100,10},
        {836364,1101,10},
        {840449,1102,10},
        {844535,1103,10},
        {848621,1104,10},
        {852707,1105,10},
        {856793,1106,10},
        {860470,8000,15},
        {864147,547,15},
        {867824,501,15},
        {871502,505,15},
        {875179,513,15},
        {878856,5073,15},
        {882533,5133,15},
        {885802,465,20},
        {889070,503,20},
        {892339,5063,20},
        {895608,5083,20},
        {898876,5093,20},
        {902145,5103,20},
        {905414,5113,20},
        {908682,5123,20},
        {911951,5143,20},
        {914402,516,30},
        {916445,440,50},
        {918488,2544,50},
        {920531,2545,50},
        {922574,2546,50},
        {924617,2547,50},
        {926660,2548,50},
        {928703,2549,50},
        {930746,2550,50},
        {932789,2551,50},
        {934831,2552,50},
        {936874,2553,50},
        {938917,2554,50},
        {940960,2555,50},
        {943003,2556,50},
        {945046,2557,50},
        {947089,2558,50},
        {949132,2559,50},
        {951175,2560,50},
        {953218,2561,50},
        {955260,2562,50},
        {957303,2563,50},
        {959346,2564,50},
        {961389,2565,50},
        {963432,2566,50},
        {965475,2567,50},
        {967518,1505,50},
        {969561,1506,50},
        {971604,1507,50},
        {973647,1508,50},
        {975689,1224,50},
        {977732,1096,50},
        {979775,1107,50},
        {981818,1059,50},
        {983044,1225,60},
        {984270,1222,60},
        {985495,1223,60},
        {986313,49,80},
        {987130,515,80},
        {987947,1605,80},
        {988764,1615,80},
        {989581,1231,80},
        {990398,1235,80},
        {991216,1229,80},
        {991828,50,90},
        {992237,47,100},
        {992646,5005,100},
        {993054,5015,100},
        {993463,5025,100},
        {993871,5035,100},
        {994280,5045,100},
        {994688,5055,100},
        {995097,1604,100},
        {995506,1614,100},
        {995914,1503,100},
        {996323,1238,100},
        {996731,1246,100},
        {997140,1226,100},
        {997549,1243,100},
        {997875,1233,110},
        {998080,1606,120},
        {998284,1608,120},
        {998447,5075,150},
        {998611,5135,150},
        {998774,1610,150},
        {998938,1603,150},
        {999101,1609,150},
        {999224,5065,200},
        {999346,5085,200},
        {999469,5095,200},
        {999591,5105,200},
        {999714,5115,200},
        {999837,5125,200},
        {999959,5145,200},
        {1000000,1504,450},
    },

    [2] = {
        {5843,548,1},
        {11686,2280,1},
        {17529,2281,1},
        {23372,2282,1},
        {29215,2283,1},
        {35058,2284,1},
        {40902,2285,1},
        {46745,2286,1},
        {52588,2287,1},
        {58431,2288,1},
        {64274,2289,1},
        {70117,2290,1},
        {75960,2291,1},
        {81803,2292,1},
        {87646,2293,1},
        {93489,2294,1},
        {99332,2295,1},
        {105175,2296,1},
        {111019,2297,1},
        {116862,2298,1},
        {122705,2299,1},
        {128548,2300,1},
        {134391,2301,1},
        {140234,2302,1},
        {146077,2303,1},
        {151865,5001,3},
        {157652,5011,3},
        {163440,5021,3},
        {169228,5031,3},
        {175016,5041,3},
        {180803,5051,3},
        {186563,55,4},
        {192323,5071,4},
        {198083,5131,4},
        {203844,400,4},
        {209576,511,5},
        {215308,5061,5},
        {221041,5081,5},
        {226773,5091,5},
        {232505,5101,5},
        {238238,5111,5},
        {243970,5121,5},
        {249702,5141,5},
        {255435,2424,5},
        {261167,2425,5},
        {266900,2426,5},
        {272632,2427,5},
        {278364,2428,5},
        {284097,2429,5},
        {289829,2430,5},
        {295561,2431,5},
        {301294,2432,5},
        {307026,2433,5},
        {312758,2434,5},
        {318491,2435,5},
        {324223,2436,5},
        {329956,2437,5},
        {335688,2438,5},
        {341420,2439,5},
        {347153,2440,5},
        {352885,2441,5},
        {358617,2442,5},
        {364350,2443,5},
        {370082,2444,5},
        {375814,2445,5},
        {381547,2446,5},
        {387279,2447,5},
        {393012,521,5},
        {398716,9017,6},
        {404421,9018,6},
        {410126,9019,6},
        {415830,9020,6},
        {421535,9021,6},
        {427212,519,7},
        {432861,510,8},
        {438483,9022,9},
        {444105,518,9},
        {449699,33,10},
        {455293,466,10},
        {460887,57,10},
        {466480,56,10},
        {472074,500,10},
        {477668,15,10},
        {483262,16,10},
        {488856,506,10},
        {494450,508,10},
        {500044,512,10},
        {505638,514,10},
        {511232,517,10},
        {516826,5003,10},
        {522420,5013,10},
        {528014,5023,10},
        {533608,5033,10},
        {539202,5043,10},
        {544796,5053,10},
        {550390,502,10},
        {555984,504,10},
        {561578,1086,10},
        {567172,1087,10},
        {572766,1088,10},
        {578360,1089,10},
        {583954,1090,10},
        {589548,1091,10},
        {595142,1092,10},
        {600736,1093,10},
        {606330,1094,10},
        {611924,1095,10},
        {617518,1076,10},
        {623112,1077,10},
        {628706,1078,10},
        {634300,1079,10},
        {639893,1080,10},
        {645487,1081,10},
        {651081,1082,10},
        {656675,1083,10},
        {662131,8000,15},
        {667587,547,15},
        {673042,501,15},
        {678498,505,15},
        {683953,513,15},
        {689409,5073,15},
        {694864,5133,15},
        {700182,465,20},
        {705499,503,20},
        {710816,5063,20},
        {716133,5083,20},
        {721450,5093,20},
        {726767,5103,20},
        {732085,5113,20},
        {737402,5123,20},
        {742719,5143,20},
        {747759,516,30},
        {752246,440,50},
        {756733,2568,50},
        {761220,2569,50},
        {765707,2570,50},
        {770193,2571,50},
        {774680,2572,50},
        {779167,2573,50},
        {783654,2574,50},
        {788141,2575,50},
        {792627,2576,50},
        {797114,2577,50},
        {801601,2578,50},
        {806088,2579,50},
        {810575,2580,50},
        {815061,2581,50},
        {819548,2582,50},
        {824035,2583,50},
        {828522,2584,50},
        {833009,2585,50},
        {837495,2586,50},
        {841982,2587,50},
        {846469,2588,50},
        {850956,2589,50},
        {855443,2590,50},
        {859929,2591,50},
        {864416,1074,50},
        {868903,1084,50},
        {873113,203,60},
        {877323,204,60},
        {881533,205,60},
        {885466,1413,70},
        {889399,1414,70},
        {893333,1415,70},
        {897266,1227,70},
        {901061,507,75},
        {904717,49,80},
        {908374,515,80},
        {912030,200,80},
        {915686,201,80},
        {919343,202,80},
        {922999,509,80},
        {926379,50,90},
        {929758,1612,90},
        {932861,47,100},
        {935964,5005,100},
        {939067,5015,100},
        {942170,5025,100},
        {945273,5035,100},
        {948376,5045,100},
        {951478,5055,100},
        {954581,1607,100},
        {957684,1509,100},
        {960787,1251,100},
        {963890,1241,100},
        {966993,1242,100},
        {970095,1234,100},
        {972091,82,140},
        {974087,83,140},
        {976082,84,140},
        {978078,85,140},
        {979797,5075,150},
        {981516,5135,150},
        {983235,1611,150},
        {984954,206,150},
        {986672,207,150},
        {988391,208,150},
        {990110,1230,150},
        {991829,1240,150},
        {993271,86,160},
        {994713,87,160},
        {996155,88,160},
        {997597,89,160},
        {997932,5065,200},
        {998267,5085,200},
        {998602,5095,200},
        {998937,5105,200},
        {999272,5115,200},
        {999607,5125,200},
        {999942,5145,200},
        {1000000,1616,210},

    },

    [3] = {
        {5740,548,1},
        {11480,2304,1},
        {17221,2305,1},
        {22961,2306,1},
        {28701,2307,1},
        {34441,2308,1},
        {40181,2309,1},
        {45922,2310,1},
        {51662,2311,1},
        {57402,2312,1},
        {63142,2313,1},
        {68882,2314,1},
        {74623,2315,1},
        {80363,2316,1},
        {86103,2317,1},
        {91843,2318,1},
        {97584,2319,1},
        {103324,2320,1},
        {109064,2321,1},
        {114804,2322,1},
        {120544,2323,1},
        {126285,2324,1},
        {132025,2325,1},
        {137765,2326,1},
        {143505,2327,1},
        {149193,5001,3},
        {154882,5011,3},
        {160570,5021,3},
        {166258,5031,3},
        {171947,5041,3},
        {177635,5051,3},
        {183297,55,4},
        {188960,5071,4},
        {194622,5131,4},
        {200284,400,4},
        {205921,511,5},
        {211557,5061,5},
        {217194,5081,5},
        {222830,5091,5},
        {228466,5101,5},
        {234103,5111,5},
        {239739,5121,5},
        {245376,5141,5},
        {251012,2448,5},
        {256648,2449,5},
        {262285,2450,5},
        {267921,2451,5},
        {273558,2452,5},
        {279194,2453,5},
        {284830,2454,5},
        {290467,2455,5},
        {296103,2456,5},
        {301740,2457,5},
        {307376,2458,5},
        {313013,2459,5},
        {318649,2460,5},
        {324285,2461,5},
        {329922,2462,5},
        {335558,2463,5},
        {341195,2464,5},
        {346831,2465,5},
        {352467,2466,5},
        {358104,2467,5},
        {363740,2468,5},
        {369377,2469,5},
        {375013,2470,5},
        {380649,2471,5},
        {386286,522,5},
        {391896,9017,6},
        {397507,9018,6},
        {403117,9019,6},
        {408728,9020,6},
        {414338,9021,6},
        {419923,519,7},
        {425481,510,8},
        {431014,9022,9},
        {436546,518,9},
        {442053,33,10},
        {447560,466,10},
        {453066,57,10},
        {458573,56,10},
        {464080,500,10},
        {469586,15,10},
        {475093,16,10},
        {480600,506,10},
        {486106,508,10},
        {491613,512,10},
        {497120,514,10},
        {502626,517,10},
        {508133,5003,10},
        {513639,5013,10},
        {519146,5023,10},
        {524653,5033,10},
        {530159,5043,10},
        {535666,5053,10},
        {541173,502,10},
        {546679,504,10},
        {552186,1067,10},
        {557693,1068,10},
        {563199,1069,10},
        {568706,1070,10},
        {574213,1071,10},
        {579719,1072,10},
        {585226,1073,10},
        {590733,1022,10},
        {596239,1023,10},
        {601746,1024,10},
        {607253,1025,10},
        {612759,1026,10},
        {618266,1027,10},
        {623773,1028,10},
        {629279,1029,10},
        {634786,1030,10},
        {640163,8000,15},
        {645540,547,15},
        {650917,501,15},
        {656293,505,15},
        {661670,513,15},
        {667047,5073,15},
        {672424,5133,15},
        {677671,465,20},
        {682918,503,20},
        {688166,5063,20},
        {693413,5083,20},
        {698660,5093,20},
        {703907,5103,20},
        {709154,5113,20},
        {714401,5123,20},
        {719649,5143,20},
        {724636,516,30},
        {729105,440,50},
        {733573,2592,50},
        {738042,2593,50},
        {742511,2594,50},
        {746979,2595,50},
        {751448,2596,50},
        {755917,2597,50},
        {760385,2598,50},
        {764854,2599,50},
        {769323,2600,50},
        {773791,2601,50},
        {778260,2602,50},
        {782729,2603,50},
        {787197,2604,50},
        {791666,2605,50},
        {796134,2606,50},
        {800603,2607,50},
        {805072,2608,50},
        {809540,2609,50},
        {814009,2610,50},
        {818478,2611,50},
        {822946,2612,50},
        {827415,2613,50},
        {831884,2614,50},
        {836352,2615,50},
        {840821,1020,50},
        {845290,1065,50},
        {849109,507,75},
        {852800,49,80},
        {856490,515,80},
        {860180,509,80},
        {863610,50,90},
        {866782,47,100},
        {869953,5005,100},
        {873124,5015,100},
        {876295,5025,100},
        {879466,5035,100},
        {882637,5045,100},
        {885808,5055,100},
        {888460,1236,120},
        {891113,1237,120},
        {893246,1421,140},
        {895379,1422,140},
        {897512,1423,140},
        {899645,1424,140},
        {901778,1425,140},
        {903911,1426,140},
        {906044,1427,140},
        {908177,1428,140},
        {910311,1429,140},
        {912444,1430,140},
        {914577,1431,140},
        {916710,1432,140},
        {918843,1416,140},
        {920976,1417,140},
        {923109,1418,140},
        {925242,1419,140},
        {927375,1420,140},
        {929249,5075,150},
        {931123,5135,150},
        {932996,91,150},
        {934870,92,150},
        {936744,93,150},
        {938617,94,150},
        {940491,95,150},
        {942364,96,150},
        {944238,1245,150},
        {945852,103,160},
        {947466,104,160},
        {949080,105,160},
        {950694,106,160},
        {952309,107,160},
        {953923,108,160},
        {955537,109,160},
        {957151,110,160},
        {958505,228,170},
        {959860,229,170},
        {961215,230,170},
        {962569,231,170},
        {963924,232,170},
        {965278,233,170},
        {966633,234,170},
        {967988,235,170},
        {969342,236,170},
        {970697,237,170},
        {972052,238,170},
        {973406,239,170},
        {974761,240,170},
        {976115,241,170},
        {977470,242,170},
        {978565,97,180},
        {979660,98,180},
        {980755,99,180},
        {981850,100,180},
        {982945,101,180},
        {984041,102,180},
        {984876,217,190},
        {985712,218,190},
        {986547,219,190},
        {987383,220,190},
        {988219,221,190},
        {989054,222,190},
        {989890,223,190},
        {990725,224,190},
        {991301,5065,200},
        {991878,5085,200},
        {992454,5095,200},
        {993030,5105,200},
        {993606,5115,200},
        {994182,5125,200},
        {994758,5145,200},
        {995334,209,200},
        {995910,210,200},
        {996486,211,200},
        {997062,212,200},
        {997639,213,200},
        {998215,214,200},
        {998791,215,200},
        {999367,216,200},
        {999943,1253,200},
        {1000000,1250,220},

    },

    [4] = {
        {5677,548,1},
        {11354,2328,1},
        {17031,2329,1},
        {22708,2330,1},
        {28385,2331,1},
        {34061,2332,1},
        {39738,2333,1},
        {45415,2334,1},
        {51092,2335,1},
        {56769,2336,1},
        {62446,2337,1},
        {68123,2338,1},
        {73800,2339,1},
        {79477,2340,1},
        {85154,2341,1},
        {90830,2342,1},
        {96507,2343,1},
        {102184,2344,1},
        {107861,2345,1},
        {113538,2346,1},
        {119215,2347,1},
        {124892,2348,1},
        {130569,2349,1},
        {136246,2350,1},
        {141923,2351,1},
        {147562,5001,3},
        {153201,5011,3},
        {158841,5021,3},
        {164480,5031,3},
        {170119,5041,3},
        {175758,5051,3},
        {181379,55,4},
        {187000,5071,4},
        {192620,5131,4},
        {198241,400,4},
        {203842,511,5},
        {209444,5061,5},
        {215046,5081,5},
        {220647,5091,5},
        {226249,5101,5},
        {231851,5111,5},
        {237453,5121,5},
        {243054,5141,5},
        {248656,2472,5},
        {254258,2473,5},
        {259859,2474,5},
        {265461,2475,5},
        {271063,2476,5},
        {276665,2477,5},
        {282266,2478,5},
        {287868,2479,5},
        {293470,2480,5},
        {299071,2481,5},
        {304673,2482,5},
        {310275,2483,5},
        {315877,2484,5},
        {321478,2485,5},
        {327080,2486,5},
        {332682,2487,5},
        {338283,2488,5},
        {343885,2489,5},
        {349487,2490,5},
        {355089,2491,5},
        {360690,2492,5},
        {366292,2493,5},
        {371894,2494,5},
        {377495,2495,5},
        {383097,523,5},
        {388680,9017,6},
        {394263,9018,6},
        {399846,9019,6},
        {405429,9020,6},
        {411012,9021,6},
        {416576,519,7},
        {422121,510,8},
        {427648,9022,9},
        {433174,518,9},
        {438682,33,10},
        {444190,466,10},
        {449697,57,10},
        {455205,56,10},
        {460713,500,10},
        {466221,15,10},
        {471728,16,10},
        {477236,506,10},
        {482744,508,10},
        {488251,512,10},
        {493759,514,10},
        {499267,517,10},
        {504775,5003,10},
        {510282,5013,10},
        {515790,5023,10},
        {521298,5033,10},
        {526806,5043,10},
        {532313,5053,10},
        {537821,502,10},
        {543329,504,10},
        {548836,1042,10},
        {554344,1043,10},
        {559852,1044,10},
        {565360,1045,10},
        {570867,1046,10},
        {576375,1047,10},
        {581883,1048,10},
        {587391,1049,10},
        {592898,1050,10},
        {598406,1051,10},
        {603914,1054,10},
        {609421,1055,10},
        {614929,1056,10},
        {620437,1057,10},
        {625945,1058,10},
        {631358,8000,15},
        {636772,547,15},
        {642186,501,15},
        {647600,505,15},
        {653013,513,15},
        {658427,5073,15},
        {663841,5133,15},
        {669160,465,20},
        {674480,503,20},
        {679800,5063,20},
        {685120,5083,20},
        {690439,5093,20},
        {695759,5103,20},
        {701079,5113,20},
        {706399,5123,20},
        {711718,5143,20},
        {716850,516,30},
        {721606,440,50},
        {726362,2616,50},
        {731118,2617,50},
        {735874,2618,50},
        {740629,2619,50},
        {745385,2620,50},
        {750141,2621,50},
        {754897,2622,50},
        {759653,2623,50},
        {764408,2624,50},
        {769164,2625,50},
        {773920,2626,50},
        {778676,2627,50},
        {783432,2628,50},
        {788188,2629,50},
        {792943,2630,50},
        {797699,2631,50},
        {802455,2632,50},
        {807211,2633,50},
        {811967,2634,50},
        {816722,2635,50},
        {821478,2636,50},
        {826234,2637,50},
        {830990,2638,50},
        {835746,2639,50},
        {840502,1040,50},
        {845257,1052,50},
        {849543,507,75},
        {853735,49,80},
        {857927,515,80},
        {862119,509,80},
        {866123,50,90},
        {869939,47,100},
        {873755,5005,100},
        {877571,5015,100},
        {881387,5025,100},
        {885202,5035,100},
        {889018,5045,100},
        {892834,5055,100},
        {895710,5075,150},
        {898586,5135,150},
        {901462,1247,150},
        {904151,1254,160},
        {906651,1255,170},
        {908963,1249,180},
        {910899,5065,200},
        {912835,5085,200},
        {914771,5095,200},
        {916707,5105,200},
        {918644,5115,200},
        {920580,5125,200},
        {922516,5145,200},
        {924264,243,210},
        {926012,244,210},
        {927760,245,210},
        {929509,246,210},
        {931257,247,210},
        {933005,248,210},
        {934753,249,210},
        {936501,250,210},
        {938250,251,210},
        {939622,261,230},
        {940994,262,230},
        {942366,263,230},
        {943738,264,230},
        {945111,265,230},
        {946483,266,230},
        {947855,267,230},
        {949227,268,230},
        {950600,269,230},
        {951596,252,250},
        {952592,253,250},
        {953588,254,250},
        {954585,255,250},
        {955581,256,250},
        {956577,257,250},
        {957574,258,250},
        {958570,259,250},
        {959566,260,250},
        {960562,271,250},
        {961559,272,250},
        {962555,273,250},
        {963551,274,250},
        {964548,275,250},
        {965544,276,250},
        {966540,277,250},
        {967536,278,250},
        {968533,279,250},
        {969529,280,250},
        {970525,281,250},
        {971521,282,250},
        {972518,283,250},
        {973514,284,250},
        {974510,285,250},
        {975507,286,250},
        {976503,287,250},
        {977499,288,250},
        {978495,289,250},
        {979492,290,250},
        {980488,291,250},
        {981484,292,250},
        {982481,293,250},
        {983477,294,250},
        {984473,295,250},
        {985469,296,250},
        {986466,297,250},
        {987086,1440,270},
        {987706,1441,270},
        {988327,1442,270},
        {988947,1443,270},
        {989567,1444,270},
        {990188,1445,270},
        {990808,1446,270},
        {991428,1447,270},
        {992049,1448,270},
        {992669,1449,270},
        {993289,1450,270},
        {993910,1451,270},
        {994530,1452,270},
        {995150,1453,270},
        {995771,1433,270},
        {996391,1434,270},
        {997011,1435,270},
        {997631,1436,270},
        {998252,1437,270},
        {998872,1438,270},
        {999492,1439,270},
        {999549,111,300},
        {999605,112,300},
        {999662,113,300},
        {999718,114,300},
        {999774,115,300},
        {999831,116,300},
        {999887,117,300},
        {999944,118,300},
        {1000000,119,300},

    },

    [5] = {
        {5610,548,1},
        {11220,2352,1},
        {16829,2353,1},
        {22439,2354,1},
        {28049,2355,1},
        {33659,2356,1},
        {39269,2357,1},
        {44878,2358,1},
        {50488,2359,1},
        {56098,2360,1},
        {61708,2361,1},
        {67317,2362,1},
        {72927,2363,1},
        {78537,2364,1},
        {84147,2365,1},
        {89757,2366,1},
        {95366,2367,1},
        {100976,2368,1},
        {106586,2369,1},
        {112196,2370,1},
        {117806,2371,1},
        {123415,2372,1},
        {129025,2373,1},
        {134635,2374,1},
        {140245,2375,1},
        {145832,5001,3},
        {151420,5011,3},
        {157007,5021,3},
        {162595,5031,3},
        {168182,5041,3},
        {173770,5051,3},
        {179346,55,4},
        {184923,5071,4},
        {190499,5131,4},
        {196075,400,4},
        {201641,511,5},
        {207206,5061,5},
        {212771,5081,5},
        {218336,5091,5},
        {223902,5101,5},
        {229467,5111,5},
        {235032,5121,5},
        {240597,5141,5},
        {246163,2496,5},
        {251728,2497,5},
        {257293,2498,5},
        {262859,2499,5},
        {268424,2500,5},
        {273989,2501,5},
        {279554,2502,5},
        {285120,2503,5},
        {290685,2504,5},
        {296250,2505,5},
        {301815,2506,5},
        {307381,2507,5},
        {312946,2508,5},
        {318511,2509,5},
        {324076,2510,5},
        {329642,2511,5},
        {335207,2512,5},
        {340772,2513,5},
        {346337,2514,5},
        {351903,2515,5},
        {357468,2516,5},
        {363033,2517,5},
        {368599,2518,5},
        {374164,2519,5},
        {379729,524,5},
        {385283,9017,6},
        {390837,9018,6},
        {396391,9019,6},
        {401946,9020,6},
        {407500,9021,6},
        {413043,519,7},
        {418575,510,8},
        {424095,9022,9},
        {429616,518,9},
        {435126,33,10},
        {440635,466,10},
        {446145,57,10},
        {451655,56,10},
        {457164,500,10},
        {462674,15,10},
        {468183,16,10},
        {473693,506,10},
        {479203,508,10},
        {484712,512,10},
        {490222,514,10},
        {495731,517,10},
        {501241,5003,10},
        {506751,5013,10},
        {512260,5023,10},
        {517770,5033,10},
        {523279,5043,10},
        {528789,5053,10},
        {534299,502,10},
        {539808,504,10},
        {545318,1014,10},
        {550828,1015,10},
        {556337,1016,10},
        {561847,1017,10},
        {567356,1018,10},
        {572866,1019,10},
        {578376,1033,10},
        {583885,1034,10},
        {589395,1035,10},
        {594904,1036,10},
        {600414,1037,10},
        {605924,1038,10},
        {611433,1039,10},
        {616887,8000,15},
        {622341,547,15},
        {627795,501,15},
        {633249,505,15},
        {638703,513,15},
        {644157,5073,15},
        {649611,5133,15},
        {655009,465,20},
        {660408,503,20},
        {665806,5063,20},
        {671204,5083,20},
        {676603,5093,20},
        {682001,5103,20},
        {687399,5113,20},
        {692797,5123,20},
        {698196,5143,20},
        {703483,516,30},
        {708547,440,50},
        {713612,2640,50},
        {718676,2641,50},
        {723740,2642,50},
        {728805,2643,50},
        {733869,2644,50},
        {738933,2645,50},
        {743998,2646,50},
        {749062,2647,50},
        {754127,2648,50},
        {759191,2649,50},
        {764255,2650,50},
        {769320,2651,50},
        {774384,2652,50},
        {779449,2653,50},
        {784513,2654,50},
        {789577,2655,50},
        {794642,2656,50},
        {799706,2657,50},
        {804771,2658,50},
        {809835,2659,50},
        {814899,2660,50},
        {819964,2661,50},
        {825028,2662,50},
        {830092,2663,50},
        {835157,1031,50},
        {840221,1012,50},
        {845007,507,75},
        {849738,49,80},
        {854468,515,80},
        {859199,509,80},
        {863818,50,90},
        {868326,47,100},
        {872834,5005,100},
        {877342,5015,100},
        {881849,5025,100},
        {886357,5035,100},
        {890865,5045,100},
        {895373,5055,100},
        {899324,5075,150},
        {903276,5135,150},
        {906671,5065,200},
        {910065,5085,200},
        {913460,5095,200},
        {916855,5105,200},
        {920250,5115,200},
        {923645,5125,200},
        {927039,5145,200},
        {928765,1461,350},
        {930490,1462,350},
        {932215,1463,350},
        {933940,1464,350},
        {935666,1465,350},
        {937391,1466,350},
        {939116,1467,350},
        {940730,1468,360},
        {942344,1469,360},
        {943958,1470,360},
        {945572,1471,360},
        {947186,1472,360},
        {948800,1473,360},
        {950413,1474,360},
        {951916,1454,370},
        {953419,1455,370},
        {954921,1456,370},
        {956424,1457,370},
        {957927,1458,370},
        {959429,1459,370},
        {960932,1460,370},
        {962212,6018,390},
        {963492,6019,390},
        {964772,6020,390},
        {966052,6021,390},
        {967332,6022,390},
        {968612,6023,390},
        {969892,6024,390},
        {971061,6011,400},
        {972229,6012,400},
        {973398,6013,400},
        {974567,6014,400},
        {975735,6015,400},
        {976904,6016,400},
        {978073,6017,400},
        {979130,1475,410},
        {980188,1476,410},
        {981245,1477,410},
        {982302,1478,410},
        {983360,1479,410},
        {984417,1480,410},
        {985475,1481,410},
        {986309,120,430},
        {987144,121,430},
        {987979,122,430},
        {988814,123,430},
        {989649,124,430},
        {990483,125,430},
        {991318,126,430},
        {992153,127,430},
        {992988,128,430},
        {993600,299,450},
        {994212,300,450},
        {994824,301,450},
        {995436,302,450},
        {996049,303,450},
        {996661,304,450},
        {997273,305,450},
        {997885,306,450},
        {998497,307,450},
        {998553,1482,500},
        {998609,1483,500},
        {998664,1484,500},
        {998720,1485,500},
        {998776,1486,500},
        {998831,1487,500},
        {998887,1488,500},
        {998943,1489,500},
        {998998,1490,500},
        {999054,1491,500},
        {999110,1492,500},
        {999165,1493,500},
        {999221,1494,500},
        {999277,1495,500},
        {999332,1496,500},
        {999388,1497,500},
        {999443,1498,500},
        {999499,1499,500},
        {999555,6025,500},
        {999610,6026,500},
        {999666,6027,500},
        {999722,6028,500},
        {999777,6029,500},
        {999833,6030,500},
        {999889,6031,500},
        {999944,6032,500},
        {1000000,6033,500},

    },
}

-- 触发积分概率 { 次数, 概率 },
local pointProb = {
         {100,1150},
         {99,1140},
         {98,1130},
         {97,1120},
         {96,1110},
         {95,1100},
         {94,1090},
         {93,1080},
         {92,1070},
         {91,1060},
         {90,1050},
         {89,1040},
         {88,1030},
         {87,1020},
         {86,1010},
         {85,1000},
         {84,990},
         {83,980},
         {82,970},
         {81,960},
         {80,950},
         {79,940},
         {78,930},
         {77,920},
         {76,910},
         {75,900},
         {74,890},
         {73,880},
         {72,870},
         {71,860},
         {70,850},
         {69,840},
         {68,830},
         {67,820},
         {66,810},
         {65,800},
         {64,790},
         {63,780},
         {62,770},
         {61,760},
         {60,750},
         {59,740},
         {58,730},
         {57,720},
         {56,710},
         {55,700},
         {54,690},
         {53,680},
         {52,670},
         {51,660},
         {50,650},
         {49,640},
         {48,630},
         {47,620},
         {46,610},
         {45,600},
         {44,590},
         {43,580},
         {42,570},
         {41,560},
         {40,550},
         {39,540},
         {38,530},
         {37,520},
         {36,510},
         {35,500},
         {34,490},
         {33,480},
         {32,470},
         {31,460},
         {30,450},
         {29,440},
         {28,430},
         {27,420},
         {26,410},
         {25,400},
         {24,390},
         {23,380},
         {22,370},
         {21,360},
         {20,350},
         {19,340},
         {18,330},
         {17,320},
         {16,310},
         {15,300},
         {14,290},
         {13,280},
         {12,270},
         {11,260},
         {10,250},
         {9,240},
         {8,230},
         {7,220},
         {6,210},
         {5,200},
         {4,0},
         {3,0},
         {2,0},
         {1,0},
}

-- 副本对应消耗物品
local copyitem = {
    [1] = 9012,
    [2] = 9013,
    [3] = 9014,
    [4] = 9015,
    [5] = 9016,
}

function luckyDraw(player, id, num, bind)
    local got = {}

    local needitem = copyitem[id]
    if needitem == nil then
        return got 
    end 

    local package = player:GetPackage();
    local ninum = package:GetItemNum(needitem, bind)
    if ninum < num then
        player:sendMsgCode(2, 1076, 0);
        return got 
    end 

    if package:GetRestPackageSize() < num * 1.5 then
        player:sendMsgCode(2, 1011, 0);
        return got 
    end

    local item = items[id]
    if item == nil then
        return got
    end 

    local money = 0
    local point = 0
    for o = 1, num do
        SendMsg(player, 1, "绑分: " .. player:GetVarS(101) .. ", 非绑分: " .. player:GetVarS(99))
        if package:DelItem(needitem, 1, bind) == false then
            break
        end

        local x = math.random(1,1000000)
        local sz = #item
        for i = 1,sz do
            if x <= item[i][1] then
                local it = item[i][2]
                package:Add(it, 1, bind, 0, 14)
                table.insert(got, {it, 1})
                point = point + item2point
                money = money + item[i][3]
                break
            end 
        end
        player:AddVar(100, 1)

        local p = math.random(1,10000)
        local count = player:GetVar(100)
        local sz1 = #pointProb

        local action = false
        SendMsg(player, 1, "次数: " .. count)

        for n = 1,sz1 do
            if count >= pointProb[n][1] and p <= pointProb[n][2] then
                if bind then
                    player:AddVarS(101, point - money)
                else
                    player:AddVarS(99, point - money)
                end

                local yapoint = 0
                if bind then
                    yapoint = player:GetVarS(101)
                else
                    yapoint = player:GetVarS(99)
                end

                if yapoint > 0 then
                    SendMsg(player, 1, "次数: " .. count .. " 触发时积分: " .. yapoint)
                    local pp = 0
                    local pos = 0
                    for k = 1, sz do
                        if yapoint <= item[k][3] then
                            if k > 1 then
                                pp = item[k-1][3]
                            end
                            break
                        end
                        pos = pos + 1
                    end

                    if pos == sz then
                        pp = item[pos][3]
                    end

                    if pp ~= 0 then
                        local yaitem = {}
                        for l = 1, sz do
                            if pp == item[l][3] then
                                table.insert(yaitem, item[l][2])
                            end
                        end

                        local yasz = #yaitem
                        if yasz ~= 0 then
                            if yasz == 1 then
                                local it = yaitem[1]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            else
                                local it = yaitem[math.random(1,yasz)]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            end

                            if bind then
                                yapoint = player:SetVar(101, yapoint - pp)
                            else
                                yapoint = player:SetVar(99, yapoint - pp)
                            end
                        end
                    end
                    player:SetVar(100, 0)
                end

                money = 0
                point = 0
                break
            end
        end
    end

    if point ~= 0 then
        if bind then
            player:AddVarS(101, point - money)
        else
            player:AddVarS(99, point - money)
        end
    end

    return got 
end

