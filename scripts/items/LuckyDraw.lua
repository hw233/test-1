
-- 消耗一个物品所得到的积分
local item2point = 10

-- { 物品概率(累积值), 物品ID, 积分}，对应5个副本
local items = {
    [1] = {
        {20107,548,1},
        {40213,2256,1},
        {60320,2257,1},
        {80427,2258,1},
        {100533,2259,1},
        {120640,2260,1},
        {140747,2261,1},
        {160853,2262,1},
        {180960,2263,1},
        {201067,2264,1},
        {221173,2265,1},
        {241280,2266,1},
        {261387,2267,1},
        {281493,2268,1},
        {301600,2269,1},
        {321707,2270,1},
        {341813,2271,1},
        {361920,2272,1},
        {382026,2273,1},
        {402133,2274,1},
        {422240,2275,1},
        {442346,2276,1},
        {462453,2277,1},
        {482560,2278,1},
        {502666,2279,1},
        {512720,5001,2},
        {522773,5011,2},
        {532826,5021,2},
        {542880,5031,2},
        {552933,5041,2},
        {562986,5051,2},
        {573040,55,2},
        {583093,510,2},
        {593146,51,2},
        {599849,2400,3},
        {606551,2401,3},
        {613253,2402,3},
        {619955,2403,3},
        {626657,2404,3},
        {633360,2405,3},
        {640062,2406,3},
        {646764,2407,3},
        {653466,2408,3},
        {660169,2409,3},
        {666871,2410,3},
        {673573,2411,3},
        {680275,2412,3},
        {686977,2413,3},
        {693680,2414,3},
        {700382,2415,3},
        {707084,2416,3},
        {713786,2417,3},
        {720489,2418,3},
        {727191,2419,3},
        {733893,2420,3},
        {740595,2421,3},
        {747297,2422,3},
        {754000,2423,3},
        {760702,5071,3},
        {767404,5131,3},
        {774106,5061,3},
        {780809,5081,3},
        {787511,5091,3},
        {794213,5101,3},
        {800915,5111,3},
        {807617,5121,3},
        {814320,5141,3},
        {821022,519,3},
        {827724,48,3},
        {832751,400,4},
        {837777,511,4},
        {842804,520,4},
        {847831,518,4},
        {851852,9017,5},
        {855873,9018,5},
        {859895,9019,5},
        {863916,9020,5},
        {867937,9021,5},
        {871288,15,6},
        {874640,504,6},
        {877153,9022,8},
        {879387,506,9},
        {881621,502,9},
        {883855,57,9},
        {885866,33,10},
        {887876,466,10},
        {889887,56,10},
        {891898,500,10},
        {893908,508,10},
        {895919,512,10},
        {897930,514,10},
        {899940,517,10},
        {901951,5003,10},
        {903962,5013,10},
        {905972,5023,10},
        {907983,5033,10},
        {909994,5043,10},
        {912004,5053,10},
        {914015,1061,10},
        {916026,1062,10},
        {918036,1063,10},
        {920047,1064,10},
        {922058,1109,10},
        {924068,1110,10},
        {926079,1111,10},
        {928090,1112,10},
        {930100,1113,10},
        {932111,1114,10},
        {934122,1115,10},
        {936132,1098,10},
        {938143,1099,10},
        {940154,1100,10},
        {942164,1101,10},
        {944175,1102,10},
        {946186,1103,10},
        {948196,1104,10},
        {950207,1105,10},
        {952218,1106,10},
        {954228,49,10},
        {955569,8000,15},
        {956909,547,15},
        {958250,501,15},
        {959590,505,15},
        {960931,513,15},
        {962271,5073,15},
        {963612,5133,15},
        {964617,465,20},
        {965622,503,20},
        {966628,5063,20},
        {967633,5083,20},
        {968638,5093,20},
        {969644,5103,20},
        {970649,5113,20},
        {971654,5123,20},
        {972660,5143,20},
        {973665,50,20},
        {974335,516,30},
        {974838,2544,40},
        {975340,2545,40},
        {975843,2546,40},
        {976346,2547,40},
        {976848,2548,40},
        {977351,2549,40},
        {977854,2550,40},
        {978356,2551,40},
        {978859,2552,40},
        {979362,2553,40},
        {979864,2554,40},
        {980367,2555,40},
        {980870,2556,40},
        {981372,2557,40},
        {981875,2558,40},
        {982378,2559,40},
        {982880,2560,40},
        {983383,2561,40},
        {983886,2562,40},
        {984388,2563,40},
        {984891,2564,40},
        {985394,2565,40},
        {985896,2566,40},
        {986399,2567,40},
        {986801,1505,50},
        {987203,1506,50},
        {987605,1507,50},
        {988008,1508,50},
        {988410,1224,50},
        {988812,1096,50},
        {989214,1107,50},
        {989616,1059,50},
        {990018,6006,50},
        {990420,6009,50},
        {990823,6034,50},
        {991225,6037,50},
        {991627,47,50},
        {991962,1225,60},
        {992297,1222,60},
        {992632,1223,60},
        {992900,507,75},
        {993152,515,80},
        {993403,1605,80},
        {993654,1615,80},
        {993906,1231,80},
        {994157,1235,80},
        {994408,1229,80},
        {994660,509,80},
        {994861,5005,100},
        {995062,5015,100},
        {995263,5025,100},
        {995464,5035,100},
        {995665,5045,100},
        {995866,5055,100},
        {996067,1604,100},
        {996268,1614,100},
        {996469,1503,100},
        {996670,1238,100},
        {996871,1246,100},
        {997072,1226,100},
        {997273,1243,100},
        {997474,6010,100},
        {997676,6038,100},
        {997858,1233,110},
        {998026,1606,120},
        {998193,1608,120},
        {998327,5075,150},
        {998462,5135,150},
        {998596,1610,150},
        {998730,1603,150},
        {998864,1609,150},
        {998964,5065,200},
        {999065,5085,200},
        {999165,5095,200},
        {999266,5105,200},
        {999366,5115,200},
        {999467,5125,200},
        {999567,5145,200},
        {999659,6007,220},
        {999750,6008,220},
        {999842,6035,220},
        {999933,6036,220},
        {1000000,1504,300},

    },

    [2] = {
        {20600,548,1},
        {41200,2280,1},
        {61799,2281,1},
        {82399,2282,1},
        {102999,2283,1},
        {123599,2284,1},
        {144199,2285,1},
        {164798,2286,1},
        {185398,2287,1},
        {205998,2288,1},
        {226598,2289,1},
        {247198,2290,1},
        {267797,2291,1},
        {288397,2292,1},
        {308997,2293,1},
        {329597,2294,1},
        {350197,2295,1},
        {370796,2296,1},
        {391396,2297,1},
        {411996,2298,1},
        {432596,2299,1},
        {453195,2300,1},
        {473795,2301,1},
        {494395,2302,1},
        {514995,2303,1},
        {525295,5001,2},
        {535595,5011,2},
        {545895,5021,2},
        {556194,5031,2},
        {566494,5041,2},
        {576794,5051,2},
        {587094,55,2},
        {597394,510,2},
        {597394,51,2},
        {604261,2424,3},
        {611127,2425,3},
        {617994,2426,3},
        {624860,2427,3},
        {631727,2428,3},
        {638594,2429,3},
        {645460,2430,3},
        {652327,2431,3},
        {659193,2432,3},
        {666060,2433,3},
        {672927,2434,3},
        {679793,2435,3},
        {686660,2436,3},
        {693526,2437,3},
        {700393,2438,3},
        {707260,2439,3},
        {714126,2440,3},
        {720993,2441,3},
        {727859,2442,3},
        {734726,2443,3},
        {741593,2444,3},
        {748459,2445,3},
        {755326,2446,3},
        {762192,2447,3},
        {769059,5071,3},
        {775926,5131,3},
        {782792,5061,3},
        {789659,5081,3},
        {796525,5091,3},
        {803392,5101,3},
        {810259,5111,3},
        {817125,5121,3},
        {823992,5141,3},
        {830858,519,3},
        {830858,48,3},
        {836008,400,4},
        {841158,511,4},
        {846308,518,4},
        {851458,521,4},
        {855578,9017,5},
        {859698,9018,5},
        {863818,9019,5},
        {867938,9020,5},
        {872058,9021,5},
        {875491,15,6},
        {878925,504,6},
        {881500,9022,8},
        {883788,506,9},
        {886077,502,9},
        {888366,57,9},
        {890426,33,10},
        {892486,466,10},
        {894546,56,10},
        {896606,500,10},
        {898666,508,10},
        {900726,512,10},
        {902786,514,10},
        {904846,517,10},
        {906906,5003,10},
        {908966,5013,10},
        {911026,5023,10},
        {913086,5033,10},
        {915146,5043,10},
        {917206,5053,10},
        {919266,1086,10},
        {921326,1087,10},
        {923386,1088,10},
        {925446,1089,10},
        {927506,1090,10},
        {929566,1091,10},
        {931626,1092,10},
        {933686,1093,10},
        {935746,1094,10},
        {937806,1095,10},
        {939866,1076,10},
        {941926,1077,10},
        {943986,1078,10},
        {946046,1079,10},
        {948106,1080,10},
        {950166,1081,10},
        {952225,1082,10},
        {954285,1083,10},
        {956345,49,10},
        {957719,8000,15},
        {959092,547,15},
        {960465,501,15},
        {961839,505,15},
        {963212,513,15},
        {964585,5073,15},
        {965959,5133,15},
        {966989,465,20},
        {968019,503,20},
        {969049,5063,20},
        {970079,5083,20},
        {971109,5093,20},
        {972139,5103,20},
        {973169,5113,20},
        {974199,5123,20},
        {975229,5143,20},
        {976259,50,20},
        {976945,516,30},
        {977357,2568,50},
        {977769,2569,50},
        {978181,2570,50},
        {978593,2571,50},
        {979005,2572,50},
        {979417,2573,50},
        {979829,2574,50},
        {980241,2575,50},
        {980653,2576,50},
        {981065,2577,50},
        {981477,2578,50},
        {981889,2579,50},
        {982301,2580,50},
        {982713,2581,50},
        {983125,2582,50},
        {983537,2583,50},
        {983949,2584,50},
        {984361,2585,50},
        {984773,2586,50},
        {985185,2587,50},
        {985597,2588,50},
        {986009,2589,50},
        {986421,2590,50},
        {986833,2591,50},
        {987245,1074,50},
        {987657,1084,50},
        {988069,6006,50},
        {988481,6009,50},
        {988893,6034,50},
        {989305,6037,50},
        {989717,47,50},
        {990060,203,60},
        {990404,204,60},
        {990747,205,60},
        {991041,1413,70},
        {991336,1414,70},
        {991630,1415,70},
        {991924,1227,70},
        {992199,507,75},
        {992456,515,80},
        {992714,200,80},
        {992971,201,80},
        {993229,202,80},
        {993486,509,80},
        {993715,1612,90},
        {993921,5005,100},
        {994127,5015,100},
        {994333,5025,100},
        {994539,5035,100},
        {994745,5045,100},
        {994951,5055,100},
        {995157,1607,100},
        {995363,1509,100},
        {995569,1251,100},
        {995775,1241,100},
        {995981,1242,100},
        {996187,1234,100},
        {996393,6010,100},
        {996599,6038,100},
        {996746,82,140},
        {996894,83,140},
        {997041,84,140},
        {997188,85,140},
        {997325,5075,150},
        {997462,5135,150},
        {997600,1611,150},
        {997737,206,150},
        {997874,207,150},
        {998012,208,150},
        {998149,1230,150},
        {998286,1240,150},
        {998415,86,160},
        {998544,87,160},
        {998673,88,160},
        {998801,89,160},
        {998904,5065,200},
        {999007,5085,200},
        {999110,5095,200},
        {999213,5105,200},
        {999316,5115,200},
        {999419,5125,200},
        {999522,5145,200},
        {999625,1616,200},
        {999719,6007,220},
        {999813,6008,220},
        {999906,6035,220},
        {1000000,6036,220},

    },

    [3] = {
        {20628,548,1},
        {41256,2304,1},
        {61884,2305,1},
        {82512,2306,1},
        {103139,2307,1},
        {123767,2308,1},
        {144395,2309,1},
        {165023,2310,1},
        {185651,2311,1},
        {206279,2312,1},
        {226907,2313,1},
        {247535,2314,1},
        {268163,2315,1},
        {288791,2316,1},
        {309418,2317,1},
        {330046,2318,1},
        {350674,2319,1},
        {371302,2320,1},
        {391930,2321,1},
        {412558,2322,1},
        {433186,2323,1},
        {453814,2324,1},
        {474442,2325,1},
        {495069,2326,1},
        {515697,2327,1},
        {526011,5001,2},
        {536325,5011,2},
        {546639,5021,2},
        {556953,5031,2},
        {567267,5041,2},
        {577581,5051,2},
        {587895,55,2},
        {598209,510,2},
        {598209,51,2},
        {605085,2448,3},
        {611961,2449,3},
        {618837,2450,3},
        {625713,2451,3},
        {632589,2452,3},
        {639465,2453,3},
        {646341,2454,3},
        {653217,2455,3},
        {660093,2456,3},
        {666969,2457,3},
        {673845,2458,3},
        {680721,2459,3},
        {687596,2460,3},
        {694472,2461,3},
        {701348,2462,3},
        {708224,2463,3},
        {715100,2464,3},
        {721976,2465,3},
        {728852,2466,3},
        {735728,2467,3},
        {742604,2468,3},
        {749480,2469,3},
        {756356,2470,3},
        {763232,2471,3},
        {770108,5071,3},
        {776984,5131,3},
        {783860,5061,3},
        {790736,5081,3},
        {797612,5091,3},
        {804488,5101,3},
        {811364,5111,3},
        {818240,5121,3},
        {825116,5141,3},
        {831992,519,3},
        {831992,48,3},
        {837149,400,4},
        {842306,511,4},
        {847463,522,4},
        {852620,518,4},
        {856745,9017,5},
        {860871,9018,5},
        {864996,9019,5},
        {869122,9020,5},
        {873248,9021,5},
        {876685,15,6},
        {880123,504,6},
        {882702,9022,8},
        {884994,506,9},
        {887286,502,9},
        {889578,57,9},
        {891641,33,10},
        {893704,466,10},
        {895766,56,10},
        {897829,500,10},
        {899892,508,10},
        {901955,512,10},
        {904017,514,10},
        {906080,517,10},
        {908143,5003,10},
        {910206,5013,10},
        {912269,5023,10},
        {914331,5033,10},
        {916394,5043,10},
        {918457,5053,10},
        {920520,1067,10},
        {922583,1068,10},
        {924645,1069,10},
        {926708,1070,10},
        {928771,1071,10},
        {930834,1072,10},
        {932897,1073,10},
        {934959,1022,10},
        {937022,1023,10},
        {939085,1024,10},
        {941148,1025,10},
        {943210,1026,10},
        {945273,1027,10},
        {947336,1028,10},
        {949399,1029,10},
        {951462,1030,10},
        {953524,49,10},
        {954900,8000,15},
        {956275,547,15},
        {957650,501,15},
        {959025,505,15},
        {960400,513,15},
        {961776,5073,15},
        {963151,5133,15},
        {964182,465,20},
        {965214,503,20},
        {966245,5063,20},
        {967276,5083,20},
        {968308,5093,20},
        {969339,5103,20},
        {970371,5113,20},
        {971402,5123,20},
        {972433,5143,20},
        {973465,50,20},
        {974152,516,30},
        {974565,2592,50},
        {974977,2593,50},
        {975390,2594,50},
        {975803,2595,50},
        {976215,2596,50},
        {976628,2597,50},
        {977040,2598,50},
        {977453,2599,50},
        {977865,2600,50},
        {978278,2601,50},
        {978690,2602,50},
        {979103,2603,50},
        {979516,2604,50},
        {979928,2605,50},
        {980341,2606,50},
        {980753,2607,50},
        {981166,2608,50},
        {981578,2609,50},
        {981991,2610,50},
        {982403,2611,50},
        {982816,2612,50},
        {983229,2613,50},
        {983641,2614,50},
        {984054,2615,50},
        {984466,1020,50},
        {984879,1065,50},
        {985291,6006,50},
        {985704,6009,50},
        {986116,6034,50},
        {986529,6037,50},
        {986942,47,50},
        {987217,507,75},
        {987474,515,80},
        {987732,509,80},
        {987939,5005,100},
        {988145,5015,100},
        {988351,5025,100},
        {988557,5035,100},
        {988764,5045,100},
        {988970,5055,100},
        {989176,6010,100},
        {989383,6038,100},
        {989554,1236,120},
        {989726,1237,120},
        {989874,1421,140},
        {990021,1422,140},
        {990168,1423,140},
        {990316,1424,140},
        {990463,1425,140},
        {990610,1426,140},
        {990758,1427,140},
        {990905,1428,140},
        {991052,1429,140},
        {991200,1430,140},
        {991347,1431,140},
        {991494,1432,140},
        {991642,1416,140},
        {991789,1417,140},
        {991936,1418,140},
        {992084,1419,140},
        {992231,1420,140},
        {992369,5075,150},
        {992506,5135,150},
        {992644,91,150},
        {992781,92,150},
        {992919,93,150},
        {993056,94,150},
        {993194,95,150},
        {993331,96,150},
        {993469,1245,150},
        {993598,103,160},
        {993727,104,160},
        {993856,105,160},
        {993985,106,160},
        {994113,107,160},
        {994242,108,160},
        {994371,109,160},
        {994500,110,160},
        {994622,228,170},
        {994743,229,170},
        {994864,230,170},
        {994986,231,170},
        {995107,232,170},
        {995228,233,170},
        {995350,234,170},
        {995471,235,170},
        {995592,236,170},
        {995714,237,170},
        {995835,238,170},
        {995956,239,170},
        {996078,240,170},
        {996199,241,170},
        {996320,242,170},
        {996435,97,180},
        {996550,98,180},
        {996664,99,180},
        {996779,100,180},
        {996893,101,180},
        {997008,102,180},
        {997117,217,190},
        {997225,218,190},
        {997334,219,190},
        {997442,220,190},
        {997551,221,190},
        {997659,222,190},
        {997768,223,190},
        {997876,224,190},
        {997980,5065,200},
        {998083,5085,200},
        {998186,5095,200},
        {998289,5105,200},
        {998392,5115,200},
        {998495,5125,200},
        {998598,5145,200},
        {998702,209,200},
        {998805,210,200},
        {998908,211,200},
        {999011,212,200},
        {999114,213,200},
        {999217,214,200},
        {999320,215,200},
        {999424,216,200},
        {999527,1253,200},
        {999625,1250,210},
        {999719,6007,220},
        {999812,6008,220},
        {999906,6035,220},
        {1000000,6036,220},

    },

    [4] = {
        {20697,548,1},
        {41394,2328,1},
        {62090,2329,1},
        {82787,2330,1},
        {103484,2331,1},
        {124181,2332,1},
        {144878,2333,1},
        {165575,2334,1},
        {186271,2335,1},
        {206968,2336,1},
        {227665,2337,1},
        {248362,2338,1},
        {269059,2339,1},
        {289755,2340,1},
        {310452,2341,1},
        {331149,2342,1},
        {351846,2343,1},
        {372543,2344,1},
        {393240,2345,1},
        {413936,2346,1},
        {434633,2347,1},
        {455330,2348,1},
        {476027,2349,1},
        {496724,2350,1},
        {517420,2351,1},
        {527769,5001,2},
        {538117,5011,2},
        {548466,5021,2},
        {558814,5031,2},
        {569162,5041,2},
        {579511,5051,2},
        {589859,55,2},
        {600208,510,2},
        {600208,51,2},
        {607107,2472,3},
        {614006,2473,3},
        {620905,2474,3},
        {627803,2475,3},
        {634702,2476,3},
        {641601,2477,3},
        {648500,2478,3},
        {655399,2479,3},
        {662298,2480,3},
        {669197,2481,3},
        {676096,2482,3},
        {682995,2483,3},
        {689894,2484,3},
        {696793,2485,3},
        {703692,2486,3},
        {710591,2487,3},
        {717490,2488,3},
        {724389,2489,3},
        {731288,2490,3},
        {738187,2491,3},
        {745085,2492,3},
        {751984,2493,3},
        {758883,2494,3},
        {765782,2495,3},
        {772681,5071,3},
        {779580,5131,3},
        {786479,5061,3},
        {793378,5081,3},
        {800277,5091,3},
        {807176,5101,3},
        {814075,5111,3},
        {820974,5121,3},
        {827873,5141,3},
        {834772,519,3},
        {834772,48,3},
        {839946,400,4},
        {845120,511,4},
        {850294,523,4},
        {855468,518,4},
        {859608,9017,5},
        {863747,9018,5},
        {867887,9019,5},
        {872026,9020,5},
        {876165,9021,5},
        {879615,15,6},
        {883064,504,6},
        {885651,9022,8},
        {887951,506,9},
        {890251,502,9},
        {892550,57,9},
        {894620,33,10},
        {896690,466,10},
        {898759,56,10},
        {900829,500,10},
        {902899,508,10},
        {904968,512,10},
        {907038,514,10},
        {909108,517,10},
        {911177,5003,10},
        {913247,5013,10},
        {915317,5023,10},
        {917386,5033,10},
        {919456,5043,10},
        {921526,5053,10},
        {923595,1042,10},
        {925665,1043,10},
        {927735,1044,10},
        {929805,1045,10},
        {931874,1046,10},
        {933944,1047,10},
        {936014,1048,10},
        {938083,1049,10},
        {940153,1050,10},
        {942223,1051,10},
        {944292,1054,10},
        {946362,1055,10},
        {948432,1056,10},
        {950501,1057,10},
        {952571,1058,10},
        {954641,49,10},
        {956021,8000,15},
        {957400,547,15},
        {958780,501,15},
        {960160,505,15},
        {961540,513,15},
        {962919,5073,15},
        {964299,5133,15},
        {965334,465,20},
        {966369,503,20},
        {967404,5063,20},
        {968439,5083,20},
        {969473,5093,20},
        {970508,5103,20},
        {971543,5113,20},
        {972578,5123,20},
        {973613,5143,20},
        {974648,50,20},
        {975338,516,30},
        {975751,2616,50},
        {976165,2617,50},
        {976579,2618,50},
        {976993,2619,50},
        {977407,2620,50},
        {977821,2621,50},
        {978235,2622,50},
        {978649,2623,50},
        {979063,2624,50},
        {979477,2625,50},
        {979891,2626,50},
        {980305,2627,50},
        {980719,2628,50},
        {981133,2629,50},
        {981547,2630,50},
        {981961,2631,50},
        {982374,2632,50},
        {982788,2633,50},
        {983202,2634,50},
        {983616,2635,50},
        {984030,2636,50},
        {984444,2637,50},
        {984858,2638,50},
        {985272,2639,50},
        {985686,1040,50},
        {986100,1052,50},
        {986514,6006,50},
        {986928,6009,50},
        {987342,6034,50},
        {987756,6037,50},
        {988170,47,50},
        {988446,507,75},
        {988704,515,80},
        {988963,509,80},
        {989170,5005,100},
        {989377,5015,100},
        {989584,5025,100},
        {989791,5035,100},
        {989998,5045,100},
        {990205,5055,100},
        {990412,6010,100},
        {990619,6038,100},
        {990757,5075,150},
        {990895,5135,150},
        {991033,1247,150},
        {991162,1254,160},
        {991284,1255,170},
        {991399,1249,180},
        {991502,5065,200},
        {991606,5085,200},
        {991709,5095,200},
        {991813,5105,200},
        {991916,5115,200},
        {992020,5125,200},
        {992123,5145,200},
        {992222,243,210},
        {992320,244,210},
        {992419,245,210},
        {992517,246,210},
        {992616,247,210},
        {992714,248,210},
        {992813,249,210},
        {992912,250,210},
        {993010,251,210},
        {993104,261,220},
        {993198,262,220},
        {993292,263,220},
        {993386,264,220},
        {993480,265,220},
        {993575,266,220},
        {993669,267,220},
        {993763,268,220},
        {993857,269,220},
        {993951,6007,220},
        {994045,6008,220},
        {994139,6035,220},
        {994233,6036,220},
        {994323,252,230},
        {994413,253,230},
        {994503,254,230},
        {994593,255,230},
        {994683,256,230},
        {994773,257,230},
        {994863,258,230},
        {994953,259,230},
        {995043,260,230},
        {995133,271,230},
        {995223,272,230},
        {995313,273,230},
        {995403,274,230},
        {995493,275,230},
        {995583,276,230},
        {995673,277,230},
        {995763,278,230},
        {995853,279,230},
        {995943,280,230},
        {996033,281,230},
        {996123,282,230},
        {996213,283,230},
        {996303,284,230},
        {996393,285,230},
        {996483,286,230},
        {996573,287,230},
        {996663,288,230},
        {996753,289,230},
        {996843,290,230},
        {996933,291,230},
        {997023,292,230},
        {997113,293,230},
        {997203,294,230},
        {997293,295,230},
        {997383,296,230},
        {997473,297,230},
        {997559,1440,240},
        {997645,1441,240},
        {997731,1442,240},
        {997818,1443,240},
        {997904,1444,240},
        {997990,1445,240},
        {998076,1446,240},
        {998162,1447,240},
        {998249,1448,240},
        {998335,1449,240},
        {998421,1450,240},
        {998507,1451,240},
        {998594,1452,240},
        {998680,1453,240},
        {998766,1433,240},
        {998852,1434,240},
        {998939,1435,240},
        {999025,1436,240},
        {999111,1437,240},
        {999197,1438,240},
        {999284,1439,240},
        {999363,111,260},
        {999443,112,260},
        {999522,113,260},
        {999602,114,260},
        {999682,115,260},
        {999761,116,260},
        {999841,117,260},
        {999920,118,260},
        {1000000,119,260},

    },

    [5] = {
        {20811,548,1},
        {41623,2352,1},
        {62434,2353,1},
        {83246,2354,1},
        {104057,2355,1},
        {124869,2356,1},
        {145680,2357,1},
        {166492,2358,1},
        {187303,2359,1},
        {208115,2360,1},
        {228926,2361,1},
        {249738,2362,1},
        {270549,2363,1},
        {291361,2364,1},
        {312172,2365,1},
        {332984,2366,1},
        {353795,2367,1},
        {374607,2368,1},
        {395418,2369,1},
        {416230,2370,1},
        {437041,2371,1},
        {457853,2372,1},
        {478664,2373,1},
        {499476,2374,1},
        {520287,2375,1},
        {530693,5001,2},
        {541099,5011,2},
        {551504,5021,2},
        {561910,5031,2},
        {572316,5041,2},
        {582721,5051,2},
        {593127,55,2},
        {603533,510,2},
        {603533,51,2},
        {610470,2496,3},
        {617407,2497,3},
        {624344,2498,3},
        {631282,2499,3},
        {638219,2500,3},
        {645156,2501,3},
        {652093,2502,3},
        {659030,2503,3},
        {665967,2504,3},
        {672905,2505,3},
        {679842,2506,3},
        {686779,2507,3},
        {693716,2508,3},
        {700653,2509,3},
        {707590,2510,3},
        {714528,2511,3},
        {721465,2512,3},
        {728402,2513,3},
        {735339,2514,3},
        {742276,2515,3},
        {749213,2516,3},
        {756150,2517,3},
        {763088,2518,3},
        {770025,2519,3},
        {776962,5071,3},
        {783899,5131,3},
        {790836,5061,3},
        {797773,5081,3},
        {804711,5091,3},
        {811648,5101,3},
        {818585,5111,3},
        {825522,5121,3},
        {832459,5141,3},
        {839396,519,3},
        {839396,48,3},
        {844599,400,4},
        {849802,511,4},
        {855005,524,4},
        {860208,518,4},
        {864370,9017,5},
        {868532,9018,5},
        {872695,9019,5},
        {876857,9020,5},
        {881019,9021,5},
        {884488,15,6},
        {887957,504,6},
        {890558,9022,8},
        {892870,506,9},
        {895183,502,9},
        {897495,57,9},
        {899576,514,10},
        {901657,33,10},
        {903739,466,10},
        {905820,56,10},
        {907901,500,10},
        {909982,508,10},
        {912063,512,10},
        {914144,517,10},
        {916225,5003,10},
        {918307,5013,10},
        {920388,5023,10},
        {922469,5033,10},
        {924550,5043,10},
        {926631,5053,10},
        {928712,1014,10},
        {930794,1015,10},
        {932875,1016,10},
        {934956,1017,10},
        {937037,1018,10},
        {939118,1019,10},
        {941199,1033,10},
        {943280,1034,10},
        {945362,1035,10},
        {947443,1036,10},
        {949524,1037,10},
        {951605,1038,10},
        {953686,1039,10},
        {955767,49,10},
        {957155,8000,15},
        {958542,547,15},
        {959930,501,15},
        {961317,505,15},
        {962704,513,15},
        {964092,5073,15},
        {965479,5133,15},
        {966520,465,20},
        {967560,503,20},
        {968601,5063,20},
        {969642,5083,20},
        {970682,5093,20},
        {971723,5103,20},
        {972763,5113,20},
        {973804,5123,20},
        {974844,5143,20},
        {975885,50,20},
        {976579,516,30},
        {976995,2640,50},
        {977411,2641,50},
        {977827,2642,50},
        {978244,2643,50},
        {978660,2644,50},
        {979076,2645,50},
        {979492,2646,50},
        {979909,2647,50},
        {980325,2648,50},
        {980741,2649,50},
        {981157,2650,50},
        {981574,2651,50},
        {981990,2652,50},
        {982406,2653,50},
        {982822,2654,50},
        {983238,2655,50},
        {983655,2656,50},
        {984071,2657,50},
        {984487,2658,50},
        {984903,2659,50},
        {985320,2660,50},
        {985736,2661,50},
        {986152,2662,50},
        {986568,2663,50},
        {986985,1031,50},
        {987401,1012,50},
        {987817,6006,50},
        {988233,6009,50},
        {988649,6034,50},
        {989066,6037,50},
        {989482,47,50},
        {989759,507,75},
        {990020,515,80},
        {990280,509,80},
        {990488,5005,100},
        {990696,5015,100},
        {990904,5025,100},
        {991112,5035,100},
        {991320,5045,100},
        {991528,5055,100},
        {991736,6010,100},
        {991945,6038,100},
        {992083,5075,150},
        {992222,5135,150},
        {992326,5065,200},
        {992430,5085,200},
        {992534,5095,200},
        {992638,5105,200},
        {992742,5115,200},
        {992846,5125,200},
        {992950,5145,200},
        {993045,6007,220},
        {993140,6008,220},
        {993234,6035,220},
        {993329,6036,220},
        {993419,1461,230},
        {993510,1462,230},
        {993600,1463,230},
        {993691,1464,230},
        {993781,1465,230},
        {993872,1466,230},
        {993962,1467,230},
        {994049,1468,240},
        {994136,1469,240},
        {994222,1470,240},
        {994309,1471,240},
        {994396,1472,240},
        {994483,1473,240},
        {994569,1474,240},
        {994653,1454,250},
        {994736,1455,250},
        {994819,1456,250},
        {994902,1457,250},
        {994985,1458,250},
        {995069,1459,250},
        {995152,1460,250},
        {995232,6018,260},
        {995312,6019,260},
        {995392,6020,260},
        {995472,6021,260},
        {995552,6022,260},
        {995632,6023,260},
        {995712,6024,260},
        {995792,6011,260},
        {995872,6012,260},
        {995952,6013,260},
        {996032,6014,260},
        {996113,6015,260},
        {996193,6016,260},
        {996273,6017,260},
        {996350,1475,270},
        {996427,1476,270},
        {996504,1477,270},
        {996581,1478,270},
        {996658,1479,270},
        {996735,1480,270},
        {996812,1481,270},
        {996886,120,280},
        {996961,121,280},
        {997035,122,280},
        {997109,123,280},
        {997184,124,280},
        {997258,125,280},
        {997332,126,280},
        {997407,127,280},
        {997481,128,280},
        {997553,299,290},
        {997625,300,290},
        {997696,301,290},
        {997768,302,290},
        {997840,303,290},
        {997912,304,290},
        {997983,305,290},
        {998055,306,290},
        {998127,307,290},
        {998196,1482,300},
        {998266,1483,300},
        {998335,1484,300},
        {998404,1485,300},
        {998474,1486,300},
        {998543,1487,300},
        {998613,1488,300},
        {998682,1489,300},
        {998751,1490,300},
        {998821,1491,300},
        {998890,1492,300},
        {998959,1493,300},
        {999029,1494,300},
        {999098,1495,300},
        {999168,1496,300},
        {999237,1497,300},
        {999306,1498,300},
        {999376,1499,300},
        {999445,6025,300},
        {999514,6026,300},
        {999584,6027,300},
        {999653,6028,300},
        {999723,6029,300},
        {999792,6030,300},
        {999861,6031,300},
        {999931,6032,300},
        {1000000,6033,300},

    },
}

-- 触发积分概率 { 次数, 概率 },
local pointProb = {
         {100,1350},
         {99,1340},
         {98,1330},
         {97,1320},
         {96,1310},
         {95,1300},
         {94,1290},
         {93,1280},
         {92,1270},
         {91,1260},
         {90,1250},
         {89,1240},
         {88,1230},
         {87,1220},
         {86,1210},
         {85,1200},
         {84,1190},
         {83,1180},
         {82,1170},
         {81,1160},
         {80,1150},
         {79,1140},
         {78,1130},
         {77,1120},
         {76,1110},
         {75,1100},
         {74,1090},
         {73,1080},
         {72,1070},
         {71,1060},
         {70,1050},
         {69,1040},
         {68,1030},
         {67,1020},
         {66,1010},
         {65,1000},
         {64,990},
         {63,980},
         {62,970},
         {61,960},
         {60,950},
         {59,940},
         {58,930},
         {57,920},
         {56,910},
         {55,900},
         {54,890},
         {53,880},
         {52,870},
         {51,860},
         {50,850},
         {49,840},
         {48,830},
         {47,820},
         {46,810},
         {45,800},
         {44,790},
         {43,780},
         {42,770},
         {41,760},
         {40,750},
         {39,740},
         {38,730},
         {37,720},
         {36,710},
         {35,700},
         {34,690},
         {33,680},
         {32,670},
         {31,660},
         {30,650},
         {29,640},
         {28,630},
         {27,620},
         {26,610},
         {25,600},
         {24,590},
         {23,580},
         {22,570},
         {21,560},
         {20,550},
         {19,540},
         {18,530},
         {17,520},
         {16,510},
         {15,500},
         {14,490},
         {13,480},
         {12,470},
         {11,460},
         {10,450},
         {9,440},
         {8,430},
         {7,420},
         {6,410},
         {5,400},
         {4,0},
         {3,0},
         {2,0},
         {1,0},
}

-- 副本对应消耗物品
local copyitem = {
    [1] = 9012,
    [2] = 9013,
    [3] = 9014,
    [4] = 9015,
    [5] = 9016,
}

function luckyDraw(player, id, num, bind)
    local got = {}

    local needitem = copyitem[id]
    if needitem == nil then
        return got 
    end 

    local package = player:GetPackage()
    local bnum = package:GetItemNum(needitem, true)
    local ubnum = package:GetItemNum(needitem, false)
    local gold = player:getGold()

    if (bnum + ubnum + gold/10) < num then
        player:sendMsgCode(2, 1076, 0)
        return got 
    end

    if package:GetRestPackageSize() < num * 1.5 then
        player:sendMsgCode(2, 1011, 0)
        return got 
    end

    local item = items[id]
    if item == nil then
        return got
    end 

    print('num: ' .. num .. ' gold: ' .. gold)
    local money = 0
    local point = 0
    local use = 1 -- 1-bind 2-unbind 3-gold
    for o = 1, num do
        if use == 1 then
            if bnum ~= 0 then
                bnum = bnum - 1
                bind = true
            else
                use = 2
                bind = false
            end
        end

        if use == 2 then
            if ubnum ~= 0 then
                ubnum = ubnum - 1
            else
                use = 3
            end
        end

        print('use: ' .. use)

        if use == 1 then
            if package:DelItem(needitem, 1, bind) == false then
                break
            end
        elseif use == 2 then
            if package:DelItem(needitem, 1, bind) == false then
                break
            end
        elseif use == 3 then
            player:useGold4LuckDraw(item2point)
        end

        local x = math.random(1,1000000)
        local sz = #item
        for i = 1,sz do
            if x <= item[i][1] then
                local it = item[i][2]
                print(bind)
                package:Add(it, 1, bind, 0, 14)
                table.insert(got, {it, 1})
                point = point + item2point
                money = money + item[i][3]
                break
            end 
        end

        local p = math.random(1,10000)
        local count = player:GetVar(100)
        local sz1 = #pointProb

        player:AddVar(100, 1)
        if isDebug() then
            player:AddVar(5, 1)
        end

        for n = 1,sz1 do
            if count >= pointProb[n][1] and p <= pointProb[n][2] then
                if bind then
                    player:AddVarS(101, point - money)
                else
                    player:AddVarS(99, point - money)
                end

                if isDebug() then
                    player:AddVar(4, money)
                end

                local yapoint = 0
                if bind then
                    yapoint = player:GetVarS(101)
                else
                    yapoint = player:GetVarS(99)
                end

                if yapoint > 0 then
                    if isDebug() then
                        SendMsg(player, 1, "触发时积分: " .. yapoint)
                    end
                    local pp = 0
                    local pos = 0
                    for k = 1, sz do
                        if yapoint <= item[k][3] then
                            if k > 1 then
                                pp = item[k-1][3]
                            end
                            break
                        end
                        pos = pos + 1
                    end

                    if pos == sz then
                        pp = item[pos][3]
                    end

                    if pp ~= 0 then
                        local yaitem = {}
                        for l = 1, sz do
                            if pp == item[l][3] then
                                table.insert(yaitem, item[l][2])
                            end
                        end

                        local yasz = #yaitem
                        if yasz ~= 0 then
                            if yasz == 1 then
                                local it = yaitem[1]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            else
                                local it = yaitem[math.random(1,yasz)]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            end

                            if bind then
                                yapoint = player:SetVar(101, yapoint - pp)
                            else
                                yapoint = player:SetVar(99, yapoint - pp)
                            end
                        end
                    end
                    player:SetVar(100, 0)
                end

                money = 0
                point = 0
                break
            end
        end
    end

    if point ~= 0 then
        if bind then
            player:AddVarS(101, point - money)
        else
            player:AddVarS(99, point - money)
        end
    end

    if isDebug() then
        player:AddVar(4, money)
        SendMsg(player, 1, "次数: " .. player:GetVar(100) .. ", 绑分: " .. player:GetVarS(101) .. ", 非绑分: " .. player:GetVarS(99) .. " 总积分: " .. player:GetVar(4) .. " 总次数: " .. player:GetVar(5))
    end

    return got 
end

