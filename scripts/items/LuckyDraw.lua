
-- 消耗一个物品所得到的积分
local item2point = 10
local item2point2 = 6

-- { 物品概率(累积值), 物品ID, 积分}，对应5个副本
local items = {
    [1] = {
        {20102,548,1},
        {40203,2256,1},
        {60305,2257,1},
        {80406,2258,1},
        {100508,2259,1},
        {120609,2260,1},
        {140711,2261,1},
        {160812,2262,1},
        {180914,2263,1},
        {201015,2264,1},
        {221117,2265,1},
        {241218,2266,1},
        {261320,2267,1},
        {281422,2268,1},
        {301523,2269,1},
        {321625,2270,1},
        {341726,2271,1},
        {361828,2272,1},
        {381929,2273,1},
        {402031,2274,1},
        {422132,2275,1},
        {442234,2276,1},
        {462335,2277,1},
        {482437,2278,1},
        {502539,2279,1},
        {512589,5001,2},
        {522640,5011,2},
        {532691,5021,2},
        {542742,5031,2},
        {552792,5041,2},
        {562843,5051,2},
        {572894,55,2},
        {582945,510,2},
        {592995,51,2},
        {599696,2400,3},
        {606396,2401,3},
        {613097,2402,3},
        {619797,2403,3},
        {626498,2404,3},
        {633199,2405,3},
        {639899,2406,3},
        {646600,2407,3},
        {653300,2408,3},
        {660001,2409,3},
        {666701,2410,3},
        {673402,2411,3},
        {680102,2412,3},
        {686803,2413,3},
        {693503,2414,3},
        {700204,2415,3},
        {706904,2416,3},
        {713605,2417,3},
        {720305,2418,3},
        {727006,2419,3},
        {733706,2420,3},
        {740407,2421,3},
        {747107,2422,3},
        {753808,2423,3},
        {760508,5071,3},
        {767209,5131,3},
        {773909,5061,3},
        {780610,5081,3},
        {787310,5091,3},
        {794011,5101,3},
        {800711,5111,3},
        {807412,5121,3},
        {814112,5141,3},
        {820813,519,3},
        {827513,48,3},
        {832539,400,4},
        {837564,511,4},
        {842590,520,4},
        {847615,518,4},
        {851635,9017,5},
        {855656,9018,5},
        {859676,9019,5},
        {863696,9020,5},
        {867716,9021,5},
        {871067,15,6},
        {874417,504,6},
        {876930,9022,8},
        {879163,506,9},
        {881397,502,9},
        {883630,57,9},
        {885640,33,10},
        {887651,466,10},
        {889661,56,10},
        {891671,500,10},
        {893681,508,10},
        {895691,512,10},
        {897701,514,10},
        {899711,517,10},
        {901722,5003,10},
        {903732,5013,10},
        {905742,5023,10},
        {907752,5033,10},
        {909762,5043,10},
        {911772,5053,10},
        {913783,1061,10},
        {915793,1062,10},
        {917803,1063,10},
        {919813,1064,10},
        {921823,1109,10},
        {923833,1110,10},
        {925843,1111,10},
        {927854,1112,10},
        {929864,1113,10},
        {931874,1114,10},
        {933884,1115,10},
        {935894,1098,10},
        {937904,1099,10},
        {939915,1100,10},
        {941925,1101,10},
        {943935,1102,10},
        {945945,1103,10},
        {947955,1104,10},
        {949965,1105,10},
        {951975,1106,10},
        {953986,49,10},
        {955326,8000,15},
        {956666,547,15},
        {958006,501,15},
        {959346,505,15},
        {960686,513,15},
        {962026,5073,15},
        {963366,5133,15},
        {964371,465,20},
        {965376,503,20},
        {966382,5063,20},
        {967387,5083,20},
        {968392,5093,20},
        {969397,5103,20},
        {970402,5113,20},
        {971407,5123,20},
        {972412,5143,20},
        {973417,50,20},
        {974087,516,30},
        {974590,2544,40},
        {975092,2545,40},
        {975595,2546,40},
        {976097,2547,40},
        {976600,2548,40},
        {977102,2549,40},
        {977605,2550,40},
        {978107,2551,40},
        {978610,2552,40},
        {979113,2553,40},
        {979615,2554,40},
        {980118,2555,40},
        {980620,2556,40},
        {981123,2557,40},
        {981625,2558,40},
        {982128,2559,40},
        {982630,2560,40},
        {983133,2561,40},
        {983635,2562,40},
        {984138,2563,40},
        {984640,2564,40},
        {985143,2565,40},
        {985646,2566,40},
        {986148,2567,40},
        {986550,1505,50},
        {986952,1506,50},
        {987354,1507,50},
        {987756,1508,50},
        {988158,1224,50},
        {988560,1096,50},
        {988962,1107,50},
        {989364,1059,50},
        {989766,6006,50},
        {990168,6009,50},
        {990570,6034,50},
        {990972,6037,50},
        {991374,47,50},
        {991710,1225,60},
        {992045,1222,60},
        {992380,1223,60},
        {992648,507,75},
        {992902,549,79},
        {993153,515,80},
        {993405,1605,80},
        {993656,1615,80},
        {993907,1231,80},
        {994158,1235,80},
        {994410,1229,80},
        {994661,509,80},
        {994862,5005,100},
        {995063,5015,100},
        {995264,5025,100},
        {995465,5035,100},
        {995666,5045,100},
        {995867,5055,100},
        {996068,1604,100},
        {996269,1614,100},
        {996470,1503,100},
        {996671,1238,100},
        {996872,1246,100},
        {997073,1226,100},
        {997274,1243,100},
        {997475,6010,100},
        {997676,6038,100},
        {997859,1233,110},
        {998026,1606,120},
        {998194,1608,120},
        {998328,5075,150},
        {998462,5135,150},
        {998596,1610,150},
        {998730,1603,150},
        {998864,1609,150},
        {998964,5065,200},
        {999065,5085,200},
        {999165,5095,200},
        {999266,5105,200},
        {999366,5115,200},
        {999467,5125,200},
        {999568,5145,200},
        {999659,6007,220},
        {999750,6008,220},
        {999842,6035,220},
        {999933,6036,220},
        {1000000,1504,300},

    },

    [2] = {
        {20385,548,1},
        {40769,2280,1},
        {61154,2281,1},
        {81538,2282,1},
        {101923,2283,1},
        {122307,2284,1},
        {142692,2285,1},
        {163076,2286,1},
        {183461,2287,1},
        {203845,2288,1},
        {224230,2289,1},
        {244614,2290,1},
        {264999,2291,1},
        {285383,2292,1},
        {305768,2293,1},
        {326152,2294,1},
        {346537,2295,1},
        {366921,2296,1},
        {387306,2297,1},
        {407690,2298,1},
        {428075,2299,1},
        {448459,2300,1},
        {468844,2301,1},
        {489228,2302,1},
        {509613,2303,1},
        {519805,5001,2},
        {529998,5011,2},
        {540190,5021,2},
        {550382,5031,2},
        {560574,5041,2},
        {570767,5051,2},
        {580959,55,2},
        {591151,510,2},
        {601343,51,2},
        {608138,2424,3},
        {614933,2425,3},
        {621728,2426,3},
        {628523,2427,3},
        {635318,2428,3},
        {642112,2429,3},
        {648907,2430,3},
        {655702,2431,3},
        {662497,2432,3},
        {669292,2433,3},
        {676087,2434,3},
        {682881,2435,3},
        {689676,2436,3},
        {696471,2437,3},
        {703266,2438,3},
        {710061,2439,3},
        {716856,2440,3},
        {723650,2441,3},
        {730445,2442,3},
        {737240,2443,3},
        {744035,2444,3},
        {750830,2445,3},
        {757625,2446,3},
        {764420,2447,3},
        {771214,5071,3},
        {778009,5131,3},
        {784804,5061,3},
        {791599,5081,3},
        {798394,5091,3},
        {805189,5101,3},
        {811983,5111,3},
        {818778,5121,3},
        {825573,5141,3},
        {832368,519,3},
        {832368,48,3},
        {837464,400,4},
        {842560,511,4},
        {847656,518,4},
        {852752,521,4},
        {856829,9017,5},
        {860906,9018,5},
        {864983,9019,5},
        {869060,9020,5},
        {873137,9021,5},
        {876534,15,6},
        {879932,504,6},
        {882480,9022,8},
        {884745,506,9},
        {887010,502,9},
        {889275,57,9},
        {891313,33,10},
        {893352,466,10},
        {895390,56,10},
        {897429,500,10},
        {899467,508,10},
        {901505,512,10},
        {903544,514,10},
        {905582,517,10},
        {907621,5003,10},
        {909659,5013,10},
        {911698,5023,10},
        {913736,5033,10},
        {915775,5043,10},
        {917813,5053,10},
        {919851,1086,10},
        {921890,1087,10},
        {923928,1088,10},
        {925967,1089,10},
        {928005,1090,10},
        {930044,1091,10},
        {932082,1092,10},
        {934121,1093,10},
        {936159,1094,10},
        {938198,1095,10},
        {940236,1076,10},
        {942274,1077,10},
        {944313,1078,10},
        {946351,1079,10},
        {948390,1080,10},
        {950428,1081,10},
        {952467,1082,10},
        {954505,1083,10},
        {956544,49,10},
        {957903,8000,15},
        {959262,547,15},
        {960621,501,15},
        {961979,505,15},
        {963338,513,15},
        {964697,5073,15},
        {966056,5133,15},
        {967076,465,20},
        {968095,503,20},
        {969114,5063,20},
        {970133,5083,20},
        {971153,5093,20},
        {972172,5103,20},
        {973191,5113,20},
        {974210,5123,20},
        {975229,5143,20},
        {976249,50,20},
        {976928,516,30},
        {977336,2568,50},
        {977744,2569,50},
        {978151,2570,50},
        {978559,2571,50},
        {978967,2572,50},
        {979374,2573,50},
        {979782,2574,50},
        {980190,2575,50},
        {980597,2576,50},
        {981005,2577,50},
        {981413,2578,50},
        {981820,2579,50},
        {982228,2580,50},
        {982636,2581,50},
        {983044,2582,50},
        {983451,2583,50},
        {983859,2584,50},
        {984267,2585,50},
        {984674,2586,50},
        {985082,2587,50},
        {985490,2588,50},
        {985897,2589,50},
        {986305,2590,50},
        {986713,2591,50},
        {987120,1074,50},
        {987528,1084,50},
        {987936,6006,50},
        {988343,6009,50},
        {988751,6034,50},
        {989159,6037,50},
        {989567,47,50},
        {989906,203,60},
        {990246,204,60},
        {990586,205,60},
        {990877,1413,70},
        {991168,1414,70},
        {991459,1415,70},
        {991751,1227,70},
        {992022,507,75},
        {992280,549,79},
        {992535,515,80},
        {992790,200,80},
        {993045,201,80},
        {993300,202,80},
        {993554,509,80},
        {993781,1612,90},
        {993985,5005,100},
        {994189,5015,100},
        {994392,5025,100},
        {994596,5035,100},
        {994800,5045,100},
        {995004,5055,100},
        {995208,1607,100},
        {995412,1509,100},
        {995616,1251,100},
        {995819,1241,100},
        {996023,1242,100},
        {996227,1234,100},
        {996431,6010,100},
        {996635,6038,100},
        {996780,82,140},
        {996926,83,140},
        {997072,84,140},
        {997217,85,140},
        {997353,5075,150},
        {997489,5135,150},
        {997625,1611,150},
        {997761,206,150},
        {997897,207,150},
        {998033,208,150},
        {998168,1230,150},
        {998304,1240,150},
        {998432,86,160},
        {998559,87,160},
        {998687,88,160},
        {998814,89,160},
        {998916,5065,200},
        {999018,5085,200},
        {999120,5095,200},
        {999222,5105,200},
        {999324,5115,200},
        {999426,5125,200},
        {999527,5145,200},
        {999629,1616,200},
        {999722,6007,220},
        {999815,6008,220},
        {999907,6035,220},
        {1000000,6036,220},

    },

    [3] = {
        {20412,548,1},
        {40824,2304,1},
        {61236,2305,1},
        {81648,2306,1},
        {102060,2307,1},
        {122472,2308,1},
        {142884,2309,1},
        {163296,2310,1},
        {183708,2311,1},
        {204120,2312,1},
        {224532,2313,1},
        {244944,2314,1},
        {265356,2315,1},
        {285768,2316,1},
        {306181,2317,1},
        {326593,2318,1},
        {347005,2319,1},
        {367417,2320,1},
        {387829,2321,1},
        {408241,2322,1},
        {428653,2323,1},
        {449065,2324,1},
        {469477,2325,1},
        {489889,2326,1},
        {510301,2327,1},
        {520507,5001,2},
        {530713,5011,2},
        {540919,5021,2},
        {551125,5031,2},
        {561331,5041,2},
        {571537,5051,2},
        {581743,55,2},
        {591949,510,2},
        {602155,51,2},
        {608959,2448,3},
        {615763,2449,3},
        {622567,2450,3},
        {629371,2451,3},
        {636175,2452,3},
        {642979,2453,3},
        {649783,2454,3},
        {656587,2455,3},
        {663391,2456,3},
        {670195,2457,3},
        {676999,2458,3},
        {683803,2459,3},
        {690607,2460,3},
        {697411,2461,3},
        {704215,2462,3},
        {711019,2463,3},
        {717823,2464,3},
        {724627,2465,3},
        {731431,2466,3},
        {738235,2467,3},
        {745039,2468,3},
        {751843,2469,3},
        {758647,2470,3},
        {765451,2471,3},
        {772255,5071,3},
        {779059,5131,3},
        {785863,5061,3},
        {792667,5081,3},
        {799471,5091,3},
        {806275,5101,3},
        {813079,5111,3},
        {819883,5121,3},
        {826687,5141,3},
        {833491,519,3},
        {833491,48,3},
        {838594,400,4},
        {843697,511,4},
        {848800,522,4},
        {853903,518,4},
        {857986,9017,5},
        {862068,9018,5},
        {866151,9019,5},
        {870233,9020,5},
        {874316,9021,5},
        {877718,15,6},
        {881120,504,6},
        {883671,9022,8},
        {885939,506,9},
        {888207,502,9},
        {890475,57,9},
        {892516,33,10},
        {894557,466,10},
        {896599,56,10},
        {898640,500,10},
        {900681,508,10},
        {902722,512,10},
        {904763,514,10},
        {906805,517,10},
        {908846,5003,10},
        {910887,5013,10},
        {912928,5023,10},
        {914969,5033,10},
        {917011,5043,10},
        {919052,5053,10},
        {921093,1067,10},
        {923134,1068,10},
        {925176,1069,10},
        {927217,1070,10},
        {929258,1071,10},
        {931299,1072,10},
        {933340,1073,10},
        {935382,1022,10},
        {937423,1023,10},
        {939464,1024,10},
        {941505,1025,10},
        {943546,1026,10},
        {945588,1027,10},
        {947629,1028,10},
        {949670,1029,10},
        {951711,1030,10},
        {953752,49,10},
        {955113,8000,15},
        {956474,547,15},
        {957835,501,15},
        {959196,505,15},
        {960556,513,15},
        {961917,5073,15},
        {963278,5133,15},
        {964299,465,20},
        {965319,503,20},
        {966340,5063,20},
        {967360,5083,20},
        {968381,5093,20},
        {969402,5103,20},
        {970422,5113,20},
        {971443,5123,20},
        {972463,5143,20},
        {973484,50,20},
        {974164,516,30},
        {974573,2592,50},
        {974981,2593,50},
        {975389,2594,50},
        {975797,2595,50},
        {976206,2596,50},
        {976614,2597,50},
        {977022,2598,50},
        {977430,2599,50},
        {977839,2600,50},
        {978247,2601,50},
        {978655,2602,50},
        {979063,2603,50},
        {979472,2604,50},
        {979880,2605,50},
        {980288,2606,50},
        {980696,2607,50},
        {981104,2608,50},
        {981513,2609,50},
        {981921,2610,50},
        {982329,2611,50},
        {982737,2612,50},
        {983146,2613,50},
        {983554,2614,50},
        {983962,2615,50},
        {984370,1020,50},
        {984779,1065,50},
        {985187,6006,50},
        {985595,6009,50},
        {986003,6034,50},
        {986412,6037,50},
        {986820,47,50},
        {987092,507,75},
        {987350,549,79},
        {987606,515,80},
        {987861,509,80},
        {988065,5005,100},
        {988269,5015,100},
        {988473,5025,100},
        {988677,5035,100},
        {988881,5045,100},
        {989085,5055,100},
        {989290,6010,100},
        {989494,6038,100},
        {989664,1236,120},
        {989834,1237,120},
        {989980,1421,140},
        {990125,1422,140},
        {990271,1423,140},
        {990417,1424,140},
        {990563,1425,140},
        {990709,1426,140},
        {990854,1427,140},
        {991000,1428,140},
        {991146,1429,140},
        {991292,1430,140},
        {991438,1431,140},
        {991583,1432,140},
        {991729,1416,140},
        {991875,1417,140},
        {992021,1418,140},
        {992167,1419,140},
        {992312,1420,140},
        {992449,5075,150},
        {992585,5135,150},
        {992721,91,150},
        {992857,92,150},
        {992993,93,150},
        {993129,94,150},
        {993265,95,150},
        {993401,96,150},
        {993537,1245,150},
        {993665,103,160},
        {993792,104,160},
        {993920,105,160},
        {994047,106,160},
        {994175,107,160},
        {994303,108,160},
        {994430,109,160},
        {994558,110,160},
        {994678,228,170},
        {994798,229,170},
        {994918,230,170},
        {995038,231,170},
        {995158,232,170},
        {995278,233,170},
        {995398,234,170},
        {995518,235,170},
        {995638,236,170},
        {995758,237,170},
        {995879,238,170},
        {995999,239,170},
        {996119,240,170},
        {996239,241,170},
        {996359,242,170},
        {996472,97,180},
        {996586,98,180},
        {996699,99,180},
        {996812,100,180},
        {996926,101,180},
        {997039,102,180},
        {997147,217,190},
        {997254,218,190},
        {997362,219,190},
        {997469,220,190},
        {997576,221,190},
        {997684,222,190},
        {997791,223,190},
        {997899,224,190},
        {998001,5065,200},
        {998103,5085,200},
        {998205,5095,200},
        {998307,5105,200},
        {998409,5115,200},
        {998511,5125,200},
        {998613,5145,200},
        {998715,209,200},
        {998817,210,200},
        {998919,211,200},
        {999021,212,200},
        {999123,213,200},
        {999225,214,200},
        {999328,215,200},
        {999430,216,200},
        {999532,1253,200},
        {999629,1250,210},
        {999722,6007,220},
        {999814,6008,220},
        {999907,6035,220},
        {1000000,6036,220},

    },

    [4] = {
        {20480,548,1},
        {40959,2328,1},
        {61439,2329,1},
        {81918,2330,1},
        {102398,2331,1},
        {122877,2332,1},
        {143357,2333,1},
        {163836,2334,1},
        {184316,2335,1},
        {204795,2336,1},
        {225275,2337,1},
        {245754,2338,1},
        {266234,2339,1},
        {286713,2340,1},
        {307193,2341,1},
        {327672,2342,1},
        {348152,2343,1},
        {368631,2344,1},
        {389111,2345,1},
        {409590,2346,1},
        {430070,2347,1},
        {450549,2348,1},
        {471029,2349,1},
        {491509,2350,1},
        {511988,2351,1},
        {522228,5001,2},
        {532468,5011,2},
        {542707,5021,2},
        {552947,5031,2},
        {563187,5041,2},
        {573427,5051,2},
        {583666,55,2},
        {593906,510,2},
        {604146,51,2},
        {610972,2472,3},
        {617799,2473,3},
        {624625,2474,3},
        {631452,2475,3},
        {638278,2476,3},
        {645105,2477,3},
        {651931,2478,3},
        {658758,2479,3},
        {665584,2480,3},
        {672411,2481,3},
        {679237,2482,3},
        {686064,2483,3},
        {692890,2484,3},
        {699717,2485,3},
        {706544,2486,3},
        {713370,2487,3},
        {720197,2488,3},
        {727023,2489,3},
        {733850,2490,3},
        {740676,2491,3},
        {747503,2492,3},
        {754329,2493,3},
        {761156,2494,3},
        {767982,2495,3},
        {774809,5071,3},
        {781635,5131,3},
        {788462,5061,3},
        {795288,5081,3},
        {802115,5091,3},
        {808941,5101,3},
        {815768,5111,3},
        {822594,5121,3},
        {829421,5141,3},
        {836247,519,3},
        {836247,48,3},
        {841367,400,4},
        {846487,511,4},
        {851607,523,4},
        {856727,518,4},
        {860823,9017,5},
        {864918,9018,5},
        {869014,9019,5},
        {873110,9020,5},
        {877206,9021,5},
        {880619,15,6},
        {884033,504,6},
        {886593,9022,8},
        {888868,506,9},
        {891144,502,9},
        {893419,57,9},
        {895467,33,10},
        {897515,466,10},
        {899563,56,10},
        {901611,500,10},
        {903659,508,10},
        {905707,512,10},
        {907755,514,10},
        {909803,517,10},
        {911851,5003,10},
        {913899,5013,10},
        {915947,5023,10},
        {917995,5033,10},
        {920043,5043,10},
        {922090,5053,10},
        {924138,1042,10},
        {926186,1043,10},
        {928234,1044,10},
        {930282,1045,10},
        {932330,1046,10},
        {934378,1047,10},
        {936426,1048,10},
        {938474,1049,10},
        {940522,1050,10},
        {942570,1051,10},
        {944618,1054,10},
        {946666,1055,10},
        {948714,1056,10},
        {950762,1057,10},
        {952810,1058,10},
        {954858,49,10},
        {956223,8000,15},
        {957588,547,15},
        {958954,501,15},
        {960319,505,15},
        {961684,513,15},
        {963050,5073,15},
        {964415,5133,15},
        {965439,465,20},
        {966463,503,20},
        {967487,5063,20},
        {968511,5083,20},
        {969535,5093,20},
        {970559,5103,20},
        {971583,5113,20},
        {972607,5123,20},
        {973631,5143,20},
        {974655,50,20},
        {975337,516,30},
        {975747,2616,50},
        {976156,2617,50},
        {976566,2618,50},
        {976976,2619,50},
        {977385,2620,50},
        {977795,2621,50},
        {978204,2622,50},
        {978614,2623,50},
        {979024,2624,50},
        {979433,2625,50},
        {979843,2626,50},
        {980252,2627,50},
        {980662,2628,50},
        {981072,2629,50},
        {981481,2630,50},
        {981891,2631,50},
        {982300,2632,50},
        {982710,2633,50},
        {983119,2634,50},
        {983529,2635,50},
        {983939,2636,50},
        {984348,2637,50},
        {984758,2638,50},
        {985167,2639,50},
        {985577,1040,50},
        {985987,1052,50},
        {986396,6006,50},
        {986806,6009,50},
        {987215,6034,50},
        {987625,6037,50},
        {988035,47,50},
        {988308,507,75},
        {988567,549,79},
        {988823,515,80},
        {989079,509,80},
        {989284,5005,100},
        {989488,5015,100},
        {989693,5025,100},
        {989898,5035,100},
        {990103,5045,100},
        {990308,5055,100},
        {990512,6010,100},
        {990717,6038,100},
        {990854,5075,150},
        {990990,5135,150},
        {991127,1247,150},
        {991255,1254,160},
        {991375,1255,170},
        {991489,1249,180},
        {991591,5065,200},
        {991694,5085,200},
        {991796,5095,200},
        {991899,5105,200},
        {992001,5115,200},
        {992103,5125,200},
        {992206,5145,200},
        {992303,243,210},
        {992401,244,210},
        {992498,245,210},
        {992596,246,210},
        {992693,247,210},
        {992791,248,210},
        {992888,249,210},
        {992986,250,210},
        {993083,251,210},
        {993177,261,220},
        {993270,262,220},
        {993363,263,220},
        {993456,264,220},
        {993549,265,220},
        {993642,266,220},
        {993735,267,220},
        {993828,268,220},
        {993921,269,220},
        {994014,6007,220},
        {994107,6008,220},
        {994201,6035,220},
        {994294,6036,220},
        {994383,252,230},
        {994472,253,230},
        {994561,254,230},
        {994650,255,230},
        {994739,256,230},
        {994828,257,230},
        {994917,258,230},
        {995006,259,230},
        {995095,260,230},
        {995184,271,230},
        {995273,272,230},
        {995362,273,230},
        {995451,274,230},
        {995540,275,230},
        {995629,276,230},
        {995718,277,230},
        {995807,278,230},
        {995896,279,230},
        {995985,280,230},
        {996074,281,230},
        {996164,282,230},
        {996253,283,230},
        {996342,284,230},
        {996431,285,230},
        {996520,286,230},
        {996609,287,230},
        {996698,288,230},
        {996787,289,230},
        {996876,290,230},
        {996965,291,230},
        {997054,292,230},
        {997143,293,230},
        {997232,294,230},
        {997321,295,230},
        {997410,296,230},
        {997499,297,230},
        {997584,1440,240},
        {997670,1441,240},
        {997755,1442,240},
        {997840,1443,240},
        {997926,1444,240},
        {998011,1445,240},
        {998096,1446,240},
        {998182,1447,240},
        {998267,1448,240},
        {998352,1449,240},
        {998438,1450,240},
        {998523,1451,240},
        {998608,1452,240},
        {998694,1453,240},
        {998779,1433,240},
        {998864,1434,240},
        {998950,1435,240},
        {999035,1436,240},
        {999120,1437,240},
        {999206,1438,240},
        {999291,1439,240},
        {999370,111,260},
        {999449,112,260},
        {999527,113,260},
        {999606,114,260},
        {999685,115,260},
        {999764,116,260},
        {999842,117,260},
        {999921,118,260},
        {1000000,119,260},

    },

    [5] = {
        {20592,548,1},
        {41184,2352,1},
        {61775,2353,1},
        {82367,2354,1},
        {102959,2355,1},
        {123551,2356,1},
        {144142,2357,1},
        {164734,2358,1},
        {185326,2359,1},
        {205918,2360,1},
        {226510,2361,1},
        {247101,2362,1},
        {267693,2363,1},
        {288285,2364,1},
        {308877,2365,1},
        {329469,2366,1},
        {350060,2367,1},
        {370652,2368,1},
        {391244,2369,1},
        {411836,2370,1},
        {432427,2371,1},
        {453019,2372,1},
        {473611,2373,1},
        {494203,2374,1},
        {514795,2375,1},
        {525090,5001,2},
        {535386,5011,2},
        {545682,5021,2},
        {555978,5031,2},
        {566274,5041,2},
        {576570,5051,2},
        {586866,55,2},
        {597162,510,2},
        {607458,51,2},
        {614322,2496,3},
        {621185,2497,3},
        {628049,2498,3},
        {634913,2499,3},
        {641777,2500,3},
        {648641,2501,3},
        {655505,2502,3},
        {662369,2503,3},
        {669233,2504,3},
        {676097,2505,3},
        {682961,2506,3},
        {689825,2507,3},
        {696689,2508,3},
        {703553,2509,3},
        {710417,2510,3},
        {717280,2511,3},
        {724144,2512,3},
        {731008,2513,3},
        {737872,2514,3},
        {744736,2515,3},
        {751600,2516,3},
        {758464,2517,3},
        {765328,2518,3},
        {772192,2519,3},
        {779056,5071,3},
        {785920,5131,3},
        {792784,5061,3},
        {799648,5081,3},
        {806512,5091,3},
        {813375,5101,3},
        {820239,5111,3},
        {827103,5121,3},
        {833967,5141,3},
        {840831,519,3},
        {840831,48,3},
        {845979,400,4},
        {851127,511,4},
        {856275,524,4},
        {861423,518,4},
        {865541,9017,5},
        {869660,9018,5},
        {873778,9019,5},
        {877896,9020,5},
        {882015,9021,5},
        {885447,15,6},
        {888879,504,6},
        {891453,9022,8},
        {893741,506,9},
        {896029,502,9},
        {898317,57,9},
        {900376,514,10},
        {902435,33,10},
        {904494,466,10},
        {906553,56,10},
        {908612,500,10},
        {910672,508,10},
        {912731,512,10},
        {914790,517,10},
        {916849,5003,10},
        {918908,5013,10},
        {920968,5023,10},
        {923027,5033,10},
        {925086,5043,10},
        {927145,5053,10},
        {929204,1014,10},
        {931263,1015,10},
        {933323,1016,10},
        {935382,1017,10},
        {937441,1018,10},
        {939500,1019,10},
        {941559,1033,10},
        {943619,1034,10},
        {945678,1035,10},
        {947737,1036,10},
        {949796,1037,10},
        {951855,1038,10},
        {953914,1039,10},
        {955974,49,10},
        {957346,8000,15},
        {958719,547,15},
        {960092,501,15},
        {961465,505,15},
        {962838,513,15},
        {964210,5073,15},
        {965583,5133,15},
        {966613,465,20},
        {967642,503,20},
        {968672,5063,20},
        {969701,5083,20},
        {970731,5093,20},
        {971761,5103,20},
        {972790,5113,20},
        {973820,5123,20},
        {974849,5143,20},
        {975879,50,20},
        {976565,516,30},
        {976977,2640,50},
        {977389,2641,50},
        {977801,2642,50},
        {978213,2643,50},
        {978625,2644,50},
        {979036,2645,50},
        {979448,2646,50},
        {979860,2647,50},
        {980272,2648,50},
        {980684,2649,50},
        {981096,2650,50},
        {981507,2651,50},
        {981919,2652,50},
        {982331,2653,50},
        {982743,2654,50},
        {983155,2655,50},
        {983567,2656,50},
        {983978,2657,50},
        {984390,2658,50},
        {984802,2659,50},
        {985214,2660,50},
        {985626,2661,50},
        {986038,2662,50},
        {986449,2663,50},
        {986861,1031,50},
        {987273,1012,50},
        {987685,6006,50},
        {988097,6009,50},
        {988509,6034,50},
        {988920,6037,50},
        {989332,47,50},
        {989607,507,75},
        {989867,549,79},
        {990125,515,80},
        {990382,509,80},
        {990588,5005,100},
        {990794,5015,100},
        {991000,5025,100},
        {991206,5035,100},
        {991412,5045,100},
        {991618,5055,100},
        {991824,6010,100},
        {992030,6038,100},
        {992167,5075,150},
        {992304,5135,150},
        {992407,5065,200},
        {992510,5085,200},
        {992613,5095,200},
        {992716,5105,200},
        {992819,5115,200},
        {992922,5125,200},
        {993025,5145,200},
        {993118,6007,220},
        {993212,6008,220},
        {993306,6035,220},
        {993399,6036,220},
        {993489,1461,230},
        {993578,1462,230},
        {993668,1463,230},
        {993757,1464,230},
        {993847,1465,230},
        {993936,1466,230},
        {994026,1467,230},
        {994112,1468,240},
        {994198,1469,240},
        {994283,1470,240},
        {994369,1471,240},
        {994455,1472,240},
        {994541,1473,240},
        {994627,1474,240},
        {994709,1454,250},
        {994791,1455,250},
        {994874,1456,250},
        {994956,1457,250},
        {995038,1458,250},
        {995121,1459,250},
        {995203,1460,250},
        {995282,6018,260},
        {995362,6019,260},
        {995441,6020,260},
        {995520,6021,260},
        {995599,6022,260},
        {995678,6023,260},
        {995758,6024,260},
        {995837,6011,260},
        {995916,6012,260},
        {995995,6013,260},
        {996074,6014,260},
        {996154,6015,260},
        {996233,6016,260},
        {996312,6017,260},
        {996388,1475,270},
        {996464,1476,270},
        {996541,1477,270},
        {996617,1478,270},
        {996693,1479,270},
        {996770,1480,270},
        {996846,1481,270},
        {996919,120,280},
        {996993,121,280},
        {997066,122,280},
        {997140,123,280},
        {997214,124,280},
        {997287,125,280},
        {997361,126,280},
        {997434,127,280},
        {997508,128,280},
        {997579,299,290},
        {997650,300,290},
        {997721,301,290},
        {997792,302,290},
        {997863,303,290},
        {997934,304,290},
        {998005,305,290},
        {998076,306,290},
        {998147,307,290},
        {998215,1482,300},
        {998284,1483,300},
        {998353,1484,300},
        {998421,1485,300},
        {998490,1486,300},
        {998559,1487,300},
        {998627,1488,300},
        {998696,1489,300},
        {998764,1490,300},
        {998833,1491,300},
        {998902,1492,300},
        {998970,1493,300},
        {999039,1494,300},
        {999108,1495,300},
        {999176,1496,300},
        {999245,1497,300},
        {999314,1498,300},
        {999382,1499,300},
        {999451,6025,300},
        {999520,6026,300},
        {999588,6027,300},
        {999657,6028,300},
        {999725,6029,300},
        {999794,6030,300},
        {999863,6031,300},
        {999931,6032,300},
        {1000000,6033,300},

    },

    [6] = {
        {21094,548,1},
        {42188,4024,1},
        {63282,4025,1},
        {84376,4026,1},
        {105470,4027,1},
        {126564,4028,1},
        {147658,4029,1},
        {168752,4030,1},
        {189846,4031,1},
        {210940,4032,1},
        {232034,4033,1},
        {253128,4034,1},
        {274222,4035,1},
        {295316,4036,1},
        {316411,4037,1},
        {337505,4038,1},
        {358599,4039,1},
        {379693,4040,1},
        {400787,4041,1},
        {421881,4042,1},
        {442975,4043,1},
        {464069,4044,1},
        {485163,4045,1},
        {506257,4046,1},
        {527351,4047,1},
        {537898,5001,2},
        {548445,5011,2},
        {558992,5021,2},
        {569539,5031,2},
        {580086,5041,2},
        {590633,5051,2},
        {601180,55,2},
        {611727,510,2},
        {622274,51,2},
        {629305,5071,3},
        {636337,5131,3},
        {643368,5061,3},
        {650399,5081,3},
        {657431,5091,3},
        {664462,5101,3},
        {671493,5111,3},
        {678525,5121,3},
        {685556,5141,3},
        {692587,519,3},
        {699619,48,3},
        {706650,2520,3},
        {713682,2521,3},
        {720713,2522,3},
        {727744,2523,3},
        {734776,2524,3},
        {741807,2525,3},
        {748838,2526,3},
        {755870,2527,3},
        {762901,2528,3},
        {769932,2529,3},
        {776964,2530,3},
        {783995,2531,3},
        {791026,2532,3},
        {798058,2533,3},
        {805089,2534,3},
        {812120,2535,3},
        {819152,2536,3},
        {826183,2537,3},
        {833214,2538,3},
        {840246,2539,3},
        {847277,2540,3},
        {854308,2541,3},
        {861340,2542,3},
        {868371,2543,3},
        {873645,400,4},
        {878918,511,4},
        {884192,524,4},
        {889465,518,4},
        {893684,9017,5},
        {897903,9018,5},
        {902122,9019,5},
        {906340,9020,5},
        {910559,9021,5},
        {914075,15,6},
        {917591,504,6},
        {920227,9022,8},
        {922571,506,9},
        {924915,502,9},
        {927259,57,9},
        {929368,514,10},
        {931477,33,10},
        {933587,466,10},
        {935696,56,10},
        {937806,500,10},
        {939915,508,10},
        {942024,512,10},
        {944134,517,10},
        {946243,5003,10},
        {948353,5013,10},
        {950462,5023,10},
        {952571,5033,10},
        {954681,5043,10},
        {956790,5053,10},
        {958900,49,10},
        {960306,8000,15},
        {961712,547,15},
        {963119,501,15},
        {964525,505,15},
        {965931,513,15},
        {967337,5073,15},
        {968744,5133,15},
        {969798,465,20},
        {970853,503,20},
        {971908,5063,20},
        {972962,5083,20},
        {974017,5093,20},
        {975072,5103,20},
        {976126,5113,20},
        {977181,5123,20},
        {978236,5143,20},
        {979291,50,20},
        {979994,516,30},
        {980521,2664,40},
        {981048,2665,40},
        {981576,2666,40},
        {982103,2667,40},
        {982630,2668,40},
        {983158,2669,40},
        {983685,2670,40},
        {984213,2671,40},
        {984740,2672,40},
        {985267,2673,40},
        {985795,2674,40},
        {986322,2675,40},
        {986849,2676,40},
        {987377,2677,40},
        {987904,2678,40},
        {988431,2679,40},
        {988959,2680,40},
        {989486,2681,40},
        {990013,2682,40},
        {990541,2683,40},
        {991068,2684,40},
        {991595,2685,40},
        {992123,2686,40},
        {992650,2687,40},
        {993072,6006,50},
        {993494,6009,50},
        {993916,6034,50},
        {994338,6037,50},
        {994760,47,50},
        {995041,507,75},
        {995308,549,79},
        {995571,515,80},
        {995835,509,80},
        {996046,5005,100},
        {996257,5015,100},
        {996468,5025,100},
        {996679,5035,100},
        {996890,5045,100},
        {997101,5055,100},
        {997312,6010,100},
        {997523,6038,100},
        {997663,5075,150},
        {997804,5135,150},
        {997909,5065,200},
        {998015,5085,200},
        {998120,5095,200},
        {998226,5105,200},
        {998331,5115,200},
        {998437,5125,200},
        {998542,5145,200},
        {998638,6007,220},
        {998734,6008,220},
        {998830,6035,220},
        {998926,6036,220},
        {999004,6039,270},
        {999082,6040,270},
        {999160,6041,270},
        {999238,6042,270},
        {999316,6043,270},
        {999395,6044,270},
        {999473,6045,270},
        {999548,6046,280},
        {999623,6047,280},
        {999699,6048,280},
        {999774,6049,280},
        {999849,6050,280},
        {999925,6051,280},
        {1000000,6052,280},

    },

}

-- 触发积分概率 { 次数, 概率 },
local pointProb = {
         {100,1350},
         {99,1340},
         {98,1330},
         {97,1320},
         {96,1310},
         {95,1300},
         {94,1290},
         {93,1280},
         {92,1270},
         {91,1260},
         {90,1250},
         {89,1240},
         {88,1230},
         {87,1220},
         {86,1210},
         {85,1200},
         {84,1190},
         {83,1180},
         {82,1170},
         {81,1160},
         {80,1150},
         {79,1140},
         {78,1130},
         {77,1120},
         {76,1110},
         {75,1100},
         {74,1090},
         {73,1080},
         {72,1070},
         {71,1060},
         {70,1050},
         {69,1040},
         {68,1030},
         {67,1020},
         {66,1010},
         {65,1000},
         {64,990},
         {63,980},
         {62,970},
         {61,960},
         {60,950},
         {59,940},
         {58,930},
         {57,920},
         {56,910},
         {55,900},
         {54,890},
         {53,880},
         {52,870},
         {51,860},
         {50,850},
         {49,840},
         {48,830},
         {47,820},
         {46,810},
         {45,800},
         {44,790},
         {43,780},
         {42,770},
         {41,760},
         {40,750},
         {39,740},
         {38,730},
         {37,720},
         {36,710},
         {35,700},
         {34,690},
         {33,680},
         {32,670},
         {31,660},
         {30,650},
         {29,640},
         {28,630},
         {27,620},
         {26,610},
         {25,600},
         {24,590},
         {23,580},
         {22,570},
         {21,560},
         {20,550},
         {19,540},
         {18,530},
         {17,520},
         {16,510},
         {15,500},
         {14,490},
         {13,480},
         {12,470},
         {11,460},
         {10,450},
         {9,440},
         {8,430},
         {7,420},
         {6,410},
         {5,400},
         {4,0},
         {3,0},
         {2,0},
         {1,0},
}

-- 副本对应消耗物品
local copyitem = {
    [1] = 9012,
    [2] = 9013,
    [3] = 9014,
    [4] = 9015,
    [5] = 9016,
    [6] = 9035,
}

function luckyDraw(player, id, num, bind)
    local got = {}

    local needitem = copyitem[id]
    if needitem == nil then
        return got 
    end 

    local package = player:GetPackage()
    local bnum = package:GetItemNum(needitem, true)
    local ubnum = package:GetItemNum(needitem, false)
    local gold = player:getGold()

    if (bnum + ubnum + gold/10) < num then
        player:sendMsgCode(2, 1076, 0)
        return got 
    end

    if package:GetRestPackageSize() < num * 1.5 then
        player:sendMsgCode(2, 1011, 0)
        return got 
    end

    local item = items[id]
    if item == nil then
        return got
    end 

    print('num: ' .. num .. ' gold: ' .. gold)
    local money = 0
    local point = 0
    local use = 1 -- 1-bind 2-unbind 3-gold
    for o = 1, num do
        if use == 1 then
            if bnum ~= 0 then
                bnum = bnum - 1
                bind = true
            else
                use = 2
                bind = false
            end
        end

        if use == 2 then
            if ubnum ~= 0 then
                ubnum = ubnum - 1
            else
                use = 3
            end
        end

        print('use: ' .. use)

        if use == 1 then
            if package:DelItem(needitem, 1, bind) == false then
                break
            end
        elseif use == 2 then
            if package:DelItem(needitem, 1, bind) == false then
                break
            end
        elseif use == 3 then
            player:useGold4LuckDraw(item2point)
        end

        local x = math.random(1,1000000)
        local sz = #item
        for i = 1,sz do
            if x <= item[i][1] then
                local it = item[i][2]
                print(bind)
                package:Add(it, 1, bind, 0, 14)
                table.insert(got, {it, 1})
                if bind then
                    point = point + item2point2
                else
                    point = point + item2point
                end
                money = money + item[i][3]
                break
            end 
        end

        local p = math.random(1,10000)
        local count = player:GetVar(100)
        local sz1 = #pointProb

        player:AddVar(100, 1)
        if isDebug() then
            player:AddVar(5, 1)
        end

        for n = 1,sz1 do
            if count >= pointProb[n][1] and p <= pointProb[n][2] then
                if bind then
                    player:AddVarS(101, point - money)
                else
                    player:AddVarS(99, point - money)
                end

                if isDebug() then
                    player:AddVar(4, money)
                end

                local yapoint = 0
                if bind then
                    yapoint = player:GetVarS(101)
                else
                    yapoint = player:GetVarS(99)
                end

                if yapoint > 0 then
                    if isDebug() then
                        SendMsg(player, 1, "触发时积分: " .. yapoint)
                    end
                    local pp = 0
                    local pos = 0
                    for k = 1, sz do
                        if yapoint <= item[k][3] then
                            if k > 1 then
                                pp = item[k-1][3]
                            end
                            break
                        end
                        pos = pos + 1
                    end

                    if pos == sz then
                        pp = item[pos][3]
                    end

                    if pp ~= 0 then
                        local yaitem = {}
                        for l = 1, sz do
                            if pp == item[l][3] then
                                table.insert(yaitem, item[l][2])
                            end
                        end

                        local yasz = #yaitem
                        if yasz ~= 0 then
                            if yasz == 1 then
                                local it = yaitem[1]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            else
                                local it = yaitem[math.random(1,yasz)]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            end

                            if bind then
                                yapoint = player:SetVar(101, yapoint - pp)
                            else
                                yapoint = player:SetVar(99, yapoint - pp)
                            end
                        end
                    end
                    player:SetVar(100, 0)
                end

                money = 0
                point = 0
                break
            end
        end
    end

    if point ~= 0 then
        if bind then
            player:AddVarS(101, point - money)
        else
            player:AddVarS(99, point - money)
        end
    end

    if isDebug() then
        player:AddVar(4, money)
        SendMsg(player, 1, "次数: " .. player:GetVar(100) .. ", 绑分: " .. player:GetVarS(101) .. ", 非绑分: " .. player:GetVarS(99) .. " 总积分: " .. player:GetVar(4) .. " 总次数: " .. player:GetVar(5))
    end

    return got 
end

