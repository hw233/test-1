
-- 消耗一个物品所得到的积分
local item2point = 10
local item2point2 = 6
local copylvl = {45,60,70,80,90,100}

-- { 物品概率(累积值), 物品ID, 积分}，对应5个副本
local items = {
    [1] = {
        {20182,548,1},
        {40365,2256,1},
        {60547,2257,1},
        {80729,2258,1},
        {100911,2259,1},
        {121094,2260,1},
        {141276,2261,1},
        {161458,2262,1},
        {181640,2263,1},
        {201823,2264,1},
        {222005,2265,1},
        {242187,2266,1},
        {262369,2267,1},
        {282552,2268,1},
        {302734,2269,1},
        {322916,2270,1},
        {343099,2271,1},
        {363281,2272,1},
        {383463,2273,1},
        {403645,2274,1},
        {423828,2275,1},
        {444010,2276,1},
        {464192,2277,1},
        {484374,2278,1},
        {504557,2279,1},
        {514648,5001,2},
        {524739,5011,2},
        {534830,5021,2},
        {544921,5031,2},
        {555012,5041,2},
        {565103,5051,2},
        {575195,55,2},
        {585286,510,2},
        {595377,51,2},
        {602104,2400,3},
        {608832,2401,3},
        {615559,2402,3},
        {622287,2403,3},
        {629014,2404,3},
        {635741,2405,3},
        {642469,2406,3},
        {649196,2407,3},
        {655924,2408,3},
        {662651,2409,3},
        {669378,2410,3},
        {676106,2411,3},
        {682833,2412,3},
        {689561,2413,3},
        {696288,2414,3},
        {703016,2415,3},
        {709743,2416,3},
        {716470,2417,3},
        {723198,2418,3},
        {729925,2419,3},
        {736653,2420,3},
        {743380,2421,3},
        {750108,2422,3},
        {756835,2423,3},
        {763562,5071,3},
        {770290,5131,3},
        {777017,5061,3},
        {783745,5081,3},
        {790472,5091,3},
        {797200,5101,3},
        {803927,5111,3},
        {810654,5121,3},
        {817382,5141,3},
        {824109,519,3},
        {830837,48,3},
        {835882,400,4},
        {840928,511,4},
        {845973,520,4},
        {851019,518,4},
        {854383,15,6},
        {857746,504,6},
        {859989,506,9},
        {862231,502,9},
        {864474,57,9},
        {866492,9020,10},
        {868510,9069,10},
        {870528,33,10},
        {872547,466,10},
        {874565,56,10},
        {876583,500,10},
        {878601,508,10},
        {880620,512,10},
        {882638,514,10},
        {884656,517,10},
        {886674,5003,10},
        {888692,5013,10},
        {890711,5023,10},
        {892729,5033,10},
        {894747,5043,10},
        {896765,5053,10},
        {898784,1061,10},
        {900802,1062,10},
        {902820,1063,10},
        {904838,1064,10},
        {906856,1109,10},
        {908875,1110,10},
        {910893,1111,10},
        {912911,1112,10},
        {914929,1113,10},
        {916948,1114,10},
        {918966,1115,10},
        {920984,1098,10},
        {923002,1099,10},
        {925021,1100,10},
        {927039,1101,10},
        {929057,1102,10},
        {931075,1103,10},
        {933093,1104,10},
        {935112,1105,10},
        {937130,1106,10},
        {939148,49,10},
        {940983,9018,11},
        {942665,9017,12},
        {944347,9019,12},
        {945899,9021,13},
        {947245,9068,15},
        {948590,8000,15},
        {949936,547,15},
        {951281,501,15},
        {952626,505,15},
        {953972,513,15},
        {955317,5073,15},
        {956663,5133,15},
        {957784,9075,18},
        {958846,9022,19},
        {959856,465,20},
        {960865,503,20},
        {961874,5063,20},
        {962883,5083,20},
        {963892,5093,20},
        {964901,5103,20},
        {965910,5113,20},
        {966919,5123,20},
        {967928,5143,20},
        {968938,50,20},
        {969610,9070,30},
        {970283,9071,30},
        {970956,9072,30},
        {971628,9073,30},
        {972301,9074,30},
        {972974,516,30},
        {973479,2544,40},
        {973983,2545,40},
        {974488,2546,40},
        {974992,2547,40},
        {975497,2548,40},
        {976001,2549,40},
        {976506,2550,40},
        {977010,2551,40},
        {977515,2552,40},
        {978020,2553,40},
        {978524,2554,40},
        {979029,2555,40},
        {979533,2556,40},
        {980038,2557,40},
        {980542,2558,40},
        {981047,2559,40},
        {981551,2560,40},
        {982056,2561,40},
        {982561,2562,40},
        {983065,2563,40},
        {983570,2564,40},
        {984074,2565,40},
        {984579,2566,40},
        {985083,2567,40},
        {985487,1505,50},
        {985891,1506,50},
        {986294,1507,50},
        {986698,1508,50},
        {987102,1224,50},
        {987505,1096,50},
        {987909,1107,50},
        {988312,1059,50},
        {988716,6006,50},
        {989120,6009,50},
        {989523,6034,50},
        {989927,6037,50},
        {990331,47,50},
        {990667,1225,60},
        {991003,1222,60},
        {991340,1223,60},
        {991609,507,75},
        {991864,549,79},
        {992117,515,80},
        {992369,1605,80},
        {992621,1615,80},
        {992874,1231,80},
        {993126,1235,80},
        {993378,1229,80},
        {993630,509,80},
        {993832,5005,100},
        {994034,5015,100},
        {994236,5025,100},
        {994438,5035,100},
        {994639,5045,100},
        {994841,5055,100},
        {995043,1604,100},
        {995245,1614,100},
        {995447,1503,100},
        {995649,1238,100},
        {995850,1246,100},
        {996052,1226,100},
        {996254,1243,100},
        {996456,6010,100},
        {996658,6038,100},
        {996860,1308,100},
        {997061,1311,100},
        {997263,1306,100},
        {997465,1310,100},
        {997667,1315,100},
        {997850,1233,110},
        {998018,1606,120},
        {998187,1608,120},
        {998321,5075,150},
        {998456,5135,150},
        {998590,1610,150},
        {998725,1603,150},
        {998859,1609,150},
        {998960,5065,200},
        {999061,5085,200},
        {999162,5095,200},
        {999263,5105,200},
        {999364,5115,200},
        {999465,5125,200},
        {999566,5145,200},
        {999658,6007,220},
        {999749,6008,220},
        {999841,6035,220},
        {999933,6036,220},
        {1000000,1504,300},

    },

    [2] = {
        {20322,548,1},
        {40644,2280,1},
        {60966,2281,1},
        {81289,2282,1},
        {101611,2283,1},
        {121933,2284,1},
        {142255,2285,1},
        {162577,2286,1},
        {182899,2287,1},
        {203222,2288,1},
        {223544,2289,1},
        {243866,2290,1},
        {264188,2291,1},
        {284510,2292,1},
        {304832,2293,1},
        {325155,2294,1},
        {345477,2295,1},
        {365799,2296,1},
        {386121,2297,1},
        {406443,2298,1},
        {426765,2299,1},
        {447087,2300,1},
        {467410,2301,1},
        {487732,2302,1},
        {508054,2303,1},
        {518215,5001,2},
        {528376,5011,2},
        {538537,5021,2},
        {548698,5031,2},
        {558859,5041,2},
        {569020,5051,2},
        {579181,55,2},
        {589343,510,2},
        {599504,51,2},
        {606278,2424,3},
        {613052,2425,3},
        {619826,2426,3},
        {626600,2427,3},
        {633374,2428,3},
        {640148,2429,3},
        {646922,2430,3},
        {653696,2431,3},
        {660470,2432,3},
        {667244,2433,3},
        {674018,2434,3},
        {680792,2435,3},
        {687566,2436,3},
        {694340,2437,3},
        {701114,2438,3},
        {707888,2439,3},
        {714663,2440,3},
        {721437,2441,3},
        {728211,2442,3},
        {734985,2443,3},
        {741759,2444,3},
        {748533,2445,3},
        {755307,2446,3},
        {762081,2447,3},
        {768855,5071,3},
        {775629,5131,3},
        {782403,5061,3},
        {789177,5081,3},
        {795951,5091,3},
        {802725,5101,3},
        {809499,5111,3},
        {816273,5121,3},
        {823047,5141,3},
        {829821,519,3},
        {836595,48,3},
        {841676,400,4},
        {846757,511,4},
        {851837,518,4},
        {856918,521,4},
        {860305,15,6},
        {863692,504,6},
        {865950,506,9},
        {868208,502,9},
        {870466,57,9},
        {872498,9020,10},
        {874530,9069,10},
        {876562,33,10},
        {878595,466,10},
        {880627,56,10},
        {882659,500,10},
        {884691,508,10},
        {886723,512,10},
        {888756,514,10},
        {890788,517,10},
        {892820,5003,10},
        {894852,5013,10},
        {896885,5023,10},
        {898917,5033,10},
        {900949,5043,10},
        {902981,5053,10},
        {905013,1086,10},
        {907046,1087,10},
        {909078,1088,10},
        {911110,1089,10},
        {913142,1090,10},
        {915174,1091,10},
        {917207,1092,10},
        {919239,1093,10},
        {921271,1094,10},
        {923303,1095,10},
        {925336,1076,10},
        {927368,1077,10},
        {929400,1078,10},
        {931432,1079,10},
        {933464,1080,10},
        {935497,1081,10},
        {937529,1082,10},
        {939561,1083,10},
        {941593,49,10},
        {943441,9018,11},
        {945134,9017,12},
        {946828,9019,12},
        {948391,9021,13},
        {949746,9068,15},
        {951101,8000,15},
        {952455,547,15},
        {953810,501,15},
        {955165,505,15},
        {956520,513,15},
        {957875,5073,15},
        {959229,5133,15},
        {960359,9075,18},
        {961428,9022,19},
        {962444,465,20},
        {963460,503,20},
        {964476,5063,20},
        {965493,5083,20},
        {966509,5093,20},
        {967525,5103,20},
        {968541,5113,20},
        {969557,5123,20},
        {970573,5143,20},
        {971589,50,20},
        {972267,9070,30},
        {972944,9071,30},
        {973621,9072,30},
        {974299,9073,30},
        {974976,9074,30},
        {975654,516,30},
        {976060,2568,50},
        {976466,2569,50},
        {976873,2570,50},
        {977279,2571,50},
        {977686,2572,50},
        {978092,2573,50},
        {978499,2574,50},
        {978905,2575,50},
        {979312,2576,50},
        {979718,2577,50},
        {980124,2578,50},
        {980531,2579,50},
        {980937,2580,50},
        {981344,2581,50},
        {981750,2582,50},
        {982157,2583,50},
        {982563,2584,50},
        {982970,2585,50},
        {983376,2586,50},
        {983782,2587,50},
        {984189,2588,50},
        {984595,2589,50},
        {985002,2590,50},
        {985408,2591,50},
        {985815,1074,50},
        {986221,1084,50},
        {986628,6006,50},
        {987034,6009,50},
        {987440,6034,50},
        {987847,6037,50},
        {988253,47,50},
        {988592,203,60},
        {988931,204,60},
        {989269,205,60},
        {989560,1413,70},
        {989850,1414,70},
        {990140,1415,70},
        {990431,1227,70},
        {990721,6053,70},
        {991011,6053,70},
        {991302,6053,70},
        {991573,507,75},
        {991830,549,79},
        {992084,515,80},
        {992338,200,80},
        {992592,201,80},
        {992846,202,80},
        {993100,509,80},
        {993326,1612,90},
        {993529,5005,100},
        {993732,5015,100},
        {993935,5025,100},
        {994139,5035,100},
        {994342,5045,100},
        {994545,5055,100},
        {994748,1607,100},
        {994952,1509,100},
        {995155,1251,100},
        {995358,1241,100},
        {995561,1242,100},
        {995764,1234,100},
        {995968,6010,100},
        {996171,6038,100},
        {996374,1317,100},
        {996519,82,140},
        {996664,83,140},
        {996810,84,140},
        {996955,85,140},
        {997090,5075,150},
        {997226,5135,150},
        {997361,1611,150},
        {997497,206,150},
        {997632,207,150},
        {997768,208,150},
        {997903,1230,150},
        {998039,1240,150},
        {998174,1307,150},
        {998310,1313,150},
        {998437,86,160},
        {998564,87,160},
        {998691,88,160},
        {998818,89,160},
        {998919,5065,200},
        {999021,5085,200},
        {999122,5095,200},
        {999224,5105,200},
        {999326,5115,200},
        {999427,5125,200},
        {999529,5145,200},
        {999631,1616,200},
        {999723,6007,220},
        {999815,6008,220},
        {999908,6035,220},
        {1000000,6036,220},

    },

    [3] = {
        {20327,548,1},
        {40653,2304,1},
        {60980,2305,1},
        {81307,2306,1},
        {101633,2307,1},
        {121960,2308,1},
        {142287,2309,1},
        {162613,2310,1},
        {182940,2311,1},
        {203267,2312,1},
        {223593,2313,1},
        {243920,2314,1},
        {264247,2315,1},
        {284573,2316,1},
        {304900,2317,1},
        {325226,2318,1},
        {345553,2319,1},
        {365880,2320,1},
        {386206,2321,1},
        {406533,2322,1},
        {426860,2323,1},
        {447186,2324,1},
        {467513,2325,1},
        {487840,2326,1},
        {508166,2327,1},
        {518330,5001,2},
        {528493,5011,2},
        {538656,5021,2},
        {548820,5031,2},
        {558983,5041,2},
        {569146,5051,2},
        {579310,55,2},
        {589473,510,2},
        {599636,51,2},
        {606412,2448,3},
        {613187,2449,3},
        {619963,2450,3},
        {626739,2451,3},
        {633514,2452,3},
        {640290,2453,3},
        {647065,2454,3},
        {653841,2455,3},
        {660616,2456,3},
        {667392,2457,3},
        {674167,2458,3},
        {680943,2459,3},
        {687719,2460,3},
        {694494,2461,3},
        {701270,2462,3},
        {708045,2463,3},
        {714821,2464,3},
        {721596,2465,3},
        {728372,2466,3},
        {735147,2467,3},
        {741923,2468,3},
        {748698,2469,3},
        {755474,2470,3},
        {762250,2471,3},
        {769025,5071,3},
        {775801,5131,3},
        {782576,5061,3},
        {789352,5081,3},
        {796127,5091,3},
        {802903,5101,3},
        {809678,5111,3},
        {816454,5121,3},
        {823230,5141,3},
        {830005,519,3},
        {836781,48,3},
        {841862,400,4},
        {846944,511,4},
        {852026,522,4},
        {857107,518,4},
        {860495,15,6},
        {863883,504,6},
        {866141,506,9},
        {868400,502,9},
        {870658,57,9},
        {872691,9020,10},
        {874724,9069,10},
        {876756,33,10},
        {878789,466,10},
        {880822,56,10},
        {882854,500,10},
        {884887,508,10},
        {886920,512,10},
        {888952,514,10},
        {890985,517,10},
        {893018,5003,10},
        {895050,5013,10},
        {897083,5023,10},
        {899116,5033,10},
        {901148,5043,10},
        {903181,5053,10},
        {905214,1067,10},
        {907246,1068,10},
        {909279,1069,10},
        {911312,1070,10},
        {913344,1071,10},
        {915377,1072,10},
        {917410,1073,10},
        {919442,1022,10},
        {921475,1023,10},
        {923508,1024,10},
        {925540,1025,10},
        {927573,1026,10},
        {929606,1027,10},
        {931638,1028,10},
        {933671,1029,10},
        {935704,1030,10},
        {937736,49,10},
        {939584,9018,11},
        {941278,9017,12},
        {942972,9019,12},
        {944536,9021,13},
        {945891,9068,15},
        {947246,8000,15},
        {948601,547,15},
        {949956,501,15},
        {951311,505,15},
        {952666,513,15},
        {954021,5073,15},
        {955376,5133,15},
        {956506,9075,18},
        {957576,9022,19},
        {958592,465,20},
        {959608,503,20},
        {960625,5063,20},
        {961641,5083,20},
        {962657,5093,20},
        {963674,5103,20},
        {964690,5113,20},
        {965706,5123,20},
        {966723,5143,20},
        {967739,50,20},
        {968416,9070,30},
        {969094,9071,30},
        {969772,9072,30},
        {970449,9073,30},
        {971127,9074,30},
        {971804,516,30},
        {972211,2592,50},
        {972617,2593,50},
        {973024,2594,50},
        {973430,2595,50},
        {973837,2596,50},
        {974243,2597,50},
        {974650,2598,50},
        {975056,2599,50},
        {975463,2600,50},
        {975870,2601,50},
        {976276,2602,50},
        {976683,2603,50},
        {977089,2604,50},
        {977496,2605,50},
        {977902,2606,50},
        {978309,2607,50},
        {978715,2608,50},
        {979122,2609,50},
        {979528,2610,50},
        {979935,2611,50},
        {980341,2612,50},
        {980748,2613,50},
        {981154,2614,50},
        {981561,2615,50},
        {981968,1020,50},
        {982374,1065,50},
        {982781,6006,50},
        {983187,6009,50},
        {983594,6034,50},
        {984000,6037,50},
        {984407,47,50},
        {984678,507,75},
        {984935,549,79},
        {985189,515,80},
        {985443,509,80},
        {985647,5005,100},
        {985850,5015,100},
        {986053,5025,100},
        {986256,5035,100},
        {986460,5045,100},
        {986663,5055,100},
        {986866,6010,100},
        {987069,6038,100},
        {987239,1236,120},
        {987408,1237,120},
        {987553,1421,140},
        {987699,1422,140},
        {987844,1423,140},
        {987989,1424,140},
        {988134,1425,140},
        {988279,1426,140},
        {988424,1427,140},
        {988570,1428,140},
        {988715,1429,140},
        {988860,1430,140},
        {989005,1431,140},
        {989150,1432,140},
        {989296,1416,140},
        {989441,1417,140},
        {989586,1418,140},
        {989731,1419,140},
        {989876,1420,140},
        {990022,6061,140},
        {990167,6061,140},
        {990312,6061,140},
        {990457,6061,140},
        {990602,6061,140},
        {990748,6061,140},
        {990893,6067,140},
        {991038,6067,140},
        {991183,6067,140},
        {991328,6067,140},
        {991473,6067,140},
        {991619,6067,140},
        {991764,6056,140},
        {991909,6056,140},
        {992054,6056,140},
        {992199,6056,140},
        {992345,6056,140},
        {992480,5075,150},
        {992616,5135,150},
        {992751,91,150},
        {992887,92,150},
        {993022,93,150},
        {993158,94,150},
        {993293,95,150},
        {993429,96,150},
        {993564,1245,150},
        {993691,103,160},
        {993818,104,160},
        {993945,105,160},
        {994072,106,160},
        {994199,107,160},
        {994326,108,160},
        {994454,109,160},
        {994581,110,160},
        {994700,228,170},
        {994820,229,170},
        {994939,230,170},
        {995059,231,170},
        {995178,232,170},
        {995298,233,170},
        {995418,234,170},
        {995537,235,170},
        {995657,236,170},
        {995776,237,170},
        {995896,238,170},
        {996015,239,170},
        {996135,240,170},
        {996255,241,170},
        {996374,242,170},
        {996487,97,180},
        {996600,98,180},
        {996713,99,180},
        {996826,100,180},
        {996939,101,180},
        {997052,102,180},
        {997159,217,190},
        {997266,218,190},
        {997373,219,190},
        {997480,220,190},
        {997587,221,190},
        {997694,222,190},
        {997801,223,190},
        {997907,224,190},
        {998009,5065,200},
        {998111,5085,200},
        {998212,5095,200},
        {998314,5105,200},
        {998416,5115,200},
        {998517,5125,200},
        {998619,5145,200},
        {998721,209,200},
        {998822,210,200},
        {998924,211,200},
        {999025,212,200},
        {999127,213,200},
        {999229,214,200},
        {999330,215,200},
        {999432,216,200},
        {999534,1253,200},
        {999630,1250,210},
        {999723,6007,220},
        {999815,6008,220},
        {999908,6035,220},
        {1000000,6036,220},

    },

    [4] = {
        {20408,548,1},
        {40815,2328,1},
        {61223,2329,1},
        {81631,2330,1},
        {102038,2331,1},
        {122446,2332,1},
        {142854,2333,1},
        {163262,2334,1},
        {183669,2335,1},
        {204077,2336,1},
        {224485,2337,1},
        {244892,2338,1},
        {265300,2339,1},
        {285708,2340,1},
        {306115,2341,1},
        {326523,2342,1},
        {346931,2343,1},
        {367339,2344,1},
        {387746,2345,1},
        {408154,2346,1},
        {428562,2347,1},
        {448969,2348,1},
        {469377,2349,1},
        {489785,2350,1},
        {510192,2351,1},
        {520396,5001,2},
        {530600,5011,2},
        {540804,5021,2},
        {551008,5031,2},
        {561212,5041,2},
        {571416,5051,2},
        {581619,55,2},
        {591823,510,2},
        {602027,51,2},
        {608830,2472,3},
        {615632,2473,3},
        {622435,2474,3},
        {629237,2475,3},
        {636040,2476,3},
        {642842,2477,3},
        {649645,2478,3},
        {656448,2479,3},
        {663250,2480,3},
        {670053,2481,3},
        {676855,2482,3},
        {683658,2483,3},
        {690460,2484,3},
        {697263,2485,3},
        {704066,2486,3},
        {710868,2487,3},
        {717671,2488,3},
        {724473,2489,3},
        {731276,2490,3},
        {738078,2491,3},
        {744881,2492,3},
        {751684,2493,3},
        {758486,2494,3},
        {765289,2495,3},
        {772091,5071,3},
        {778894,5131,3},
        {785696,5061,3},
        {792499,5081,3},
        {799302,5091,3},
        {806104,5101,3},
        {812907,5111,3},
        {819709,5121,3},
        {826512,5141,3},
        {833314,519,3},
        {840117,48,3},
        {845219,400,4},
        {850321,511,4},
        {855423,523,4},
        {860525,518,4},
        {863926,15,6},
        {867327,504,6},
        {869595,506,9},
        {871862,502,9},
        {874130,57,9},
        {876170,9020,10},
        {878211,9069,10},
        {880252,33,10},
        {882293,466,10},
        {884334,56,10},
        {886374,500,10},
        {888415,508,10},
        {890456,512,10},
        {892497,514,10},
        {894537,517,10},
        {896578,5003,10},
        {898619,5013,10},
        {900660,5023,10},
        {902701,5033,10},
        {904741,5043,10},
        {906782,5053,10},
        {908823,1042,10},
        {910864,1043,10},
        {912904,1044,10},
        {914945,1045,10},
        {916986,1046,10},
        {919027,1047,10},
        {921067,1048,10},
        {923108,1049,10},
        {925149,1050,10},
        {927190,1051,10},
        {929231,1054,10},
        {931271,1055,10},
        {933312,1056,10},
        {935353,1057,10},
        {937394,1058,10},
        {939434,49,10},
        {941290,9018,11},
        {942990,9017,12},
        {944691,9019,12},
        {946261,9021,13},
        {947621,9068,15},
        {948982,8000,15},
        {950342,547,15},
        {951703,501,15},
        {953063,505,15},
        {954424,513,15},
        {955784,5073,15},
        {957145,5133,15},
        {958279,9075,18},
        {959353,9022,19},
        {960373,465,20},
        {961393,503,20},
        {962414,5063,20},
        {963434,5083,20},
        {964455,5093,20},
        {965475,5103,20},
        {966495,5113,20},
        {967516,5123,20},
        {968536,5143,20},
        {969557,50,20},
        {970237,9070,30},
        {970917,9071,30},
        {971597,9072,30},
        {972278,9073,30},
        {972958,9074,30},
        {973638,516,30},
        {974046,2616,50},
        {974454,2617,50},
        {974863,2618,50},
        {975271,2619,50},
        {975679,2620,50},
        {976087,2621,50},
        {976495,2622,50},
        {976903,2623,50},
        {977311,2624,50},
        {977720,2625,50},
        {978128,2626,50},
        {978536,2627,50},
        {978944,2628,50},
        {979352,2629,50},
        {979760,2630,50},
        {980169,2631,50},
        {980577,2632,50},
        {980985,2633,50},
        {981393,2634,50},
        {981801,2635,50},
        {982209,2636,50},
        {982617,2637,50},
        {983026,2638,50},
        {983434,2639,50},
        {983842,1040,50},
        {984250,1052,50},
        {984658,6006,50},
        {985066,6009,50},
        {985475,6034,50},
        {985883,6037,50},
        {986291,47,50},
        {986563,507,75},
        {986821,549,79},
        {987076,515,80},
        {987331,509,80},
        {987536,5005,100},
        {987740,5015,100},
        {987944,5025,100},
        {988148,5035,100},
        {988352,5045,100},
        {988556,5055,100},
        {988760,6010,100},
        {988964,6038,100},
        {989100,5075,150},
        {989236,5135,150},
        {989372,1247,150},
        {989500,1254,160},
        {989620,1255,170},
        {989733,1249,180},
        {989835,5065,200},
        {989937,5085,200},
        {990039,5095,200},
        {990141,5105,200},
        {990243,5115,200},
        {990345,5125,200},
        {990447,5145,200},
        {990545,243,210},
        {990642,244,210},
        {990739,245,210},
        {990836,246,210},
        {990933,247,210},
        {991031,248,210},
        {991128,249,210},
        {991225,250,210},
        {991322,251,210},
        {991415,261,220},
        {991508,262,220},
        {991600,263,220},
        {991693,264,220},
        {991786,265,220},
        {991879,266,220},
        {991971,267,220},
        {992064,268,220},
        {992157,269,220},
        {992250,6007,220},
        {992342,6008,220},
        {992435,6035,220},
        {992528,6036,220},
        {992617,252,230},
        {992705,253,230},
        {992794,254,230},
        {992883,255,230},
        {992972,256,230},
        {993060,257,230},
        {993149,258,230},
        {993238,259,230},
        {993327,260,230},
        {993415,271,230},
        {993504,272,230},
        {993593,273,230},
        {993681,274,230},
        {993770,275,230},
        {993859,276,230},
        {993948,277,230},
        {994036,278,230},
        {994125,279,230},
        {994214,280,230},
        {994303,281,230},
        {994391,282,230},
        {994480,283,230},
        {994569,284,230},
        {994657,285,230},
        {994746,286,230},
        {994835,287,230},
        {994924,288,230},
        {995012,289,230},
        {995101,290,230},
        {995190,291,230},
        {995279,292,230},
        {995367,293,230},
        {995456,294,230},
        {995545,295,230},
        {995634,296,230},
        {995722,297,230},
        {995807,1440,240},
        {995892,1441,240},
        {995977,1442,240},
        {996062,1443,240},
        {996147,1444,240},
        {996232,1445,240},
        {996317,1446,240},
        {996402,1447,240},
        {996488,1448,240},
        {996573,1449,240},
        {996658,1450,240},
        {996743,1451,240},
        {996828,1452,240},
        {996913,1453,240},
        {996998,1433,240},
        {997083,1434,240},
        {997168,1435,240},
        {997253,1436,240},
        {997338,1437,240},
        {997423,1438,240},
        {997508,1439,240},
        {997593,6080,240},
        {997678,6080,240},
        {997763,6080,240},
        {997848,6080,240},
        {997933,6080,240},
        {998018,6080,240},
        {998103,6080,240},
        {998188,6087,240},
        {998273,6087,240},
        {998358,6087,240},
        {998443,6087,240},
        {998528,6087,240},
        {998613,6087,240},
        {998698,6087,240},
        {998783,6073,240},
        {998868,6073,240},
        {998953,6073,240},
        {999038,6073,240},
        {999124,6073,240},
        {999209,6073,240},
        {999294,6073,240},
        {999372,111,260},
        {999451,112,260},
        {999529,113,260},
        {999608,114,260},
        {999686,115,260},
        {999765,116,260},
        {999843,117,260},
        {999922,118,260},
        {1000000,119,260},

    },

    [5] = {
        {20518,548,1},
        {41036,2352,1},
        {61554,2353,1},
        {82072,2354,1},
        {102591,2355,1},
        {123109,2356,1},
        {143627,2357,1},
        {164145,2358,1},
        {184663,2359,1},
        {205181,2360,1},
        {225699,2361,1},
        {246217,2362,1},
        {266736,2363,1},
        {287254,2364,1},
        {307772,2365,1},
        {328290,2366,1},
        {348808,2367,1},
        {369326,2368,1},
        {389844,2369,1},
        {410362,2370,1},
        {430881,2371,1},
        {451399,2372,1},
        {471917,2373,1},
        {492435,2374,1},
        {512953,2375,1},
        {523212,5001,2},
        {533471,5011,2},
        {543730,5021,2},
        {553989,5031,2},
        {564248,5041,2},
        {574507,5051,2},
        {584766,55,2},
        {595025,510,2},
        {605285,51,2},
        {612124,2496,3},
        {618963,2497,3},
        {625803,2498,3},
        {632642,2499,3},
        {639481,2500,3},
        {646321,2501,3},
        {653160,2502,3},
        {660000,2503,3},
        {666839,2504,3},
        {673678,2505,3},
        {680518,2506,3},
        {687357,2507,3},
        {694196,2508,3},
        {701036,2509,3},
        {707875,2510,3},
        {714714,2511,3},
        {721554,2512,3},
        {728393,2513,3},
        {735233,2514,3},
        {742072,2515,3},
        {748911,2516,3},
        {755751,2517,3},
        {762590,2518,3},
        {769429,2519,3},
        {776269,5071,3},
        {783108,5131,3},
        {789948,5061,3},
        {796787,5081,3},
        {803626,5091,3},
        {810466,5101,3},
        {817305,5111,3},
        {824144,5121,3},
        {830984,5141,3},
        {837823,519,3},
        {844663,48,3},
        {849792,400,4},
        {854922,511,4},
        {860051,524,4},
        {865181,518,4},
        {868600,15,6},
        {872020,504,6},
        {874300,506,9},
        {876580,502,9},
        {878859,57,9},
        {880911,9020,10},
        {882963,9069,10},
        {885015,514,10},
        {887067,33,10},
        {889119,466,10},
        {891170,56,10},
        {893222,500,10},
        {895274,508,10},
        {897326,512,10},
        {899378,517,10},
        {901429,5003,10},
        {903481,5013,10},
        {905533,5023,10},
        {907585,5033,10},
        {909637,5043,10},
        {911688,5053,10},
        {913740,1014,10},
        {915792,1015,10},
        {917844,1016,10},
        {919896,1017,10},
        {921947,1018,10},
        {923999,1019,10},
        {926051,1033,10},
        {928103,1034,10},
        {930155,1035,10},
        {932207,1036,10},
        {934258,1037,10},
        {936310,1038,10},
        {938362,1039,10},
        {940414,49,10},
        {942279,9018,11},
        {943989,9017,12},
        {945699,9019,12},
        {947277,9021,13},
        {948645,9068,15},
        {950013,8000,15},
        {951381,547,15},
        {952749,501,15},
        {954116,505,15},
        {955484,513,15},
        {956852,5073,15},
        {958220,5133,15},
        {959360,9075,18},
        {960440,9022,19},
        {961466,465,20},
        {962492,503,20},
        {963518,5063,20},
        {964544,5083,20},
        {965569,5093,20},
        {966595,5103,20},
        {967621,5113,20},
        {968647,5123,20},
        {969673,5143,20},
        {970699,50,20},
        {971383,9070,30},
        {972067,9071,30},
        {972751,9072,30},
        {973435,9073,30},
        {974119,9074,30},
        {974803,516,30},
        {975213,2640,50},
        {975623,2641,50},
        {976034,2642,50},
        {976444,2643,50},
        {976854,2644,50},
        {977265,2645,50},
        {977675,2646,50},
        {978085,2647,50},
        {978496,2648,50},
        {978906,2649,50},
        {979317,2650,50},
        {979727,2651,50},
        {980137,2652,50},
        {980548,2653,50},
        {980958,2654,50},
        {981368,2655,50},
        {981779,2656,50},
        {982189,2657,50},
        {982599,2658,50},
        {983010,2659,50},
        {983420,2660,50},
        {983831,2661,50},
        {984241,2662,50},
        {984651,2663,50},
        {985062,1031,50},
        {985472,1012,50},
        {985882,6006,50},
        {986293,6009,50},
        {986703,6034,50},
        {987113,6037,50},
        {987524,47,50},
        {987797,507,75},
        {988057,549,79},
        {988314,515,80},
        {988570,509,80},
        {988775,5005,100},
        {988980,5015,100},
        {989186,5025,100},
        {989391,5035,100},
        {989596,5045,100},
        {989801,5055,100},
        {990006,6010,100},
        {990212,6038,100},
        {990348,5075,150},
        {990485,5135,150},
        {990588,5065,200},
        {990690,5085,200},
        {990793,5095,200},
        {990895,5105,200},
        {990998,5115,200},
        {991101,5125,200},
        {991203,5145,200},
        {991296,6007,220},
        {991390,6008,220},
        {991483,6035,220},
        {991576,6036,220},
        {991665,1461,230},
        {991755,1462,230},
        {991844,1463,230},
        {991933,1464,230},
        {992022,1465,230},
        {992112,1466,230},
        {992201,1467,230},
        {992286,1468,240},
        {992372,1469,240},
        {992457,1470,240},
        {992543,1471,240},
        {992628,1472,240},
        {992714,1473,240},
        {992799,1474,240},
        {992881,1454,250},
        {992963,1455,250},
        {993045,1456,250},
        {993127,1457,250},
        {993210,1458,250},
        {993292,1459,250},
        {993374,1460,250},
        {993453,6018,260},
        {993532,6019,260},
        {993610,6020,260},
        {993689,6021,260},
        {993768,6022,260},
        {993847,6023,260},
        {993926,6024,260},
        {994005,6011,260},
        {994084,6012,260},
        {994163,6013,260},
        {994242,6014,260},
        {994321,6015,260},
        {994400,6016,260},
        {994479,6017,260},
        {994555,1475,270},
        {994630,1476,270},
        {994706,1477,270},
        {994782,1478,270},
        {994858,1479,270},
        {994934,1480,270},
        {995010,1481,270},
        {995084,120,280},
        {995157,121,280},
        {995230,122,280},
        {995304,123,280},
        {995377,124,280},
        {995450,125,280},
        {995523,126,280},
        {995597,127,280},
        {995670,128,280},
        {995741,299,290},
        {995811,300,290},
        {995882,301,290},
        {995953,302,290},
        {996024,303,290},
        {996094,304,290},
        {996165,305,290},
        {996236,306,290},
        {996307,307,290},
        {996375,1482,300},
        {996444,1483,300},
        {996512,1484,300},
        {996580,1485,300},
        {996649,1486,300},
        {996717,1487,300},
        {996785,1488,300},
        {996854,1489,300},
        {996922,1490,300},
        {996991,1491,300},
        {997059,1492,300},
        {997127,1493,300},
        {997196,1494,300},
        {997264,1495,300},
        {997333,1496,300},
        {997401,1497,300},
        {997469,1498,300},
        {997538,1499,300},
        {997606,6025,300},
        {997675,6026,300},
        {997743,6027,300},
        {997811,6028,300},
        {997880,6029,300},
        {997948,6030,300},
        {998017,6031,300},
        {998085,6032,300},
        {998153,6033,300},
        {998222,6094,300},
        {998290,6094,300},
        {998359,6094,300},
        {998427,6094,300},
        {998495,6094,300},
        {998564,6094,300},
        {998632,6094,300},
        {998701,6094,300},
        {998769,6094,300},
        {998837,6112,300},
        {998906,6112,300},
        {998974,6112,300},
        {999042,6112,300},
        {999111,6112,300},
        {999179,6112,300},
        {999248,6112,300},
        {999316,6112,300},
        {999384,6112,300},
        {999453,6103,300},
        {999521,6103,300},
        {999590,6103,300},
        {999658,6103,300},
        {999726,6103,300},
        {999795,6103,300},
        {999863,6103,300},
        {999932,6103,300},
        {1000000,6103,300},

    },

    [6] = {
        {21205,548,1},
        {42411,4024,1},
        {63616,4025,1},
        {84822,4026,1},
        {106027,4027,1},
        {127232,4028,1},
        {148438,4029,1},
        {169643,4030,1},
        {190849,4031,1},
        {212054,4032,1},
        {233259,4033,1},
        {254465,4034,1},
        {275670,4035,1},
        {296876,4036,1},
        {318081,4037,1},
        {339287,4038,1},
        {360492,4039,1},
        {381697,4040,1},
        {402903,4041,1},
        {424108,4042,1},
        {445314,4043,1},
        {466519,4044,1},
        {487724,4045,1},
        {508930,4046,1},
        {530135,4047,1},
        {540738,5001,2},
        {551341,5011,2},
        {561943,5021,2},
        {572546,5031,2},
        {583149,5041,2},
        {593751,5051,2},
        {604354,55,2},
        {614957,510,2},
        {625559,51,2},
        {632628,5071,3},
        {639696,5131,3},
        {646765,5061,3},
        {653833,5081,3},
        {660902,5091,3},
        {667970,5101,3},
        {675039,5111,3},
        {682107,5121,3},
        {689176,5141,3},
        {696244,519,3},
        {703313,48,3},
        {710381,2520,3},
        {717450,2521,3},
        {724518,2522,3},
        {731587,2523,3},
        {738655,2524,3},
        {745723,2525,3},
        {752792,2526,3},
        {759860,2527,3},
        {766929,2528,3},
        {773997,2529,3},
        {781066,2530,3},
        {788134,2531,3},
        {795203,2532,3},
        {802271,2533,3},
        {809340,2534,3},
        {816408,2535,3},
        {823477,2536,3},
        {830545,2537,3},
        {837614,2538,3},
        {844682,2539,3},
        {851750,2540,3},
        {858819,2541,3},
        {865887,2542,3},
        {872956,2543,3},
        {878257,400,4},
        {883559,511,4},
        {888860,524,4},
        {894161,518,4},
        {897696,15,6},
        {901230,504,6},
        {903586,506,9},
        {905942,502,9},
        {908298,57,9},
        {910419,9020,10},
        {912539,9069,10},
        {914660,514,10},
        {916780,33,10},
        {918901,466,10},
        {921021,56,10},
        {923142,500,10},
        {925263,508,10},
        {927383,512,10},
        {929504,517,10},
        {931624,5003,10},
        {933745,5013,10},
        {935865,5023,10},
        {937986,5033,10},
        {940106,5043,10},
        {942227,5053,10},
        {944347,49,10},
        {946275,9018,11},
        {948042,9017,12},
        {949809,9019,12},
        {951441,9021,13},
        {952854,9068,15},
        {954268,8000,15},
        {955682,547,15},
        {957095,501,15},
        {958509,505,15},
        {959923,513,15},
        {961336,5073,15},
        {962750,5133,15},
        {963928,9075,18},
        {965044,9022,19},
        {966105,465,20},
        {967165,503,20},
        {968225,5063,20},
        {969285,5083,20},
        {970346,5093,20},
        {971406,5103,20},
        {972466,5113,20},
        {973526,5123,20},
        {974587,5143,20},
        {975647,50,20},
        {976354,9070,30},
        {977061,9071,30},
        {977768,9072,30},
        {978474,9073,30},
        {979181,9074,30},
        {979888,516,30},
        {980418,2664,40},
        {980948,2665,40},
        {981479,2666,40},
        {982009,2667,40},
        {982539,2668,40},
        {983069,2669,40},
        {983599,2670,40},
        {984129,2671,40},
        {984659,2672,40},
        {985189,2673,40},
        {985720,2674,40},
        {986250,2675,40},
        {986780,2676,40},
        {987310,2677,40},
        {987840,2678,40},
        {988370,2679,40},
        {988900,2680,40},
        {989431,2681,40},
        {989961,2682,40},
        {990491,2683,40},
        {991021,2684,40},
        {991551,2685,40},
        {992081,2686,40},
        {992611,2687,40},
        {993035,6006,50},
        {993460,6009,50},
        {993884,6034,50},
        {994308,6037,50},
        {994732,47,50},
        {995015,507,75},
        {995283,549,79},
        {995548,515,80},
        {995813,509,80},
        {996025,5005,100},
        {996237,5015,100},
        {996449,5025,100},
        {996661,5035,100},
        {996873,5045,100},
        {997086,5055,100},
        {997298,6010,100},
        {997510,6038,100},
        {997651,5075,150},
        {997792,5135,150},
        {997898,5065,200},
        {998004,5085,200},
        {998110,5095,200},
        {998216,5105,200},
        {998322,5115,200},
        {998429,5125,200},
        {998535,5145,200},
        {998631,6007,220},
        {998727,6008,220},
        {998824,6035,220},
        {998920,6036,220},
        {998999,6039,270},
        {999077,6040,270},
        {999156,6041,270},
        {999234,6042,270},
        {999313,6043,270},
        {999391,6044,270},
        {999470,6045,270},
        {999546,6046,280},
        {999621,6047,280},
        {999697,6048,280},
        {999773,6049,280},
        {999849,6050,280},
        {999924,6051,280},
        {1000000,6052,280},

    },

}

-- 触发积分概率 { 次数, 概率 },
local pointProb = {
         {100,1350},
         {99,1340},
         {98,1330},
         {97,1320},
         {96,1310},
         {95,1300},
         {94,1290},
         {93,1280},
         {92,1270},
         {91,1260},
         {90,1250},
         {89,1240},
         {88,1230},
         {87,1220},
         {86,1210},
         {85,1200},
         {84,1190},
         {83,1180},
         {82,1170},
         {81,1160},
         {80,1150},
         {79,1140},
         {78,1130},
         {77,1120},
         {76,1110},
         {75,1100},
         {74,1090},
         {73,1080},
         {72,1070},
         {71,1060},
         {70,1050},
         {69,1040},
         {68,1030},
         {67,1020},
         {66,1010},
         {65,1000},
         {64,990},
         {63,980},
         {62,970},
         {61,960},
         {60,950},
         {59,940},
         {58,930},
         {57,920},
         {56,910},
         {55,900},
         {54,890},
         {53,880},
         {52,870},
         {51,860},
         {50,850},
         {49,840},
         {48,830},
         {47,820},
         {46,810},
         {45,800},
         {44,790},
         {43,780},
         {42,770},
         {41,760},
         {40,750},
         {39,740},
         {38,730},
         {37,720},
         {36,710},
         {35,700},
         {34,690},
         {33,680},
         {32,670},
         {31,660},
         {30,650},
         {29,640},
         {28,630},
         {27,620},
         {26,610},
         {25,600},
         {24,590},
         {23,580},
         {22,570},
         {21,560},
         {20,550},
         {19,540},
         {18,530},
         {17,520},
         {16,510},
         {15,500},
         {14,490},
         {13,480},
         {12,470},
         {11,460},
         {10,450},
         {9,440},
         {8,430},
         {7,420},
         {6,410},
         {5,400},
         {4,0},
         {3,0},
         {2,0},
         {1,0},
}

-- 副本对应消耗物品
local copyitem = {
    [1] = 9012,
    [2] = 9013,
    [3] = 9014,
    [4] = 9015,
    [5] = 9016,
    [6] = 9035,
}

function luckyDraw(player, id, num, bind)
    local got = {}

    local needitem = copyitem[id]
    if needitem == nil then
        return got 
    end 

    local lvl = player:GetLev()
    local item2gold = 10

    local package = player:GetPackage()
    local bnum = package:GetItemNum(needitem, true)
    local ubnum = package:GetItemNum(needitem, false)

    if (bnum + ubnum) < num then
        player:sendMsgCode(2, 1076, 0)
        return got 
    end

    if package:GetRestPackageSize() < num * 1.5 then
        player:sendMsgCode(2, 1011, 0)
        return got 
    end

    local item = items[id]
    if item == nil then
        return got
    end 

    local money = 0
    local point = 0
    local use = 1 -- 1-bind 2-unbind
    for o = 1, num do
        if use == 1 then
            if bnum ~= 0 then
                bnum = bnum - 1
                bind = true
            else
                use = 2
                bind = false
            end
        end

        if use == 2 then
            if ubnum ~= 0 then
                ubnum = ubnum - 1
            else
                break
            end
        end

        print('use: ' .. use)

        if use == 1 then
            if package:DelItem(needitem, 1, bind) == false then
                break
            end
        elseif use == 2 then
            if package:DelItem(needitem, 1, bind) == false then
                break
            end
        else
            break
        end

        local x = math.random(1,1000000)
        local sz = #item
        for i = 1,sz do
            if x <= item[i][1] then
                local it = item[i][2]
                print(bind)
                package:Add(it, 1, bind, 0, 14)
                table.insert(got, {it, 1})
                if bind then
                    point = point + item2point2
                else
                    point = point + item2point
                end
                money = money + item[i][3]
                break
            end 
        end

        local p = math.random(1,10000)
        local count = player:GetVar(100)
        local sz1 = #pointProb

        player:AddVar(100, 1)
        if isDebug() then
            player:AddVar(5, 1)
        end

        for n = 1,sz1 do
            if count >= pointProb[n][1] and p <= pointProb[n][2] then
                if bind then
                    player:AddVarS(101, point - money)
                else
                    player:AddVarS(99, point - money)
                end

                if isDebug() then
                    player:AddVar(4, money)
                end

                local yapoint = 0
                if bind then
                    yapoint = player:GetVarS(101)
                else
                    yapoint = player:GetVarS(99)
                end

                if yapoint > 0 then
                    if isDebug() then
                        SendMsg(player, 1, "触发时积分: " .. yapoint)
                    end
                    local pp = 0
                    local pos = 0
                    for k = 1, sz do
                        if yapoint <= item[k][3] then
                            if k > 1 then
                                pp = item[k-1][3]
                            end
                            break
                        end
                        pos = pos + 1
                    end

                    if pos == sz then
                        pp = item[pos][3]
                    end

                    if pp ~= 0 then
                        local yaitem = {}
                        for l = 1, sz do
                            if pp == item[l][3] then
                                table.insert(yaitem, item[l][2])
                            end
                        end

                        local yasz = #yaitem
                        if yasz ~= 0 then
                            if yasz == 1 then
                                local it = yaitem[1]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            else
                                local it = yaitem[math.random(1,yasz)]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            end

                            if bind then
                                yapoint = player:SetVar(101, yapoint - pp)
                            else
                                yapoint = player:SetVar(99, yapoint - pp)
                            end
                        end
                    end
                    player:SetVar(100, 0)
                end

                money = 0
                point = 0
                break
            end
        end
    end

    if point ~= 0 then
        if bind then
            player:AddVarS(101, point - money)
        else
            player:AddVarS(99, point - money)
        end
    end

    if isDebug() then
        player:AddVar(4, money)
        SendMsg(player, 1, "次数: " .. player:GetVar(100) .. ", 绑分: " .. player:GetVarS(101) .. ", 非绑分: " .. player:GetVarS(99) .. " 总积分: " .. player:GetVar(4) .. " 总次数: " .. player:GetVar(5))
    end

    return got 
end

