
-- 消耗一个物品所得到的积分
local item2point = 10
local item2point2 = 6
local copylvl = {45,60,70,80,90,100}

-- { 物品概率(累积值), 物品ID, 积分}，对应5个副本
local items = {
    [1] = {
        {39141,548,1},
        {58712,5001,2},
        {78283,5011,2},
        {97853,5021,2},
        {117424,5031,2},
        {136995,5041,2},
        {156565,5051,2},
        {176136,55,2},
        {195707,510,2},
        {215277,51,2},
        {228324,2400,3},
        {241371,2401,3},
        {254419,2402,3},
        {267466,2403,3},
        {280513,2404,3},
        {293560,2405,3},
        {306607,2406,3},
        {319654,2407,3},
        {332701,2408,3},
        {345748,2409,3},
        {358795,2410,3},
        {371843,2411,3},
        {384890,2412,3},
        {397937,2413,3},
        {410984,2414,3},
        {424031,2415,3},
        {437078,2416,3},
        {450125,2417,3},
        {463172,2418,3},
        {476219,2419,3},
        {489266,2420,3},
        {502314,2421,3},
        {515361,2422,3},
        {528408,2423,3},
        {541455,5071,3},
        {554502,5131,3},
        {567549,5061,3},
        {580596,5081,3},
        {593643,5091,3},
        {606690,5101,3},
        {619738,5111,3},
        {632785,5121,3},
        {645832,5141,3},
        {658879,519,3},
        {671926,48,3},
        {681711,400,4},
        {691497,511,4},
        {701282,520,4},
        {711067,518,4},
        {717591,15,6},
        {724114,504,6},
        {728463,506,9},
        {732812,502,9},
        {737161,57,9},
        {741076,9020,10},
        {744990,9069,10},
        {748904,33,10},
        {752818,466,10},
        {756732,56,10},
        {760646,500,10},
        {764560,508,10},
        {768475,512,10},
        {772389,514,10},
        {776303,517,10},
        {780217,5003,10},
        {784131,5013,10},
        {788045,5023,10},
        {791959,5033,10},
        {795873,5043,10},
        {799788,5053,10},
        {803702,1061,10},
        {807616,1062,10},
        {811530,1063,10},
        {815444,1064,10},
        {819358,1109,10},
        {823272,1110,10},
        {827187,1111,10},
        {831101,1112,10},
        {835015,1113,10},
        {838929,1114,10},
        {842843,1115,10},
        {846757,1098,10},
        {850671,1099,10},
        {854585,1100,10},
        {858500,1101,10},
        {862414,1102,10},
        {866328,1103,10},
        {870242,1104,10},
        {874156,1105,10},
        {878070,1106,10},
        {881984,49,10},
        {885543,9018,11},
        {888804,9017,12},
        {892066,9019,12},
        {895077,9021,13},
        {897686,9068,15},
        {900296,8000,15},
        {902905,547,15},
        {905515,501,15},
        {908124,505,15},
        {910734,513,15},
        {913343,5073,15},
        {915952,5133,15},
        {918127,9075,18},
        {920187,9022,19},
        {922144,465,20},
        {924101,503,20},
        {926058,5063,20},
        {928015,5083,20},
        {929972,5093,20},
        {931929,5103,20},
        {933886,5113,20},
        {935844,5123,20},
        {937801,5143,20},
        {939758,50,20},
        {941062,9070,30},
        {942367,9071,30},
        {943672,9072,30},
        {944977,9073,30},
        {946281,9074,30},
        {947586,516,30},
        {948564,2544,40},
        {949543,2545,40},
        {950522,2546,40},
        {951500,2547,40},
        {952479,2548,40},
        {953457,2549,40},
        {954436,2550,40},
        {955414,2551,40},
        {956393,2552,40},
        {957371,2553,40},
        {958350,2554,40},
        {959328,2555,40},
        {960307,2556,40},
        {961285,2557,40},
        {962264,2558,40},
        {963242,2559,40},
        {964221,2560,40},
        {965200,2561,40},
        {966178,2562,40},
        {967157,2563,40},
        {968135,2564,40},
        {969114,2565,40},
        {970092,2566,40},
        {971071,2567,40},
        {971854,1505,50},
        {972636,1506,50},
        {973419,1507,50},
        {974202,1508,50},
        {974985,1224,50},
        {975768,1096,50},
        {976551,1107,50},
        {977333,1059,50},
        {978116,6006,50},
        {978899,6009,50},
        {979682,6034,50},
        {980465,6037,50},
        {981247,47,50},
        {981900,1225,60},
        {982552,1222,60},
        {983205,1223,60},
        {983726,507,75},
        {984222,549,79},
        {984711,515,80},
        {985200,1605,80},
        {985690,1615,80},
        {986179,1231,80},
        {986668,1235,80},
        {987157,1229,80},
        {987647,509,80},
        {988038,5005,100},
        {988430,5015,100},
        {988821,5025,100},
        {989212,5035,100},
        {989604,5045,100},
        {989995,5055,100},
        {990387,1604,100},
        {990778,1614,100},
        {991169,1503,100},
        {991561,1238,100},
        {991952,1246,100},
        {992344,1226,100},
        {992735,1243,100},
        {993127,6010,100},
        {993518,6038,100},
        {993909,1308,100},
        {994301,1311,100},
        {994692,1306,100},
        {995084,1310,100},
        {995475,1315,100},
        {995831,1233,110},
        {996157,1606,120},
        {996483,1608,120},
        {996744,5075,150},
        {997005,5135,150},
        {997266,1610,150},
        {997527,1603,150},
        {997788,1609,150},
        {997984,5065,200},
        {998179,5085,200},
        {998375,5095,200},
        {998571,5105,200},
        {998766,5115,200},
        {998962,5125,200},
        {999158,5145,200},
        {999336,6007,220},
        {999514,6008,220},
        {999692,6035,220},
        {999870,6036,220},
        {1000000,1504,300},

    },

    [2] = {
        {39671,548,1},
        {59506,5001,2},
        {79342,5011,2},
        {99177,5021,2},
        {119013,5031,2},
        {138848,5041,2},
        {158684,5051,2},
        {178519,55,2},
        {198355,510,2},
        {218190,51,2},
        {231414,2424,3},
        {244637,2425,3},
        {257861,2426,3},
        {271085,2427,3},
        {284308,2428,3},
        {297532,2429,3},
        {310756,2430,3},
        {323979,2431,3},
        {337203,2432,3},
        {350427,2433,3},
        {363650,2434,3},
        {376874,2435,3},
        {390097,2436,3},
        {403321,2437,3},
        {416545,2438,3},
        {429768,2439,3},
        {442992,2440,3},
        {456216,2441,3},
        {469439,2442,3},
        {482663,2443,3},
        {495887,2444,3},
        {509110,2445,3},
        {522334,2446,3},
        {535558,2447,3},
        {548781,5071,3},
        {562005,5131,3},
        {575228,5061,3},
        {588452,5081,3},
        {601676,5091,3},
        {614899,5101,3},
        {628123,5111,3},
        {641347,5121,3},
        {654570,5141,3},
        {667794,519,3},
        {681018,48,3},
        {690935,400,4},
        {700853,511,4},
        {710771,518,4},
        {720689,521,4},
        {727300,15,6},
        {733912,504,6},
        {738320,506,9},
        {742728,502,9},
        {747136,57,9},
        {751103,9020,10},
        {755070,9069,10},
        {759037,33,10},
        {763004,466,10},
        {766971,56,10},
        {770938,500,10},
        {774905,508,10},
        {778873,512,10},
        {782840,514,10},
        {786807,517,10},
        {790774,5003,10},
        {794741,5013,10},
        {798708,5023,10},
        {802675,5033,10},
        {806642,5043,10},
        {810609,5053,10},
        {814576,1086,10},
        {818544,1087,10},
        {822511,1088,10},
        {826478,1089,10},
        {830445,1090,10},
        {834412,1091,10},
        {838379,1092,10},
        {842346,1093,10},
        {846313,1094,10},
        {850280,1095,10},
        {854247,1076,10},
        {858214,1077,10},
        {862182,1078,10},
        {866149,1079,10},
        {870116,1080,10},
        {874083,1081,10},
        {878050,1082,10},
        {882017,1083,10},
        {885984,49,10},
        {889591,9018,11},
        {892896,9017,12},
        {896202,9019,12},
        {899254,9021,13},
        {901899,9068,15},
        {904543,8000,15},
        {907188,547,15},
        {909833,501,15},
        {912478,505,15},
        {915122,513,15},
        {917767,5073,15},
        {920412,5133,15},
        {922616,9075,18},
        {924704,9022,19},
        {926687,465,20},
        {928671,503,20},
        {930654,5063,20},
        {932638,5083,20},
        {934621,5093,20},
        {936605,5103,20},
        {938589,5113,20},
        {940572,5123,20},
        {942556,5143,20},
        {944539,50,20},
        {945862,9070,30},
        {947184,9071,30},
        {948506,9072,30},
        {949829,9073,30},
        {951151,9074,30},
        {952473,516,30},
        {953267,2568,50},
        {954060,2569,50},
        {954854,2570,50},
        {955647,2571,50},
        {956440,2572,50},
        {957234,2573,50},
        {958027,2574,50},
        {958821,2575,50},
        {959614,2576,50},
        {960408,2577,50},
        {961201,2578,50},
        {961994,2579,50},
        {962788,2580,50},
        {963581,2581,50},
        {964375,2582,50},
        {965168,2583,50},
        {965961,2584,50},
        {966755,2585,50},
        {967548,2586,50},
        {968342,2587,50},
        {969135,2588,50},
        {969929,2589,50},
        {970722,2590,50},
        {971515,2591,50},
        {972309,1074,50},
        {973102,1084,50},
        {973896,6006,50},
        {974689,6009,50},
        {975482,6034,50},
        {976276,6037,50},
        {977069,47,50},
        {977730,203,60},
        {978392,204,60},
        {979053,205,60},
        {979620,1413,70},
        {980186,1414,70},
        {980753,1415,70},
        {981320,1227,70},
        {981886,6053,70},
        {982453,6053,70},
        {983020,6053,70},
        {983549,507,75},
        {984051,549,79},
        {984547,515,80},
        {985043,200,80},
        {985539,201,80},
        {986035,202,80},
        {986530,509,80},
        {986971,1612,90},
        {987368,5005,100},
        {987765,5015,100},
        {988161,5025,100},
        {988558,5035,100},
        {988955,5045,100},
        {989352,5055,100},
        {989748,1607,100},
        {990145,1509,100},
        {990542,1251,100},
        {990938,1241,100},
        {991335,1242,100},
        {991732,1234,100},
        {992128,6010,100},
        {992525,6038,100},
        {992922,1317,100},
        {993205,82,140},
        {993489,83,140},
        {993772,84,140},
        {994055,85,140},
        {994320,5075,150},
        {994584,5135,150},
        {994849,1611,150},
        {995113,206,150},
        {995378,207,150},
        {995642,208,150},
        {995907,1230,150},
        {996171,1240,150},
        {996436,1307,150},
        {996700,1313,150},
        {996948,86,160},
        {997196,87,160},
        {997444,88,160},
        {997692,89,160},
        {997890,5065,200},
        {998089,5085,200},
        {998287,5095,200},
        {998485,5105,200},
        {998684,5115,200},
        {998882,5125,200},
        {999080,5145,200},
        {999279,1616,200},
        {999459,6007,220},
        {999639,6008,220},
        {999820,6035,220},
        {1000000,6036,220},

    },

    [3] = {
        {39381,548,1},
        {59072,5001,2},
        {78763,5011,2},
        {98454,5021,2},
        {118144,5031,2},
        {137835,5041,2},
        {157526,5051,2},
        {177216,55,2},
        {196907,510,2},
        {216598,51,2},
        {229725,2448,3},
        {242852,2449,3},
        {255979,2450,3},
        {269106,2451,3},
        {282234,2452,3},
        {295361,2453,3},
        {308488,2454,3},
        {321615,2455,3},
        {334742,2456,3},
        {347869,2457,3},
        {360996,2458,3},
        {374124,2459,3},
        {387251,2460,3},
        {400378,2461,3},
        {413505,2462,3},
        {426632,2463,3},
        {439759,2464,3},
        {452886,2465,3},
        {466014,2466,3},
        {479141,2467,3},
        {492268,2468,3},
        {505395,2469,3},
        {518522,2470,3},
        {531649,2471,3},
        {544777,5071,3},
        {557904,5131,3},
        {571031,5061,3},
        {584158,5081,3},
        {597285,5091,3},
        {610412,5101,3},
        {623539,5111,3},
        {636667,5121,3},
        {649794,5141,3},
        {662921,519,3},
        {676048,48,3},
        {685893,400,4},
        {695739,511,4},
        {705584,522,4},
        {715429,518,4},
        {721993,15,6},
        {728557,504,6},
        {732932,506,9},
        {737308,502,9},
        {741684,57,9},
        {745622,9020,10},
        {749560,9069,10},
        {753498,33,10},
        {757436,466,10},
        {761374,56,10},
        {765313,500,10},
        {769251,508,10},
        {773189,512,10},
        {777127,514,10},
        {781065,517,10},
        {785003,5003,10},
        {788941,5013,10},
        {792880,5023,10},
        {796818,5033,10},
        {800756,5043,10},
        {804694,5053,10},
        {808632,1067,10},
        {812570,1068,10},
        {816508,1069,10},
        {820447,1070,10},
        {824385,1071,10},
        {828323,1072,10},
        {832261,1073,10},
        {836199,1022,10},
        {840137,1023,10},
        {844075,1024,10},
        {848014,1025,10},
        {851952,1026,10},
        {855890,1027,10},
        {859828,1028,10},
        {863766,1029,10},
        {867704,1030,10},
        {871642,49,10},
        {875223,9018,11},
        {878504,9017,12},
        {881786,9019,12},
        {884815,9021,13},
        {887441,9068,15},
        {890066,8000,15},
        {892692,547,15},
        {895317,501,15},
        {897943,505,15},
        {900568,513,15},
        {903193,5073,15},
        {905819,5133,15},
        {908007,9075,18},
        {910079,9022,19},
        {912049,465,20},
        {914018,503,20},
        {915987,5063,20},
        {917956,5083,20},
        {919925,5093,20},
        {921894,5103,20},
        {923863,5113,20},
        {925832,5123,20},
        {927801,5143,20},
        {929770,50,20},
        {931083,9070,30},
        {932396,9071,30},
        {933708,9072,30},
        {935021,9073,30},
        {936334,9074,30},
        {937646,516,30},
        {938434,2592,50},
        {939222,2593,50},
        {940009,2594,50},
        {940797,2595,50},
        {941585,2596,50},
        {942372,2597,50},
        {943160,2598,50},
        {943947,2599,50},
        {944735,2600,50},
        {945523,2601,50},
        {946310,2602,50},
        {947098,2603,50},
        {947886,2604,50},
        {948673,2605,50},
        {949461,2606,50},
        {950249,2607,50},
        {951036,2608,50},
        {951824,2609,50},
        {952611,2610,50},
        {953399,2611,50},
        {954187,2612,50},
        {954974,2613,50},
        {955762,2614,50},
        {956550,2615,50},
        {957337,1020,50},
        {958125,1065,50},
        {958912,6006,50},
        {959700,6009,50},
        {960488,6034,50},
        {961275,6037,50},
        {962063,47,50},
        {962851,2872,50},
        {963638,2873,50},
        {964426,2874,50},
        {965213,2875,50},
        {966001,2876,50},
        {966789,2877,50},
        {967576,2878,50},
        {968364,2879,50},
        {969020,308,60},
        {969545,507,75},
        {970044,549,79},
        {970536,515,80},
        {971028,509,80},
        {971422,5005,100},
        {971816,5015,100},
        {972210,5025,100},
        {972604,5035,100},
        {972998,5045,100},
        {973391,5055,100},
        {973785,6010,100},
        {974179,6038,100},
        {974573,6121,100},
        {974948,6125,105},
        {975276,1236,120},
        {975604,1237,120},
        {975885,1421,140},
        {976167,1422,140},
        {976448,1423,140},
        {976729,1424,140},
        {977011,1425,140},
        {977292,1426,140},
        {977573,1427,140},
        {977855,1428,140},
        {978136,1429,140},
        {978417,1430,140},
        {978698,1431,140},
        {978980,1432,140},
        {979261,1416,140},
        {979542,1417,140},
        {979824,1418,140},
        {980105,1419,140},
        {980386,1420,140},
        {980668,6061,140},
        {980949,6061,140},
        {981230,6061,140},
        {981511,6061,140},
        {981793,6061,140},
        {982074,6061,140},
        {982355,6067,140},
        {982637,6067,140},
        {982918,6067,140},
        {983199,6067,140},
        {983480,6067,140},
        {983762,6067,140},
        {984043,6056,140},
        {984324,6056,140},
        {984606,6056,140},
        {984887,6056,140},
        {985168,6056,140},
        {985431,5075,150},
        {985693,5135,150},
        {985956,91,150},
        {986218,92,150},
        {986481,93,150},
        {986744,94,150},
        {987006,95,150},
        {987269,96,150},
        {987531,1245,150},
        {987777,103,160},
        {988023,104,160},
        {988270,105,160},
        {988516,106,160},
        {988762,107,160},
        {989008,108,160},
        {989254,109,160},
        {989500,110,160},
        {989732,228,170},
        {989964,229,170},
        {990195,230,170},
        {990427,231,170},
        {990658,232,170},
        {990890,233,170},
        {991122,234,170},
        {991353,235,170},
        {991585,236,170},
        {991817,237,170},
        {992048,238,170},
        {992280,239,170},
        {992512,240,170},
        {992743,241,170},
        {992975,242,170},
        {993194,97,180},
        {993413,98,180},
        {993631,99,180},
        {993850,100,180},
        {994069,101,180},
        {994288,102,180},
        {994495,217,190},
        {994702,218,190},
        {994910,219,190},
        {995117,220,190},
        {995324,221,190},
        {995531,222,190},
        {995739,223,190},
        {995946,224,190},
        {996143,5065,200},
        {996340,5085,200},
        {996537,5095,200},
        {996734,5105,200},
        {996930,5115,200},
        {997127,5125,200},
        {997324,5145,200},
        {997521,209,200},
        {997718,210,200},
        {997915,211,200},
        {998112,212,200},
        {998309,213,200},
        {998506,214,200},
        {998703,215,200},
        {998900,216,200},
        {999096,1253,200},
        {999284,1250,210},
        {999463,6007,220},
        {999642,6008,220},
        {999821,6035,220},
        {1000000,6036,220},

    },

    [4] = {
        {39698,548,1},
        {59547,5001,2},
        {79396,5011,2},
        {99245,5021,2},
        {119094,5031,2},
        {138943,5041,2},
        {158793,5051,2},
        {178642,55,2},
        {198491,510,2},
        {218340,51,2},
        {231572,2472,3},
        {244805,2473,3},
        {258038,2474,3},
        {271271,2475,3},
        {284503,2476,3},
        {297736,2477,3},
        {310969,2478,3},
        {324201,2479,3},
        {337434,2480,3},
        {350667,2481,3},
        {363900,2482,3},
        {377132,2483,3},
        {390365,2484,3},
        {403598,2485,3},
        {416830,2486,3},
        {430063,2487,3},
        {443296,2488,3},
        {456529,2489,3},
        {469761,2490,3},
        {482994,2491,3},
        {496227,2492,3},
        {509459,2493,3},
        {522692,2494,3},
        {535925,2495,3},
        {549158,5071,3},
        {562390,5131,3},
        {575623,5061,3},
        {588856,5081,3},
        {602088,5091,3},
        {615321,5101,3},
        {628554,5111,3},
        {641787,5121,3},
        {655019,5141,3},
        {668252,519,3},
        {681485,48,3},
        {691409,400,4},
        {701334,511,4},
        {711258,523,4},
        {721183,518,4},
        {727799,15,6},
        {734416,504,6},
        {738826,506,9},
        {743237,502,9},
        {747648,57,9},
        {751618,9020,10},
        {755588,9069,10},
        {759558,33,10},
        {763528,466,10},
        {767497,56,10},
        {771467,500,10},
        {775437,508,10},
        {779407,512,10},
        {783377,514,10},
        {787346,517,10},
        {791316,5003,10},
        {795286,5013,10},
        {799256,5023,10},
        {803226,5033,10},
        {807195,5043,10},
        {811165,5053,10},
        {815135,1042,10},
        {819105,1043,10},
        {823075,1044,10},
        {827045,1045,10},
        {831014,1046,10},
        {834984,1047,10},
        {838954,1048,10},
        {842924,1049,10},
        {846894,1050,10},
        {850863,1051,10},
        {854833,1054,10},
        {858803,1055,10},
        {862773,1056,10},
        {866743,1057,10},
        {870713,1058,10},
        {874682,49,10},
        {878291,9018,11},
        {881599,9017,12},
        {884908,9019,12},
        {887961,9021,13},
        {890608,9068,15},
        {893254,8000,15},
        {895901,547,15},
        {898547,501,15},
        {901194,505,15},
        {903841,513,15},
        {906487,5073,15},
        {909134,5133,15},
        {911339,9075,18},
        {913428,9022,19},
        {915413,465,20},
        {917398,503,20},
        {919383,5063,20},
        {921368,5083,20},
        {923353,5093,20},
        {925338,5103,20},
        {927323,5113,20},
        {929308,5123,20},
        {931293,5143,20},
        {933278,50,20},
        {934601,9070,30},
        {935924,9071,30},
        {937247,9072,30},
        {938571,9073,30},
        {939894,9074,30},
        {941217,516,30},
        {942011,2616,50},
        {942805,2617,50},
        {943599,2618,50},
        {944393,2619,50},
        {945187,2620,50},
        {945981,2621,50},
        {946775,2622,50},
        {947569,2623,50},
        {948363,2624,50},
        {949157,2625,50},
        {949951,2626,50},
        {950745,2627,50},
        {951539,2628,50},
        {952333,2629,50},
        {953127,2630,50},
        {953921,2631,50},
        {954715,2632,50},
        {955508,2633,50},
        {956302,2634,50},
        {957096,2635,50},
        {957890,2636,50},
        {958684,2637,50},
        {959478,2638,50},
        {960272,2639,50},
        {961066,1040,50},
        {961860,1052,50},
        {962654,6006,50},
        {963448,6009,50},
        {964242,6034,50},
        {965036,6037,50},
        {965830,47,50},
        {966624,2880,50},
        {967418,2881,50},
        {968212,2882,50},
        {969006,2883,50},
        {969800,2884,50},
        {970594,2885,50},
        {971388,2886,50},
        {972182,2887,50},
        {972711,507,75},
        {973214,549,79},
        {973710,515,80},
        {974206,509,80},
        {974673,309,85},
        {975070,5005,100},
        {975467,5015,100},
        {975864,5025,100},
        {976261,5035,100},
        {976658,5045,100},
        {977055,5055,100},
        {977452,6010,100},
        {977849,6038,100},
        {978227,6122,105},
        {978532,6126,130},
        {978797,5075,150},
        {979062,5135,150},
        {979326,1247,150},
        {979574,1254,160},
        {979808,1255,170},
        {980028,1249,180},
        {980227,5065,200},
        {980425,5085,200},
        {980624,5095,200},
        {980822,5105,200},
        {981021,5115,200},
        {981219,5125,200},
        {981418,5145,200},
        {981607,243,210},
        {981796,244,210},
        {981985,245,210},
        {982174,246,210},
        {982363,247,210},
        {982552,248,210},
        {982741,249,210},
        {982930,250,210},
        {983119,251,210},
        {983300,261,220},
        {983480,262,220},
        {983661,263,220},
        {983841,264,220},
        {984021,265,220},
        {984202,266,220},
        {984382,267,220},
        {984563,268,220},
        {984743,269,220},
        {984924,6007,220},
        {985104,6008,220},
        {985285,6035,220},
        {985465,6036,220},
        {985638,252,230},
        {985810,253,230},
        {985983,254,230},
        {986155,255,230},
        {986328,256,230},
        {986501,257,230},
        {986673,258,230},
        {986846,259,230},
        {987018,260,230},
        {987191,271,230},
        {987364,272,230},
        {987536,273,230},
        {987709,274,230},
        {987881,275,230},
        {988054,276,230},
        {988227,277,230},
        {988399,278,230},
        {988572,279,230},
        {988744,280,230},
        {988917,281,230},
        {989090,282,230},
        {989262,283,230},
        {989435,284,230},
        {989607,285,230},
        {989780,286,230},
        {989953,287,230},
        {990125,288,230},
        {990298,289,230},
        {990470,290,230},
        {990643,291,230},
        {990816,292,230},
        {990988,293,230},
        {991161,294,230},
        {991333,295,230},
        {991506,296,230},
        {991679,297,230},
        {991844,1440,240},
        {992009,1441,240},
        {992175,1442,240},
        {992340,1443,240},
        {992506,1444,240},
        {992671,1445,240},
        {992837,1446,240},
        {993002,1447,240},
        {993167,1448,240},
        {993333,1449,240},
        {993498,1450,240},
        {993664,1451,240},
        {993829,1452,240},
        {993994,1453,240},
        {994160,1433,240},
        {994325,1434,240},
        {994491,1435,240},
        {994656,1436,240},
        {994821,1437,240},
        {994987,1438,240},
        {995152,1439,240},
        {995318,6080,240},
        {995483,6080,240},
        {995648,6080,240},
        {995814,6080,240},
        {995979,6080,240},
        {996145,6080,240},
        {996310,6080,240},
        {996476,6087,240},
        {996641,6087,240},
        {996806,6087,240},
        {996972,6087,240},
        {997137,6087,240},
        {997303,6087,240},
        {997468,6087,240},
        {997633,6073,240},
        {997799,6073,240},
        {997964,6073,240},
        {998130,6073,240},
        {998295,6073,240},
        {998460,6073,240},
        {998626,6073,240},
        {998779,111,260},
        {998931,112,260},
        {999084,113,260},
        {999237,114,260},
        {999389,115,260},
        {999542,116,260},
        {999695,117,260},
        {999847,118,260},
        {1000000,119,260},

    },

    [5] = {
        {40127,548,1},
        {60190,5001,2},
        {80254,5011,2},
        {100317,5021,2},
        {120381,5031,2},
        {140444,5041,2},
        {160508,5051,2},
        {180571,55,2},
        {200634,510,2},
        {220698,51,2},
        {234074,2496,3},
        {247449,2497,3},
        {260825,2498,3},
        {274200,2499,3},
        {287576,2500,3},
        {300952,2501,3},
        {314327,2502,3},
        {327703,2503,3},
        {341079,2504,3},
        {354454,2505,3},
        {367830,2506,3},
        {381206,2507,3},
        {394581,2508,3},
        {407957,2509,3},
        {421332,2510,3},
        {434708,2511,3},
        {448084,2512,3},
        {461459,2513,3},
        {474835,2514,3},
        {488211,2515,3},
        {501586,2516,3},
        {514962,2517,3},
        {528337,2518,3},
        {541713,2519,3},
        {555089,5071,3},
        {568464,5131,3},
        {581840,5061,3},
        {595216,5081,3},
        {608591,5091,3},
        {621967,5101,3},
        {635343,5111,3},
        {648718,5121,3},
        {662094,5141,3},
        {675469,519,3},
        {688845,48,3},
        {698877,400,4},
        {708908,511,4},
        {718940,524,4},
        {728972,518,4},
        {735660,15,6},
        {742348,504,6},
        {746806,506,9},
        {751265,502,9},
        {755723,57,9},
        {759736,9020,10},
        {763749,9069,10},
        {767761,514,10},
        {771774,33,10},
        {775787,466,10},
        {779799,56,10},
        {783812,500,10},
        {787825,508,10},
        {791837,512,10},
        {795850,517,10},
        {799863,5003,10},
        {803875,5013,10},
        {807888,5023,10},
        {811901,5033,10},
        {815914,5043,10},
        {819926,5053,10},
        {823939,1014,10},
        {827952,1015,10},
        {831964,1016,10},
        {835977,1017,10},
        {839990,1018,10},
        {844002,1019,10},
        {848015,1033,10},
        {852028,1034,10},
        {856040,1035,10},
        {860053,1036,10},
        {864066,1037,10},
        {868079,1038,10},
        {872091,1039,10},
        {876104,49,10},
        {879752,9018,11},
        {883096,9017,12},
        {886440,9019,12},
        {889526,9021,13},
        {892201,9068,15},
        {894877,8000,15},
        {897552,547,15},
        {900227,501,15},
        {902902,505,15},
        {905577,513,15},
        {908252,5073,15},
        {910927,5133,15},
        {913157,9075,18},
        {915269,9022,19},
        {917275,465,20},
        {919281,503,20},
        {921288,5063,20},
        {923294,5083,20},
        {925300,5093,20},
        {927307,5103,20},
        {929313,5113,20},
        {931319,5123,20},
        {933326,5143,20},
        {935332,50,20},
        {936670,9070,30},
        {938007,9071,30},
        {939345,9072,30},
        {940682,9073,30},
        {942020,9074,30},
        {943357,516,30},
        {944160,2640,50},
        {944962,2641,50},
        {945765,2642,50},
        {946567,2643,50},
        {947370,2644,50},
        {948173,2645,50},
        {948975,2646,50},
        {949778,2647,50},
        {950580,2648,50},
        {951383,2649,50},
        {952185,2650,50},
        {952988,2651,50},
        {953790,2652,50},
        {954593,2653,50},
        {955395,2654,50},
        {956198,2655,50},
        {957000,2656,50},
        {957803,2657,50},
        {958606,2658,50},
        {959408,2659,50},
        {960211,2660,50},
        {961013,2661,50},
        {961816,2662,50},
        {962618,2663,50},
        {963421,1031,50},
        {964223,1012,50},
        {965026,6006,50},
        {965828,6009,50},
        {966631,6034,50},
        {967433,6037,50},
        {968236,47,50},
        {969039,2888,50},
        {969841,2889,50},
        {970644,2890,50},
        {971446,2891,50},
        {972249,2892,50},
        {973051,2893,50},
        {973854,2894,50},
        {974656,2895,50},
        {975191,507,75},
        {975699,549,79},
        {976201,515,80},
        {976702,509,80},
        {977104,5005,100},
        {977505,5015,100},
        {977906,5025,100},
        {978308,5035,100},
        {978709,5045,100},
        {979110,5055,100},
        {979511,6010,100},
        {979913,6038,100},
        {980262,310,115},
        {980570,6127,130},
        {980857,6123,140},
        {981124,5075,150},
        {981392,5135,150},
        {981592,5065,200},
        {981793,5085,200},
        {981994,5095,200},
        {982194,5105,200},
        {982395,5115,200},
        {982596,5125,200},
        {982796,5145,200},
        {982979,6007,220},
        {983161,6008,220},
        {983343,6035,220},
        {983526,6036,220},
        {983700,1461,230},
        {983875,1462,230},
        {984049,1463,230},
        {984224,1464,230},
        {984398,1465,230},
        {984573,1466,230},
        {984747,1467,230},
        {984914,1468,240},
        {985082,1469,240},
        {985249,1470,240},
        {985416,1471,240},
        {985583,1472,240},
        {985750,1473,240},
        {985917,1474,240},
        {986078,1454,250},
        {986239,1455,250},
        {986399,1456,250},
        {986560,1457,250},
        {986720,1458,250},
        {986881,1459,250},
        {987041,1460,250},
        {987195,6018,260},
        {987350,6019,260},
        {987504,6020,260},
        {987658,6021,260},
        {987813,6022,260},
        {987967,6023,260},
        {988121,6024,260},
        {988276,6011,260},
        {988430,6012,260},
        {988584,6013,260},
        {988739,6014,260},
        {988893,6015,260},
        {989047,6016,260},
        {989202,6017,260},
        {989350,1475,270},
        {989499,1476,270},
        {989648,1477,270},
        {989796,1478,270},
        {989945,1479,270},
        {990093,1480,270},
        {990242,1481,270},
        {990385,120,280},
        {990529,121,280},
        {990672,122,280},
        {990815,123,280},
        {990959,124,280},
        {991102,125,280},
        {991245,126,280},
        {991389,127,280},
        {991532,128,280},
        {991670,299,290},
        {991809,300,290},
        {991947,301,290},
        {992085,302,290},
        {992224,303,290},
        {992362,304,290},
        {992500,305,290},
        {992639,306,290},
        {992777,307,290},
        {992911,1482,300},
        {993045,1483,300},
        {993178,1484,300},
        {993312,1485,300},
        {993446,1486,300},
        {993580,1487,300},
        {993713,1488,300},
        {993847,1489,300},
        {993981,1490,300},
        {994115,1491,300},
        {994248,1492,300},
        {994382,1493,300},
        {994516,1494,300},
        {994650,1495,300},
        {994784,1496,300},
        {994917,1497,300},
        {995051,1498,300},
        {995185,1499,300},
        {995319,6025,300},
        {995452,6026,300},
        {995586,6027,300},
        {995720,6028,300},
        {995854,6029,300},
        {995987,6030,300},
        {996121,6031,300},
        {996255,6032,300},
        {996389,6033,300},
        {996522,6094,300},
        {996656,6094,300},
        {996790,6094,300},
        {996924,6094,300},
        {997057,6094,300},
        {997191,6094,300},
        {997325,6094,300},
        {997459,6094,300},
        {997592,6094,300},
        {997726,6112,300},
        {997860,6112,300},
        {997994,6112,300},
        {998127,6112,300},
        {998261,6112,300},
        {998395,6112,300},
        {998529,6112,300},
        {998662,6112,300},
        {998796,6112,300},
        {998930,6103,300},
        {999064,6103,300},
        {999197,6103,300},
        {999331,6103,300},
        {999465,6103,300},
        {999599,6103,300},
        {999732,6103,300},
        {999866,6103,300},
        {1000000,6103,300},

    },

    [6] = {
        {42853,548,1},
        {64280,5001,2},
        {85706,5011,2},
        {107133,5021,2},
        {128559,5031,2},
        {149986,5041,2},
        {171412,5051,2},
        {192839,55,2},
        {214265,510,2},
        {235692,51,2},
        {249976,5071,3},
        {264260,5131,3},
        {278545,5061,3},
        {292829,5081,3},
        {307113,5091,3},
        {321398,5101,3},
        {335682,5111,3},
        {349966,5121,3},
        {364251,5141,3},
        {378535,519,3},
        {392819,48,3},
        {407104,2520,3},
        {421388,2521,3},
        {435672,2522,3},
        {449957,2523,3},
        {464241,2524,3},
        {478526,2525,3},
        {492810,2526,3},
        {507094,2527,3},
        {521379,2528,3},
        {535663,2529,3},
        {549947,2530,3},
        {564232,2531,3},
        {578516,2532,3},
        {592800,2533,3},
        {607085,2534,3},
        {621369,2535,3},
        {635653,2536,3},
        {649938,2537,3},
        {664222,2538,3},
        {678506,2539,3},
        {692791,2540,3},
        {707075,2541,3},
        {721359,2542,3},
        {735644,2543,3},
        {746357,400,4},
        {757070,511,4},
        {767783,525,4},
        {778497,518,4},
        {785639,15,6},
        {792781,504,6},
        {797543,506,9},
        {802304,502,9},
        {807065,57,9},
        {811351,9020,10},
        {815636,9069,10},
        {819921,514,10},
        {824207,33,10},
        {828492,466,10},
        {832777,56,10},
        {837063,500,10},
        {841348,508,10},
        {845633,512,10},
        {849918,517,10},
        {854204,5003,10},
        {858489,5013,10},
        {862774,5023,10},
        {867060,5033,10},
        {871345,5043,10},
        {875630,5053,10},
        {879916,49,10},
        {883811,9018,11},
        {887382,9017,12},
        {890953,9019,12},
        {894250,9021,13},
        {897107,9068,15},
        {899964,8000,15},
        {902820,547,15},
        {905677,501,15},
        {908534,505,15},
        {911391,513,15},
        {914248,5073,15},
        {917105,5133,15},
        {919486,9075,18},
        {921741,9022,19},
        {923884,465,20},
        {926026,503,20},
        {928169,5063,20},
        {930312,5083,20},
        {932454,5093,20},
        {934597,5103,20},
        {936740,5113,20},
        {938882,5123,20},
        {941025,5143,20},
        {943167,50,20},
        {944596,9070,30},
        {946024,9071,30},
        {947453,9072,30},
        {948881,9073,30},
        {950310,9074,30},
        {951738,516,30},
        {952809,2664,40},
        {953881,2665,40},
        {954952,2666,40},
        {956023,2667,40},
        {957095,2668,40},
        {958166,2669,40},
        {959237,2670,40},
        {960309,2671,40},
        {961380,2672,40},
        {962451,2673,40},
        {963523,2674,40},
        {964594,2675,40},
        {965665,2676,40},
        {966737,2677,40},
        {967808,2678,40},
        {968879,2679,40},
        {969951,2680,40},
        {971022,2681,40},
        {972093,2682,40},
        {973165,2683,40},
        {974236,2684,40},
        {975307,2685,40},
        {976379,2686,40},
        {977450,2687,40},
        {978307,6006,50},
        {979164,6009,50},
        {980021,6034,50},
        {980878,6037,50},
        {981735,47,50},
        {982592,2896,50},
        {983449,2897,50},
        {984306,2898,50},
        {985163,2899,50},
        {986020,2900,50},
        {986878,2901,50},
        {987735,2902,50},
        {988592,2903,50},
        {989163,507,75},
        {989705,549,79},
        {990241,515,80},
        {990777,509,80},
        {991205,5005,100},
        {991634,5015,100},
        {992062,5025,100},
        {992491,5035,100},
        {992919,5045,100},
        {993348,5055,100},
        {993777,6010,100},
        {994205,6038,100},
        {994511,311,140},
        {994797,5075,150},
        {995083,5135,150},
        {995335,6128,170},
        {995549,5065,200},
        {995763,5085,200},
        {995977,5095,200},
        {996192,5105,200},
        {996406,5115,200},
        {996620,5125,200},
        {996834,5145,200},
        {997039,6124,210},
        {997233,6007,220},
        {997428,6008,220},
        {997623,6035,220},
        {997818,6036,220},
        {997976,6039,270},
        {998135,6040,270},
        {998294,6041,270},
        {998453,6042,270},
        {998611,6043,270},
        {998770,6044,270},
        {998929,6045,270},
        {999082,6046,280},
        {999235,6047,280},
        {999388,6048,280},
        {999541,6049,280},
        {999694,6050,280},
        {999847,6051,280},
        {1000000,6052,280},

    },

}

-- 触发积分概率 { 次数, 概率 },
local pointProb = {
         {100,1350},
         {99,1340},
         {98,1330},
         {97,1320},
         {96,1310},
         {95,1300},
         {94,1290},
         {93,1280},
         {92,1270},
         {91,1260},
         {90,1250},
         {89,1240},
         {88,1230},
         {87,1220},
         {86,1210},
         {85,1200},
         {84,1190},
         {83,1180},
         {82,1170},
         {81,1160},
         {80,1150},
         {79,1140},
         {78,1130},
         {77,1120},
         {76,1110},
         {75,1100},
         {74,1090},
         {73,1080},
         {72,1070},
         {71,1060},
         {70,1050},
         {69,1040},
         {68,1030},
         {67,1020},
         {66,1010},
         {65,1000},
         {64,990},
         {63,980},
         {62,970},
         {61,960},
         {60,950},
         {59,940},
         {58,930},
         {57,920},
         {56,910},
         {55,900},
         {54,890},
         {53,880},
         {52,870},
         {51,860},
         {50,850},
         {49,840},
         {48,830},
         {47,820},
         {46,810},
         {45,800},
         {44,790},
         {43,780},
         {42,770},
         {41,760},
         {40,750},
         {39,740},
         {38,730},
         {37,720},
         {36,710},
         {35,700},
         {34,690},
         {33,680},
         {32,670},
         {31,660},
         {30,650},
         {29,640},
         {28,630},
         {27,620},
         {26,610},
         {25,600},
         {24,590},
         {23,580},
         {22,570},
         {21,560},
         {20,550},
         {19,540},
         {18,530},
         {17,520},
         {16,510},
         {15,500},
         {14,490},
         {13,480},
         {12,470},
         {11,460},
         {10,450},
         {9,440},
         {8,430},
         {7,420},
         {6,410},
         {5,400},
         {4,0},
         {3,0},
         {2,0},
         {1,0},
}

-- 副本对应消耗物品
local copyitem = {
    [1] = 9012,
    [2] = 9013,
    [3] = 9014,
    [4] = 9015,
    [5] = 9016,
    [6] = 9035,
}

function luckyDraw(player, id, num, bind)
    local got = {}

    local needitem = copyitem[id]
    if needitem == nil then
        return got 
    end 

    local lvl = player:GetLev()
    local item2gold = 10

    local package = player:GetPackage()
    local bnum = package:GetItemNum(needitem, true)
    local ubnum = package:GetItemNum(needitem, false)

    if (bnum + ubnum) < num then
        player:sendMsgCode(2, 1076, 0)
        return got 
    end

    if package:GetRestPackageSize() < num * 1.5 then
        player:sendMsgCode(2, 1011, 0)
        return got 
    end

    local item = items[id]
    if item == nil then
        return got
    end 

    local money = 0
    local point = 0
    local use = 1 -- 1-bind 2-unbind
    for o = 1, num do
        if use == 1 then
            if bnum ~= 0 then
                bnum = bnum - 1
                bind = true
            else
                use = 2
                bind = false
            end
        end

        if use == 2 then
            if ubnum ~= 0 then
                ubnum = ubnum - 1
            else
                break
            end
        end

        --print('use: ' .. use)

        if use == 1 then
            if package:DelItem(needitem, 1, bind) == false then
                break
            end
        elseif use == 2 then
            if package:DelItem(needitem, 1, bind) == false then
                break
            end
        else
            break
        end

        local x = math.random(1,1000000)
        local sz = #item
        for i = 1,sz do
            if x <= item[i][1] then
                local it = item[i][2]
                print(bind)
                package:Add(it, 1, bind, 0, 14)
                table.insert(got, {it, 1})
                if bind then
                    point = point + item2point2
                else
                    point = point + item2point
                end
                money = money + item[i][3]
                break
            end 
        end

        local p = math.random(1,10000)
        local count = player:GetVar(100)
        local sz1 = #pointProb

        player:AddVar(100, 1)
        if isDebug() then
            player:AddVar(5, 1)
        end

        for n = 1,sz1 do
            if count >= pointProb[n][1] and p <= pointProb[n][2] then
                if bind then
                    player:AddVarS(101, point - money)
                else
                    player:AddVarS(99, point - money)
                end

                if isDebug() then
                    player:AddVar(4, money)
                end

                local yapoint = 0
                if bind then
                    yapoint = player:GetVarS(101)
                else
                    yapoint = player:GetVarS(99)
                end

                if yapoint > 0 then
                    if isDebug() then
                        SendMsg(player, 1, "触发时积分: " .. yapoint)
                    end
                    local pp = 0
                    local pos = 0
                    for k = 1, sz do
                        if yapoint <= item[k][3] then
                            if k > 1 then
                                pp = item[k-1][3]
                            end
                            break
                        end
                        pos = pos + 1
                    end

                    if pos == sz then
                        pp = item[pos][3]
                    end

                    if pp ~= 0 then
                        local yaitem = {}
                        for l = 1, sz do
                            if pp == item[l][3] then
                                table.insert(yaitem, item[l][2])
                            end
                        end

                        local yasz = #yaitem
                        if yasz ~= 0 then
                            if yasz == 1 then
                                local it = yaitem[1]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            else
                                local it = yaitem[math.random(1,yasz)]
                                package:Add(it, 1, bind, 0, 14)
                                table.insert(got, {it, 1})
                            end

                            if bind then
                                yapoint = player:SetVar(101, yapoint - pp)
                            else
                                yapoint = player:SetVar(99, yapoint - pp)
                            end
                        end
                    end
                    player:SetVar(100, 0)
                end

                money = 0
                point = 0
                break
            end
        end
    end

    if point ~= 0 then
        if bind then
            player:AddVarS(101, point - money)
        else
            player:AddVarS(99, point - money)
        end
    end

    if isDebug() then
        player:AddVar(4, money)
        SendMsg(player, 1, "次数: " .. player:GetVar(100) .. ", 绑分: " .. player:GetVarS(101) .. ", 非绑分: " .. player:GetVarS(99) .. " 总积分: " .. player:GetVar(4) .. " 总次数: " .. player:GetVar(5))
    end

    return got 
end

